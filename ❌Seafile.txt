â¤ï¸ï¸ ç®€ä»‹

    ä¼ä¸šäº‘ç›˜, å®˜ç½‘ï¼šhttps://www.seafile.com/download/


    ğŸ”¸å‡†å¤‡å·¥ä½œ:
        å®‰è£…å¥½LNMPç¯å¢ƒå°±æ­å»ºå¥½ mysqlæ•°æ®åº“.å’Œ nginxäº†. è¯¦æƒ…å‚è€ƒ:vps.txt
        Python å‡çº§:  å‚è€ƒ Python-update.txt

        éœ€è¦ç”¨åˆ°æ•°æ®åº“:  ä¸ªäººå»ºè®®ç”¨ SQLiteã€ä¼ä¸šå»ºè®®ç”¨ MySQL 
        éœ€è¦WebæœåŠ¡å™¨:   Nginx æˆ–è€… Apache 
        python 2.7+


â¤ï¸ å®‰è£…:


ğŸ”µ ä¸‹è½½ seafile-server åˆ°/rootç›®å½•.
wget http://seafile-downloads.oss-cn-shanghai.aliyuncs.com/seafile-server_6.0.9_i386.tar.gz

mkdir seafile                               ğŸ”… rootç›®å½•ä¸‹æ–°å»ºä¸ªseafileæ–‡ä»¶å¤¹
mv seafile-server_* seafile                 ğŸ”… ç§»åŠ¨å‹ç¼©åŒ…åˆ° seafile æ–‡ä»¶å¤¹ä¸­; æ˜Ÿå·:åŒ¹é….
cd seafile && tar -xzf seafile-server_*     ğŸ”… cdåˆ° seafile å¹¶è§£å‹æ–‡ä»¶
cd seafile-server-6.0.9 


è¿™é‡Œå°±æœ‰é€‰æ‹©äº†
./setup-seafile.sh           ç”¨sqlite3 æ¥å½“æ•°æ®åº“ ç„¶åå¼€å§‹å®‰è£… seafile æœåŠ¡å™¨.
./setup-seafile-mysql.sh     ç”¨mysql   æ¥å½“æ•°æ®åº“ ç„¶åå¼€å§‹å®‰è£… seafile æœåŠ¡å™¨.

æˆ‘ä»¬é€‰æ‹©mysql.è¿™é‡Œå®‰è£…è¿‡ç¨‹é¦–å…ˆä¼šæ£€æŸ¥ä¸€äº›ä¾èµ–.æ²¡æœ‰çš„è‡ªå·±å®‰è£…!!!





 python-imaging  is not installed, Please install it first.
ğŸ”µ å®‰è£… Python Imaging :
    æœ‰ä¸ªpythonçš„æˆ‘ä»¬éƒ½ç”¨ pipæ¥å®‰è£… æ–¹ä¾¿å¾ˆå¤š.
    å›¾å‹å¤„ç†åº“Python Imaging Library(PIL)
    ç”±äºPILåŸºæœ¬æŒ‚äº†. æˆ‘ä»¬ç”¨ pillow æ¥ä»£æ›¿.
   ğŸ”… pip install Pillow
   

    æˆ–è€…ä½ å¯ä»¥ç°åœ¨æ‰‹åŠ¨ä¸‹è½½ç¼–è¯‘ Python Imagin
        wget http://effbot.org/downloads/Imaging-1.1.7.tar.gz

        tar xvf Imaging-1.1.7.tar.gz
        cd Imaging-1.1.7
        python setup.py install



 python-mysqldb  is not installed, Please install it first.
ğŸ”µ å®‰è£… MySQL-python
    seafile éœ€è¦ç”¨åˆ°æ•°æ®åº“.
    ä½ å¯ä»¥é€‰æ‹©ç”¨ sqliteæ•°æ®åº“. ä¹Ÿå¯ä»¥é€‰æ‹©ç”¨ mysqlæ•°æ®åº“.
    è¿˜æ˜¯mysqlå§.   
    seafile å®‰è£…ç¨‹åºå°±æ˜¯ç”¨ pythonå†™çš„.
    python è¦æ“ä½œmysql å°±å¾—å®‰è£… mysqldb è¿™ä¸ªä¸œè¥¿. é€šè¿‡è¿™ä¸ªæ‰èƒ½æ“ä½œmysqlæ•°æ®åº“.
    â—â—ï¸â—ï¸è¦ç”¨pipå®‰è£… MySQL-python. å¿…é¡»å…ˆå®‰è£… python-develã€mysql-devel

    yum install python-devel
    yum install mysql-devel
    pip install MySQL-python






ğŸ”µ å®‰è£…seafileä¸»ç¨‹åº
 python setup-seafile-mysql.py


1. è¾“å…¥ server name   
2. æœåŠ¡å™¨IP/åŸŸå       
3. æ–‡ä»¶å­˜æ”¾è·¯å¾„:       
4. é€‰æ‹©ç«¯å£:           
5. æ•°æ®åº“.             
6. æ•°æ®åº“æœåŠ¡å™¨åœ°å€.     
7. æ•°æ®åº“ç«¯å£.            
8. root çš„å¯†ç .... 
9. åˆ›å»ºç”¨æˆ·å:              
10 ç»™ seafile ç”¨æˆ·åˆ›å»ºå¯†ç :  xujian
11 åˆ›å»ºccnetserverd æ•°æ®åº“å: å«File
12 åˆ›å»ºseafile-server æ•°æ®åº“å: File2
13 åˆ›å»ºseahub çš„æ•°æ®åº“å: File3


This is your configuration
---------------------------------

    server name:            xujian
    server ip/domain:       www.0214.help

    seafile data dir:       /root/seafile/seafile-data
    fileserver port:        8082

    database:               create new

    database user:          seafile
    xujian

    ccnet database:         é»˜è®¤
    seafile database:       é»˜è®¤
    seahub database:        é»˜è®¤


âŒ Error: Failed to init seahub database: Specified key was too long; max key length is 1000 bytes

ä¸«çš„... ...  å†³å®šæ”¾å¼ƒäº†. è‡³å°‘ mysql5.5 ... ä¸è¡Œ..æ‡’å¾—æŠ˜è…¾äº†.



./seafile.sh start # å¯åŠ¨ seafile æœåŠ¡
./seahub.sh start # å¯åŠ¨ seahub ç½‘ç«™ ï¼ˆé»˜è®¤è¿è¡Œåœ¨8000ç«¯å£ä¸Šï¼‰





âŒ LC_ALL is not set in ENV, set to en_US.UTF-8
    Linux ç”¨ locale æ¥è®¾ç½®ç¨‹åºè¿è¡Œçš„ä¸åŒçš„è¯­è¨€ç¯å¢ƒ.

    å‘½åè§„åˆ™ä¸º<è¯­è¨€>_<åœ°åŒº>.<å­—ç¬¦é›†ç¼–ç >
    zh_CN.UTF-8ï¼Œzhä»£è¡¨ä¸­æ–‡ï¼ŒCNä»£è¡¨å¤§é™†åœ°åŒºï¼ŒUTF-8è¡¨ç¤ºå­—ç¬¦é›†ã€‚

    LC_ALL
    å®ƒæ˜¯ä¸€ä¸ªå®ï¼Œå¦‚æœè¯¥å€¼è®¾ç½®äº†ï¼Œåˆ™è¯¥å€¼ä¼šè¦†ç›–æ‰€æœ‰LC_*çš„è®¾ç½®å€¼ã€‚æ³¨æ„ï¼ŒLANGçš„å€¼ä¸å—è¯¥å®å½±å“ã€‚
    å“ªé‡Œå»è®¾ç½®å‘¢.

    æ¯æ¬¡è£…ä¸œè¥¿éƒ½ä¼šå‡ºç°  LC_ALLæœªè®¾ç½®ã€‚
    åªèƒ½é€šè¿‡export LC_ALL=C æ¥ç¼“è§£ï¼Œè€Œä¸”é‡å¯ååˆä¼šä¸¢å¤±
    vi ~/.zshrc  æ·»åŠ ä¸‹é¢è¡Œå°±å¯ä»¥äº† 
    export LC_ALL="en_US.UTF-8"





