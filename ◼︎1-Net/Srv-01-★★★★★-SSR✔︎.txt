ðŸ”¶ ç®€ä»‹

æž¶æž„ï¼š 
vps1 åŽç«¯ï¼ˆèŠ‚ç‚¹1ï¼‰
vps2 åŽæ®µ ï¼ˆèŠ‚ç‚¹2ï¼‰
GCE  å‰ç«¯ï¼‹åŽç«¯ï¼ˆèŠ‚ç‚¹3ï¼‰ï¼‹æ•°æ®åº“

æ³¨å†Œï¼š  ssã€‚0214.help 

åŽç«¯æ•°æ®åº“é…ç½®æ–‡ä»¶ï¼š  vi /root/shadowsocksr/usermysql.json


ðŸ”¶ ä¸´æ—¶å¸å·ï¼ 
    23.105.192.96   443
    åŠ å¯†ï¼š  chacha20 
    å¯†ç  UUrtCi



ðŸ”¶ å…¶ä»– 

    è¦æ”¹æµé‡  æ”¹ç«¯å£ ç›´æŽ¥åŽ»æ•°æ®åº“æ”¹å°±å¯ä»¥äº†ï¼ 
    ä¸ªåˆ«æ”¹  ç›´æŽ¥ç”¨ GUI æ•°æ®åº“è½¯ä»¶ã€‚ 
    æ‰¹é‡æ”¹ã€‚ å°±è¦ç”¨ mysql å‘½ä»¤äº†ã€‚
    æ¯”å¦‚æ‰¹é‡ä¿®æ”¹æµé‡ï¼ æ¯”å¦‚é»˜è®¤æ¯äººæµé‡æ˜¯ 20G  æˆ‘è¦æ‰€æœ‰äººéƒ½200G


ðŸ”¶ é‡ç‚¹ 

    æ®è¯´ æŠŠç«¯å£æ”¹æˆ 443/80 å¯ä»¥é¿å…è¢«å¢™ï¼ 
    å› ä¸ºåœ¨æ€Žä¹ˆå¢™ï¼ ä½ è¿žç½‘ç«™ç«¯å£éƒ½å¢™çš„è¯ å°±å¤ªè¿‡åˆ†äº†ã€‚ã€‚ã€‚ã€‚



ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶  ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶ ðŸ”¶

æœ¬æ–‡å‚è€ƒ   https://91vps.club/2017/05/26/ss-panel/


â—ï¸â—ï¸ ss-panel å®˜æ–¹é¡¹ç›®orvice/ss-panel éžå¸¸éžå¸¸å¤šçš„å‘!!! ç³»ç»Ÿçš„å…¼å®¹æ€§æœ‰å¤§é—®é¢˜!
â—ï¸â—ï¸ ss-panel å®˜æ–¹é¡¹ç›®orvice/ss-panel éžå¸¸éžå¸¸å¤šçš„å‘!!! ç³»ç»Ÿçš„å…¼å®¹æ€§æœ‰å¤§é—®é¢˜!
â—ï¸â—ï¸ ss-panel å®˜æ–¹é¡¹ç›®orvice/ss-panel éžå¸¸éžå¸¸å¤šçš„å‘!!! ç³»ç»Ÿçš„å…¼å®¹æ€§æœ‰å¤§é—®é¢˜!

â—ï¸â—ï¸ centos6 æˆ‘å®‰è£…å¥½äº†. centos7 ä¸«çš„èŠ±äº†æˆ‘5å¤© è¿˜æ²¡æžå®š. æµªè´¹ç”Ÿå‘½. 
â—ï¸â—ï¸ æœ€ç»ˆæˆ‘é€‰æ‹©äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ss-panel. https://github.com/mmmwhy/ss-panel
â—ï¸â—ï¸ æœ¬æ–‡çš„æ•™ç¨‹ æ˜¯åŸºäºŽä¸Šé¢ç¬¬ä¸‰æ–¹çš„. è€Œä¸æ˜¯å®˜æ–¹çš„ss-panel





ðŸ”¸ åŸŸåå¸¸è¯†

    ä¸€ä¸ªåŸŸåç»‘å®šä¸€ä¸ªå…¬ç½‘IP;
    ä¸€ä¸ªåŸŸåå¯¹åº”ä¸€ä¸ªæœåŠ¡å™¨(ä¸€èˆ¬æƒ…å†µ);
    ä¸€ä¸ªåŸŸåä¸ç­‰äºŽä¸€ä¸ªç½‘ç«™, 
    è´­ä¹°æ¥çš„åŸŸåæ˜¯ 0214.live æ˜¯æ²¡æœ‰å‰ç¼€çš„.ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥è‡ªå®šä¹‰å‰ç¼€.
    www.0214.liveã€ss.0214.liveã€blog.0214.live ......

    æœ€å¸¸ç”¨çš„å°±æ˜¯ www.0214.live è¿™ä¸ªå¸¦wwwå‰ç¼€çš„.
    ä»»ä½•å…¶ä»–å‰ç¼€å°±å«äºŒçº§åŸŸå.
    www.0214.live å¯ä»¥å¯¹åº”ä¸€ä¸ªç½‘ç«™
    xxx.0214.live ä¹Ÿå¯ä»¥å¯¹åº”ä¸€ä¸ªç½‘ç«™.
    è¦å®žçŽ°ä¸Šé¢çš„åŠŸèƒ½å°±æ¶‰åŠåˆ°æœåŠ¡å™¨çš„nginxé…ç½®äº†.


ðŸ”¸ Nginxå¸¸è¯† (centos7)

    ä¸€ä¸ªç½‘ç«™ åœ¨æœåŠ¡å™¨ä¸Šå«è™šæ‹Ÿä¸»æœº.
    ä¸€ä¸ªæœåŠ¡å™¨å¯ä»¥æœ‰å¤šä¸ªè™šæ‹Ÿä¸»æœº. ä½ å¯ä»¥æ–°å¢ž/åˆ é™¤/æ˜¾ç¤º...
    è™šæ‹Ÿä¸»æœºçš„åå­—å¯ä»¥ä»»æ„å–,ä½†æ˜¯ä¸€èˆ¬ç›´æŽ¥æŠŠ åŸŸåçš„ç½‘å€ è®¾ç½®æˆè™šæ‹Ÿä¸»æœºçš„åå­—.
    æ¯ä¸ªè™šæ‹Ÿä¸»æœºéƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶

      å¦‚ www.0214.live å¯¹åº”ä¸€ä¸ªå« www.0214.live çš„è™šæ‹Ÿä¸»æœºå. 
      é…ç½®æ–‡ä»¶å°±æ˜¯   /usr/local/nginx/conf/vhost/www.0214.live.conf

      å¦‚ ss.0214.live å¯¹åº”ä¸€ä¸ªå« ss.0214.live çš„è™šæ‹Ÿä¸»æœºå. 
      é…ç½®æ–‡ä»¶å°±æ˜¯   /usr/local/nginx/conf/vhost/ss.0214.live.conf

      å¦‚ blog.0214.live å¯¹åº”ä¸€ä¸ªå« blog.0214.live çš„è™šæ‹Ÿä¸»æœºå. 
      é…ç½®æ–‡ä»¶å°±æ˜¯   /usr/local/nginx/conf/vhost/blog.0214.live.conf


    â—ï¸ nginix æœ‰ä¸ªé»˜è®¤çš„ nginxé…ç½®æ–‡ä»¶ /usr/local/nginx/conf/nginx.conf 
    â—ï¸ nginix æœ‰ä¸ªé»˜è®¤çš„ nginxé…ç½®æ–‡ä»¶ /usr/local/nginx/conf/nginx.conf 
          è¿™ä¸ªé…ç½®æ–‡ä»¶çš„æœ€åŽä¸€è¡Œæ˜¯ include vhost/*.conf;
          ä¼šè‡ªåŠ¨åŠ è½½ /usr/local/nginx/conf/vhost/ä¸‹é¢æ‰€æœ‰ä»¥.confåŽç¼€çš„æ–‡ä»¶.
          vhost æ–‡ä»¶å¤¹é‡Œæ˜¯æ‰€æœ‰çš„è™šæ‹Ÿä¸»æœºé…ç½®:www.0214.live.conf...
          ä¹Ÿå°±æ˜¯Nginxé»˜è®¤åŠ è½½æ‰€æœ‰è™šæ‹Ÿä¸»æœºé…ç½®çš„.

    â—ï¸ä¸è¦ä¿®æ”¹ nginx é»˜è®¤çš„é…ç½®æ–‡ä»¶. å°½é‡ä¿®æ”¹æ¯ä¸ªè™šæ‹Ÿä¸»æœºå•ç‹¬çš„nginxé…ç½®æ–‡ä»¶.
    â—ï¸ä¸è¦ä¿®æ”¹ nginx é»˜è®¤çš„é…ç½®æ–‡ä»¶. å°½é‡ä¿®æ”¹æ¯ä¸ªè™šæ‹Ÿä¸»æœºå•ç‹¬çš„nginxé…ç½®æ–‡ä»¶.



ðŸ”¸ Nginx.conf é»˜è®¤é…ç½®æ–‡ä»¶è¯¦è§£.
    ä»»ä½•è½¯ä»¶çš„é…ç½®æ–‡ä»¶ ä¸€èˆ¬éƒ½æ˜¯åˆ†æˆå¥½å‡ ä¸ªæ¨¡å—çš„. æ¯ä¸ªæ¨¡å—è´Ÿè´£æŸä¸ªåŠŸèƒ½

    â¦¿ nginx.conf ä¸‰å¤§æ¨¡å—ï¼š 
       â€¢ events {...}  âžœ ä¸ç®¡
       â€¢ http   {...}  âžœ ä¸ç®¡
       â€¢ server {...}  âžœ æœ€é‡è¦



        main      (å…¨å±€è®¾ç½®)
        events    (nginxå·¥ä½œæ¨¡å¼)
        http      (httpè®¾ç½®) 
        sever     (ä¸»æœºè®¾ç½®) â—ï¸â—ï¸â—ï¸ 
        location  (URLåŒ¹é…)
        upstream  (è´Ÿè½½å‡è¡¡æœåŠ¡å™¨è®¾ç½®)


ðŸ”¸ Server {} å¤§æ¨¡å—è¯¦è§£
    è¿™ä¸ªå¤§æ¨¡å—æœ‰å¾ˆå¤šå°æ¨¡å—ç»„æˆ. æœ€é‡è¦çš„æ˜¯
    å…¶å®žæ¯ä¸ªè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶éƒ½æ˜¯ä¸€ä¸ª server{}æ¨¡å—.
    ç„¶åŽæŠŠæ‰€æœ‰çš„è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶éƒ½ å¯¼å…¥åˆ°é»˜è®¤é…ç½®æ–‡ä»¶ä¸­.
    å…¶å®žæœ€ç»ˆçš„ é»˜è®¤é…ç½®æ–‡ä»¶ å°±æ˜¯ å¯¼å…¥äº†å¾ˆå¤š server{}æ¨¡å—è€Œå·².

    â€¢ listen
    â€¢ server_name
    â€¢ root
    â€¢ location


    â¦¿ listen: 80; 
        ç›‘å¬ç«¯å£. ä¸€èˆ¬éƒ½æ˜¯80. ä¸ç”¨æ”¹
          http://www.0214.live == http://www.0214.live:80
          https://www.0214.live == https://www.0214.live:443

          http://ss.0214.live == http://ss.0214.live:80
          https://ss.0214.live == https://ss.0214.live:443


    â¦¿ server_name â—ï¸ åŸŸå â—ï¸
        ç”¨æˆ·ä¸ç®¡æ˜¯é€šè¿‡å•å‡»é“¾æŽ¥ æˆ–è€…è¾“å…¥ç½‘å€ æ¥è®¿é—®ä½ çš„ç½‘ç«™.é‡ç‚¹å°±åœ¨è¿™ä¸ª URL ç½‘å€
        ç”¨æˆ·å…ˆè¦è®¿é—®ä¸åŒçš„å†…å®¹ å°±å¾—ç‚¹å‡»ä¸åŒçš„ç½‘å€. 

        ä¸ç®¡ç”¨æˆ·ç‚¹å‡»çš„æ˜¯ä»€ä¹ˆç½‘ç«™. åªè¦æ˜¯å‘ç»™ä½ çš„æœåŠ¡å™¨çš„. é‚£ä¹ˆé¦–å…ˆ Nginx ä¼šç¬¬ä¸€ä¸ªå‡ºæ¥å¹²æ´».
        å¦‚æžœç”¨æˆ·è¦è®¿é—® www.0214.live é‚£ä¹ˆNginx å°±åŽ»æ‰¾ www.0214.live è¿™ä¸ªè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶.
        æŒ‰ç…§é‡Œé¢çš„é…ç½®, æ‰¾åˆ° www.0214.live çš„é»˜è®¤é¦–é¡µ index.php çš„è·¯å¾„. 
        å¦‚æžœç”¨æˆ·è¦è®¿é—® ss.0214.live é‚£ä¹ˆNginx å°±åŽ»æ‰¾ ss.0214.live è¿™ä¸ªè™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶.
        æŒ‰ç…§é‡Œé¢çš„é…ç½®, æ‰¾åˆ° ss.0214.live çš„é»˜è®¤é¦–é¡µ index.php çš„è·¯å¾„. 

        è¿™æ ·å°±è¾¾åˆ°äº†ç”¨æˆ·è®¿é—®ä¸åŒç½‘ç«™ æ˜¾ç¤ºä¸åŒç½‘é¡µå†…å®¹çš„åŠŸèƒ½.
        server_name å°±æ˜¯å¯¹åº” ç”¨æˆ·ç½‘å€çš„.

        æ‰€ä»¥ www.0214.live è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶(/usr/local/nginx/conf/vhost/www.0214.live.conf)
        é‡Œçš„ server_name å°±åº”è¯¥æ˜¯
        server_name www.0214.live;
        è¿™æ ·ä¸ç®¡æ˜¯ www.0214.live/xx.htmlã€www.0214.live/xx2.html..
        åªè¦æ˜¯www.0214.live å¼€å¤´çš„ç½‘å€ éƒ½äº¤ç»™ www.0214.live è¿™ä¸ªè™šæ‹Ÿä¸»æœºå¤„ç†.



    â¦¿ root  â—ï¸ æ–‡ä»¶çš„å­˜æ”¾è·¯å¾„â—ï¸
        æ¯ä¸ªè™šæ‹Ÿä¸»æœºæ˜¯ä¸€ä¸ªç½‘ç«™. ç½‘ç«™æ˜¯æœ‰å¾ˆå¤šå¾ˆå¤šæ–‡ä»¶ç»„æˆçš„. æ˜¯ä¸€ä¸ªé¡¹ç›®!
        é¡¹ç›®å°±æœ‰ä¸ªé¡¹ç›®è·¯å¾„. root å°±æ˜¯è®¾ç½®ç»™æ¯ä¸ªè™šæ‹Ÿä¸»æœºè®¾ç½®è·¯å¾„çš„.
        è¿™ä¸ªå°±å« è™šæ‹Ÿä¸»æœºçš„æ ¹ç›®å½•.  ä¸æ˜¯ç½‘ç«™çš„é»˜è®¤æ ¹ç›®å½•.
        ä½ åˆ›å»ºä¸€ä¸ªå« xx.0214.live çš„è™šæ‹Ÿä¸»æœº. å°±ä¼šåœ¨/home/wwwroot/ ä¸‹è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå« xx.0214.live çš„æ–‡ä»¶å¤¹.
        è¿™ä¸ªxx.0214.live æ–‡ä»¶å¤¹å°±æ˜¯è¿™ä¸ªxx.0214.liveè™šæ‹Ÿä¸»æœºçš„é»˜è®¤æ ¹ç›®å½•. 
        å¦‚æžœä½ åœ¨xx.0214.live ä¸‹å»ºç«‹ä¸€ä¸ªå« yy.html çš„æ–‡ä»¶, 
        é‚£ä¹ˆä½ å°±å¯ä»¥ç”¨æµè§ˆå™¨è¾“å…¥ xx.0214.live/yy.html æ¥è®¿é—®è¿™ä¸ªæ–‡ä»¶.


        ä½†æ˜¯.ä¸€ä¸ªç½‘ç«™æ˜¯ç”±å¾ˆå¤šæ–‡ä»¶ã€æ–‡ä»¶å¤¹ç»„æˆçš„. ç½‘ç«™æž¶æž„
        xx.0214.live
          -- file1
          -- file2
          -- Folder1
          -- Folder2
          -- public
              -- index.html
              -- robots.txt


        ä¸ºäº†å®‰å…¨(è¿™é‡Œä¸å±•å¼€) 
        ç½‘ç«™çš„é¦–é¡µ(index.html/index.php) æ˜¯æ”¾åœ¨é¡¹ç›®æŸä¸ªå­æ–‡ä»¶å¤¹(å¦‚ public)ä¸­çš„.
        è€Œä¸æ˜¯æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½• ss.0214.live æ–‡ä»¶å¤¹ä¸‹çš„.
        é‚£ä¹ˆçŽ°åœ¨ æˆ‘ä»¬è¦è®¿é—®ç½‘ç«™é¦–é¡µ å°±å¾—è¾“å…¥ xx.0214.live/public/index.html æ¥è®¿é—®.
        å¦‚æžœä½ è¾“å…¥ xx.0214.live é‚£ä¹ˆå¯¹ä¸èµ·. ç½‘é¡µæ²¡ä»»ä½•æ˜¾ç¤º...
        ç½‘ç«™æ˜¯å®‰å…¨äº†.ä½†æ˜¯ç”¨æˆ·ä½“éªŒå¾ˆå·®. ç”¨æˆ·èƒ½è®°ä½ xx.0214.live å·²ç»å¾ˆä¸é”™äº†.ç½‘å€é•¿äº†è‚¯å®šè®°ä¸ä½.
        æ€Žä¹ˆæ‰èƒ½ å®‰å…¨å’Œç”¨æˆ·ä½“éªŒå…¼å¾—å‘¢. æœ‰åŠžæ³•çš„.




    â¦¿ location â—ï¸ è·¯ç”± â—ï¸

        é»˜è®¤ä½ å¯ä»¥ç”¨ xx.0214.live/public/index.html æ¥è®¿é—®ç½‘ç«™é¦–é¡µ.
        ä½†æ˜¯å¦‚æžœä½ æƒ³è¾¾åˆ°è®¿é—® xx.0214.live/index.html ç­‰äºŽè®¿é—® xx.0214.live/public/index.html
        é‚£ä¹ˆå°±å¾—è®¾ç½®è¿™é‡Œ.

        location è¯­æ³•: location å‚æ•°A(å­—ç¬¦ä¸²/æ­£åˆ™å¼) å‚æ•°B(ä¸€æ®µä»£ç )
        â—ï¸ å‚æ•°A ç”¨æ¥åŒ¹é…ç”¨æˆ·è¯·æ±‚ç½‘å€ä¸­æŸä¸ªç‰¹å®šç›®å½•.
        æˆ‘ä»¬è¿™é‡Œ ç”¨æˆ·è¯·æ±‚çš„ç½‘å€æ˜¯ xx.0214.live/index.html 
        æˆ‘ä»¬è¦åŒ¹é…/è¿™ä¸ªç›®å½•. æŠŠ/ å˜æˆ /public/ ç„¶åŽå†å¤„ç†. å°±å¯ä»¥äº†.
        è¿™é‡Œçš„/å…¶å®žæ˜¯ä¸ªæ­£åˆ™å¼. ä¹Ÿå°±æ˜¯åŒ¹é…æ‰€æœ‰ xx.0214.live å¼€å¤´çš„ç½‘å€

        location / { }  å‚æ•°A ç¡®å®šäº† é‚£ä¹ˆå‚æ•°Bè¯¥æ€Žä¹ˆå†™å‘¢.
        â—ï¸ å‚æ•°B çš„ä½œç”¨å°±æ˜¯ åŠ è½½åä¸º try_files çš„æ–‡ä»¶â—ï¸ 
        å¦‚æžœå‚æ•°Bé‡Œä¸æ·»åŠ ä»»ä½•å†…å®¹.  é‚£ä¹ˆé»˜è®¤å¯»æ‰¾é¡¹ç›®ä¸­çš„ index.htmlæ–‡ä»¶.

          è§£æžå®žä¾‹:  location / { try_files $uri $uri/ /index.html; }
          
          â—ï¸ $uriã€$uri/ã€/index.html æ˜¯ä¸‰ä¸ªè·¯å¾„! â—ï¸
          æ¯ä¸ªè·¯å¾„ä¸­åŽ» æ‰¾ index.html æ–‡ä»¶.

          é¦–å…ˆæŸ¥æ‰¾ $uri > æ‰¾ä¸åˆ°å†æ‰¾ $uri/ > æ‰¾ä¸åˆ°å†åŽ» /index.html 


          è®¿é—® http://carrot.is.about å’Œ http://carrot.is/about.html æ—¶ä½ ä¼šå¾—åˆ°ç›¸åŒçš„æ–‡ä»¶

          â¦¿ $uri  
          ä½ æ²¡çœ‹é”™è¿™é‡Œä¸æ˜¯ $url è€Œæ˜¯ $uri 

    è¯´äº†è¿™ä¹ˆå¤š. è¿˜æ˜¯æ¥å®žè·µä¸‹å§. 



    åœ¨å®žé™…é¡¹ç›®ä¸­ï¼Œç»å¸¸ä¼šç”¨Nginxå¯¹ç‰¹å®šçš„å®¢æˆ·ç«¯è¯·æ±‚åšæ”¹å†™ï¼ˆå³rewriteï¼‰åŽè¿”å›žæˆ–å°†æ”¹å†™åŽçš„request_urlä¼ ç»™åŽç«¯real serveråšä¸šåŠ¡é€»è¾‘çš„å¤„ç†ã€‚

    ä¸Šé¢æ˜¯Nginxæ–‡æ¡£å¯¹rewriteè¯­æ³•è§„åˆ™çš„è¯´æ˜Žï¼Œå¯çŸ¥rewriteé…ç½®ç”±4éƒ¨åˆ†æž„æˆï¼š 
    1ï¼‰å…³é”®å­—rewriteè¡¨æ˜Žè¿™æ˜¯ä¸€ä¸ªrewriteè§„åˆ™ 
    2ï¼‰æ­£åˆ™è¡¨è¾¾å¼regexç”¨äºŽç­›é€‰æ»¡è¶³regexæ¡ä»¶çš„client request uri 
    3ï¼‰replacementç”¨äºŽæ›¿æ¢uriä¸­å‘½ä¸­regexæ¨¡å¼çš„éƒ¨åˆ† 
    4ï¼‰å¯é€‰å‚æ•°flagç”¨äºŽæŽ§åˆ¶Nginxå¯¹æ»¡è¶³æœ¬æ¡rewriteè§„åˆ™çš„uriçš„åŽç»­å¤„ç†è¡Œä¸º


    è¿˜å¯çœ‹åˆ°ï¼Œrewriteé…ç½®å¯ä»¥ä½äºŽserveræˆ–locationåŒºå—ï¼ˆä¸€ä¸ªå…¸åž‹çš„Nginxé…ç½®æ–‡ä»¶é€šå¸¸ç”±http ==> server ==> locationä¸‰ä¸ªå±‚çº§æž„æˆï¼‰ï¼Œè¿˜å¯ä»¥ä¸Žifæ¡ä»¶è¯­æ³•ç»“åˆä½¿ç”¨ã€‚ 
    å¤‡æ³¨ï¼šNginxçš„ifé…ç½®é¡¹åœ¨ä½¿ç”¨ä¸å½“æ—¶ä¼šå¼•å‘è¯¡å¼‚è¡Œä¸ºï¼ˆå¯å‚è€ƒnginx wikiçš„If Is Evilè¿™ç¯‡æ–‡ç« ï¼‰ï¼Œé€šå¸¸ä¸æŽ¨èæ–°æ‰‹ä½¿ç”¨ã€‚


    ä¼ªé™æ€å¯ä»¥ä½¿URLæ›´åŠ ç®€æ´ä¹Ÿåˆ©äºŽSEOï¼Œå¦‚ç¨‹åºæ”¯æŒå¹¶ä¸”éœ€è¦è®¾ç½®ä¼ªé™æ€çš„è¯ï¼Œå¦‚å¯ç”¨è¾“å…¥ y ï¼Œä¸å¯ç”¨è¾“å…¥ n å›žè½¦ã€‚









ðŸ”¸ åºŸè¯ 


    â€¢ åˆ—/å¢ž/åˆ è™šæ‹Ÿä¸»æœº: lnmp vhost list/add/del

    é‡å¯nginx : /usr/local/nginx/sbin/nginx â€“s reload



â¤ï¸ èƒ¡è¨€ä¹±è¯­:

    å›½å¤–vpsæœåŠ¡å™¨ä¸Šå®‰è£…ä¸ª ShadowSocks ç¨å¾®é…ç½®ä¸‹å°±èƒ½ç¿»å¢™äº†.

    æœåŠ¡å™¨ä¸Šçš„æµé‡ç”¨ä¸å®Œ,æƒ³åˆ†äº«ç»™æœ‹å‹ä½¿ç”¨.
    é‚£å°±éœ€è¦è¿›è¡Œå¸å·ç®¡ç†.æœ€å¥½è¿˜èƒ½çœ‹æ¯ä¸ªäººç”¨äº†å¤šå°‘æµé‡ç­‰ç­‰åŠŸèƒ½.
    è¿™å°±éœ€è¦ä¸€ä¸ªå‰ç«¯çš„ç½‘é¡µ,æ¥è¿›è¡Œå„ç§æ“ä½œ.è¿™ä¸ªç½‘é¡µå°±æ˜¯å‰ç«¯. å·²ç»æœ‰äººå¸®æˆ‘ä»¬å†™å¥½è¿™ä¸ªç½‘é¡µäº†.è¿™å°±æ˜¯ SS-Panel.


    ðŸ”µ ä¸»è¦ç›®çš„: 
        æ­å»ºä¸€ä¸ªShadowSocksåŽç«¯æœåŠ¡å™¨: å¯ä»¥æä¾›å¾ˆå¤šå¸å·ç»™åˆ«äººç¿»å¢™ç”¨, 
        æ­å»ºä¸€ä¸ªSS-Panel å‰ç«¯ç½‘ç«™! å¯ä»¥æ³¨å†Œå¸å·. å¹¶è¿›è¡Œå„ç§ç®¡ç†.

    ðŸ”µ å‰ç«¯+åŽç«¯.
        å‰ç«¯:  å°±æ˜¯ä¸€ä¸ªç½‘é¡µ.
        åŽç«¯:  åŽç«¯å°±æ˜¯å®žçŽ°ç¿»å¢™åŠŸèƒ½çš„. 

        åŽç«¯æœ‰å¥½å‡ ç§. æœ€å®˜æ–¹çš„æ˜¯ShadowSocksé¡¹ç›®.å…¶ä»–çš„è¿˜æœ‰SSR ç­‰ç­‰....
    
    ä¸ªäººä½¿ç”¨. åªéœ€è¦å‡ ä¸ªå¸å·,ä¸éœ€è¦æ•°æ®åº“.
    å¤šäººä½¿ç”¨. è¿™å°±éœ€è¦ç”¨åˆ°æ•°æ®åº“äº†.


    å…¶å®ž SS-panel çš„å‰ç«¯å’ŒåŽç«¯æ˜¯å¯ä»¥åˆ†å¼€çš„,å‰ç«¯å®‰è£…åœ¨æœ¬åœ°. åŽç«¯å®‰è£…åœ¨æœåŠ¡å™¨.
    å‰ç«¯åªè¦èƒ½è¿žä¸ŠåŽç«¯çš„æ•°æ®åº“å°±å¯ä»¥äº†,ä¸€èˆ¬æƒ…å†µéƒ½æ˜¯ä¸¤è€…åŒæ—¶å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šçš„.æˆ‘ä»¬æ•™ç¨‹çš„å‰åŽç«¯éƒ½æ˜¯å®‰è£…åœ¨æœåŠ¡å™¨ä¸Šçš„.


    ðŸ“Œ å‰ç«¯: SS-Panel 
        æ˜¯ç”±Orviceå†™çš„ä¸€æ¬¾å‰ç«¯ç½‘é¡µã€‚å¯ä»¥é…åˆä¸‹é¢è¿™äº›SSåŽç«¯:
            shadowsocks manyuser
            shadowsocks-go mu
            shadowsocksR
        è¿™è´§æ˜¯ç”¨PHPå†™çš„ï¼Œæ‰€ä»¥ä½ éœ€è¦ä¸€ä¸ªphp çŽ¯å¢ƒ,è€Œä¸”å¿…é¡» â—ï¸PHP5.6â—ï¸ä»¥ä¸Šçš„ç‰ˆæœ¬ã€‚
        è¿™æ˜¯ä¸ªç½‘é¡µ.ä½ è¦è®¿é—®ç½‘é¡µå°±è¦æœ‰ webæœåŠ¡å™¨. nginx/apache éšä¾¿é€‰. ä¸€èˆ¬æ•™ç¨‹éƒ½æ˜¯ç”¨â—ï¸Nginxâ—ï¸ å°±é€‰è¿™ä¸ªå§.
        å½“ç„¶ä¸ºäº†å­˜å‚¨ç”¨æˆ·æ•°æ®è¿˜éœ€è¦ â—ï¸MySQL5.5+â—ï¸çš„ç‰ˆæœ¬
        è¿™ä¸‰ä¸ªçŽ¯å¢ƒåŠ èµ·æ¥. å°±æ˜¯æ‰€è°“çš„ LNMP/LAMPæž¶æž„:  Linuxã€Nginx/Apacheã€MySQLã€PHP
        â—ï¸â—ï¸LNMP çŽ¯å¢ƒå¿«é€Ÿå®‰è£…æŽ¨è1 LNMP.org  ä¸€é”®å®‰è£…åŒ….     https://lnmp.org/install.html    æŽ¨è. æœ¬æ•™ç¨‹ä½¿ç”¨è¿™ä¸ª.å…·ä½“çœ‹LNMP.txtæ•™ç¨‹.
        â—ï¸â—ï¸LNMP çŽ¯å¢ƒå¿«é€Ÿå®‰è£…æŽ¨è2 OneinStack ä¸€é”®å®‰è£…å·¥å…·.  https://oneinstack.com/


    ðŸ“Œ åŽç«¯: shadowsocks-manyuseræœ‰è®¸å¤šç‰ˆæœ¬:
            ssrç‰ˆ:    git clone -b manyuser https://github.com/breakwa11/shadowsocks.git
            rmç‰ˆ:     git clone -b manyuser https://github.com/mengskysama/shadowsocks-rm.git
            æ™®é€šç‰ˆ:   git clone -b manyuser https://github.com/mengskysama/shadowsocks.git
            
          â—ï¸æˆ‘ä»¬ç”¨SSRâ—ï¸



    ðŸ“Œ æ³¨:
          SSR: ShadowsocksåŽŸä½œè€…è¢«å–èŒ¶ æ”¾å¼ƒæ­¤é¡¹ç›®ï¼Œç”±ShadowsocksRä½œè€…æŽ¥æ‰‹. æ‰€ä»¥SSé¡¹ç›®ä¸å†æ›´æ–°, æŽ¨èç”¨ SSR 
          åœ¨CentOSä¸Šæ­å»ºss-panelï¼ˆå‰ç«¯ï¼‰å’Œssrï¼ˆåŽç«¯ï¼‰ä»¥åŠchacha20ï¼ˆåŠ å¯†ï¼‰çš„æ¢¯å­ï¼Œå¸®åŠ©è‡ªå·±å’Œæœ‹å‹ç™»é«˜è¿œæœ›ã€‚

            SSR ç›¸æ¯” SS ä¼˜ç‚¹:
                å¯ä»¥ç›´æŽ¥å¯ç”¨chacha20åŠ å¯†ï¼Œåœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ¯”è¾ƒå¥½ä½¿
                TFO(TCP Fast Open)ç›´æŽ¥è‡ªå¸¦ï¼Œå‡å°‘æ¡æ‰‹æ¬¡æ•°ã€‚
                äºŒæ¬¡æ··æ·†å’ŒæŠ—é‡æ”¾ç­‰é™„åŠ åŠŸèƒ½,å‡å°‘è¢«å°æ¦‚çŽ‡.
                Github å®˜ç½‘ https://github.com/breakwa11/shadowsocks-rss




    ðŸ“ŒðŸ“Œ å¤šäººç¿»å¢™æœåŠ¡å™¨æ•´ä½“æ­å»ºæµç¨‹:
          1. å®‰è£… LNMP çŽ¯å¢ƒ.         
          2. å®‰è£… SS-panel å‰ç«¯éƒ¨åˆ†
          3. å®‰è£… SSR åŽç«¯éƒ¨åˆ†

          â—ï¸æ­£å¸¸æƒ…å†µç”¨ LNMP.org ç½‘ç«™é‡Œé¢çš„ä¸€é”®å®‰è£…è„šæœ¬.å®‰è£…å¥½åŽ.
          â—ï¸å°±å¯ä»¥åœ¨æœ¬åœ°æµè§ˆå™¨ç”¨æœåŠ¡å™¨IP ç›´æŽ¥è®¿é—®æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªé»˜è®¤ç½‘ç«™. 
          â—ï¸è¿˜å¯ä»¥åœ¨æœ¬åœ°æµè§ˆå™¨ç”¨æœåŠ¡å™¨IP/phpmyadmin ç›´æŽ¥è®¿é—®æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“.
          â—ï¸å¦‚æžœè¿™ä¸¤ä¸ªå‡ºçŽ°é—®é¢˜. è¯·å…ˆè‡ªè¡Œè§£å†³è¿™ä¸¤ä¸ªé—®é¢˜.
              LNMPå®‰è£…è¿‡ç¨‹ä¸­ä½ å¯ä»¥ä¸æ–°å»ºè™šæ‹Ÿä¸»æœº. 
              ä½ åªè¦æŠŠè™šæ‹Ÿä¸»æœºçš„çŽ¯å¢ƒå®‰è£…ä¸Š,ä¹Ÿå°±æ˜¯ Nginx
              å¢žåˆ è™šæ‹Ÿä¸»æœºéƒ½æ˜¯å¯ä»¥æ”¹çš„.å…³ç³»ä¸å¤§.


    ðŸ“Œ SS-Panel Githubé“¾æŽ¥  https://github.com/orvice/ss-panel/tree/master
    ðŸ“Œ æœ¬æ•™ç¨‹ åªé€‚åˆCentOS6. å…¶ä»–ç³»ç»Ÿ å¯ä»¥å‚è€ƒæœ¬æ•™ç¨‹çš„æ€è·¯.å…·ä½“å‘½ä»¤è‚¯å®šæœ‰åŒºåˆ«çš„.
    ðŸ“Œ æœ¬æ•™ç¨‹ å¸¦æœ‰ðŸ”… éƒ½æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤.
    ðŸ“Œ æœ¬æ•™ç¨‹ å®‰è£…çš„æ˜¯ å®˜æ–¹çš„ v3.4.5 ç‰ˆæœ¬. 2017-04-2-09. äº²æµ‹å¯ç”¨.
    ðŸ“Œ æœ¬æ•™ç¨‹ éœ€è¦ä¸€ä¸ªåŸŸå. 
          é¦–å…ˆä½ è¦åŽ» åŸŸåæ³¨å†Œå•†é‚£é‡Œ æ·»åŠ ä¸€ä¸ªwwwè®°å½• (ä¹Ÿå°±æ˜¯æŠŠä½ çš„åŸŸå å¯¹åº”åˆ°ä½ çš„æœåŠ¡å™¨IP)
          è¿™æ­¥å®Œæˆäº†. ä½ è¿˜ä¸èƒ½è®¿é—®æœåŠ¡å™¨ä¸Šçš„ç½‘é¡µçš„. è‡³å°‘Nginx è¿™ä¸ªwebæœåŠ¡å™¨éœ€è¦ä¸€äº›è®¾ç½® 
          æ‰èƒ½é€šè¿‡ä½ çš„åŸŸå è®¿é—® æœåŠ¡å™¨ä¸Šçš„ç½‘é¡µ.

          æ²¡æœ‰åŸŸåçš„ çœ‹è¿™ä¸ªæ•™ç¨‹.https://doub.io/ss-jc13/  è¿™ä¸ªæ•™ç¨‹å®‰è£…çš„æ˜¯v2ç‰ˆæœ¬






        æœåŠ¡å™¨é˜²ç«å¢™:

            ðŸ“ŒðŸ“Œ æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
            ðŸ”… iptables -L


            è¿™é‡Œå¯ä»¥çœ‹åˆ°é»˜è®¤çš„é˜²ç«å¢™ mysql å¯¹åº”çš„æ˜¯drop.
            ä¹Ÿå°±æ˜¯å¦‚æžœæœ‰äº’è”ç½‘ä¸Šæœ‰æ•°æ®åŒ…è¦å‘åˆ°ä½ ç”µè„‘çš„mysqlè¿™ä¸ªç¨‹åº.é‚£ä¹ˆå°±ä¸¢å¼ƒè¿™ä¸ªæ•°æ®åŒ….
            æ‰€ä»¥åªè¦ä½ é˜²ç«å¢™ä¸å…è®¸. ä½ æ˜¯æ°¸è¿œè¿žä¸ä¸ŠæœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“çš„....

        ðŸ“ŒðŸ“Œ æ¸…ç©ºæ‰€æœ‰é˜²ç«å¢™è®¾ç½®.
            ðŸ”… iptables -F
            è¿™ä¸‹æ‰€æœ‰çš„æ•°æ®éƒ½èƒ½è¿›å…¥åˆ°æœåŠ¡å™¨äº†.

            å…¶å®žå¦‚æžœæ•´ä¸ªç³»ç»Ÿæ­å»ºæˆåŠŸåŽ.
            æ¯ä¸ªå¸å·éƒ½æ˜¯å•ç‹¬ä¸€ä¸ªç«¯å£çš„.
            ç®¡ç†å‘˜æ˜¯ 10000ç«¯å£. 
            ç¬¬ä¸€ä¸ªæ³¨å†Œçš„æ˜¯ 10001ç«¯å£ ... ç±»æŽ¨...
            ä¸ºäº†å®‰å…¨èµ·è§.ä¸å»ºè®®æ¸…ç©ºæ‰€æœ‰çš„é˜²ç«å¢™.
            å¼€å‘æŸäº›ç«¯å£å°±å¯ä»¥äº†. è¿™ä¸ªå¦å¤–è¯´. é˜²ç«å¢™ä¹Ÿéº»çƒ¦çš„.


















â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ  GCE SSR ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸


ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ æ•°æ®åº“ ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸
ðŸ”¸ å‡†å¤‡å·¥ä½œ: 

    â¦¿ å‚¨å¤‡
        å‰ç«¯åªæ˜¯ä¸ªç½‘é¡µ.å¯ä»¥å®‰è£…åœ¨ä»»ä½•ç”µè„‘. ä¸ä¸€å®šè¦å®‰è£…åœ¨vpsä¸Š.
        åŽç«¯æ‰æ˜¯ ss ç¿»å¢™çš„æ ¸å¿ƒ. å¿…é¡»å®‰è£…åœ¨vpsä¸Š.
        æ•°æ®åº“æ˜¯å‚¨å­˜æ•°æ®çš„ ä¹Ÿå¯ä»¥å®‰è£…åœ¨ä»»ä½•ç”µè„‘ä¸Š(å¸¦å…¬ç½‘IP.), 
        å‰ç«¯ åŽç«¯éƒ½è¦è¿žåˆ°æ•°æ®åº“ä¸Š! è¿›è¡Œæ•°æ®çš„è¯»å–å’Œå­˜å‚¨


    â¦¿ åŸŸåè§£æž:   
        åŠ Aè®°å½• www.0214.live   æŒ‡å‘ 104.224.139.45
        åŠ Aè®°å½• ss.0214.live    æŒ‡å‘ 104.224.139.45

    â¦¿ æ•°æ®åº“å»ºç«‹
        â€¢ å®‰è£…å¥½Mysqlæ•°æ®åº“. å¹¶å¼€å¯è¿œç¨‹è¿žæŽ¥åŠŸèƒ½
        â€¢ å»ºç«‹æ•°æ®åº“: ss2: utf8ã€utf8_bin


    â¦¿ db.sql
        æ•°æ®åº“ä¹ˆ, è‚¯å®šæœ‰å¾ˆå¤šæ•°æ®è¡¨çš„. æ”¾å¿ƒä¸ç”¨ä½ æ‰‹åŠ¨å»ºç«‹.
        db.sql é‡Œé¢å°±æ˜¯ä¸€ä¸ª mysql çš„è„šæœ¬. è¿è¡Œè¿™è„šæœ¬å°±èƒ½è‡ªåŠ¨å¸®ä½ å»ºç«‹å¾ˆå¤šæ•°æ®è¡¨.

        https://raw.githubusercontent.com/mmmwhy/ss-panel/master/db.sql
        æ–‡ä»¶ä¿å­˜ä¸º db.sql åˆ°æœ¬åœ°ç”µè„‘

    â¦¿ ä¿®æ”¹: db.sql
        ss-panel åˆ›å»ºæ–°ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„åŠ å¯†æ–¹æ³•æ˜¯åœ¨è¿™é‡Œè®¾ç½®çš„.
        é»˜è®¤ä½¿ç”¨çš„æ˜¯ rc4-md5 åŠ å¯†æ–¹æ³•. æˆ‘ä¸ªäººæ˜¯å»ºè®®ä½ ç”¨chacha20åŠ å¯†æ–¹æ³•.
        å¦‚æžœä½ è¦æ›´æ”¹ é»˜è®¤çš„åŠ å¯†æ–¹æ³•. æœ€å¥½åœ¨è¿™é‡Œä¿®æ”¹.
        ä¸ç„¶ç­‰ä½ å®‰è£…å¥½æ•°æ®åº“. å†è¦ä¿®æ”¹æ•°æ®è¡¨ä¸­æŸä¸ªå­—æ®µçš„é»˜è®¤å€¼ å°±è¦ä½ æœ‰ç‚¹mysqlåŸºç¡€äº†.
        
 

    â¦¿ å¯¼å…¥æ•°æ®è¡¨: db.sql
        Mac ç”¨ navicat è½¯ä»¶å¯¼å…¥å°±å¯ä»¥. å¾ˆæ–¹ä¾¿çš„
        navicast âžœ é€‰æ‹©æ•°æ®åº“ âžœ  å³é”® execute sql file âžœ é€‰æ‹©db.sql âžœ start 







ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ å‰ç«¯ ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸

ðŸ”¸ æ–°å»ºè™šæ‹Ÿä¸»æœº
    â—ï¸é™¤äº†è™šæ‹Ÿä¸»æœºåæ”¹æˆä½ è‡ªå·±çš„åŸŸå.å…¶ä»–å°½é‡å®‰è£…æˆ‘çš„! 
    ðŸ”… lnmp vhost add
    ================================================
    Virtualhost infomation:
    Your domain: ss.0214.live
    Home Directory: /home/wwwroot/ss.0214.live
    Rewrite: none
    Enable log: no
    Create database: no
    Create ftp account: no
    ================================================

    è¾“å…¥åŸŸåå°±å¥½,å…¶ä»–å…¨éƒ¨é€‰no





          - è™šæ‹Ÿä¸»æœºè®¾ç½®å¥½åŽ
              /usr/local/nginx/conf/vhost ä¸‹å°±å¤šäº†ä¸ªâ—ï¸è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶â—ï¸
              /home/wwwroot/               å°±å¤šäº†ä¸ª â—ï¸è™šæ‹Ÿä¸»æœºæ–‡ä»¶å¤¹  â—   ï¸

            å½“ç„¶ä½ å¦‚æžœä¹‹å‰è®¾ç½®è¿‡è™šæ‹Ÿä¸»æœºè¿™æ­¥å°±å¯ä»¥çœç•¥äº†.
            ç¡®ä¿æœ‰ä¸Šé¢çš„ä¸€ä¸ª è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶. å’Œ ä¸€ä¸ªè™šæ‹Ÿä¸»æœºæ–‡ä»¶å¤¹å°±å¯ä»¥äº†.

            åˆ—å‡ºè™šæ‹Ÿä¸»æœº lnmp vhost list
            åˆ é™¤è™šæ‹Ÿä¸»æœº lnmp vhost del

          - å¸®ç“¦å·¥çš„ vps è¿˜åŽŸåŠŸèƒ½ä¸æ˜¯å¾ˆå®Œå–„.
            æœ‰äº›æ–‡ä»¶å¤¹ å¯èƒ½ä¼šæ²¡æœ‰åˆ é™¤æŽ‰.
            å°±åƒ /home/wwwroot/ss.0214.live 
            å¦‚æžœæ®‹ç•™äº†è¿™ä¸ªæ–‡ä»¶å¤¹. è¦ä¹ˆæ‰‹åŠ¨åˆ é™¤,è¦ä¹ˆé‡å‘½å.
            å…å¾—å’Œæˆ‘ä»¬æ–°å»ºçš„è™šæ‹Ÿä¸»æœºå†²çª


ðŸ”¸ ä¸‹è½½ä¸‰æ–¹ ss-panle é¡¹ç›®æºç 

    cd /home/wwwroot/ss1.0214.help && git clone https://github.com/mmmwhy/ss-panel.git && mv ss-panel/{.,}* ./ 
    cd /home/wwwroot/ss2.0214.help && git clone https://github.com/mmmwhy/ss-panel.git && mv ss-panel/{.,}* ./ 
    cd /home/wwwroot/ss.0214.help && git clone https://github.com/mmmwhy/ss-panel.git && mv ss-panel/{.,}* ./ 
    cd /home/wwwroot/ss.0214.live && git clone https://github.com/mmmwhy/ss-panel.git && mv ss-panel/{.,}* ./ 

        ä¸‹è½½ç„¶åŽç§»åŠ¨æ–‡ä»¶.
          ç§»åŠ¨ ss-panel æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰å†…å®¹åˆ° /home/wwwroot/ss.0214.live
          ç¡®ä¿ /home/wwwroot/ss.0214.live ä¸‹æœ‰ä¸ªå« publicçš„æ–‡ä»¶å¤¹.
          ä¹Ÿå¯ä»¥ç”¨ cp -R /home/wwwroot/ss.0214.live/ss-panel/. /home/wwwroot/ss.0214.live/


ðŸ”¸ å®‰è£… php ä¾èµ–

    ðŸ”…ðŸ”… ä¸€é”®å‘½ä»¤
    cd /home/wwwroot/ss.0214.live && curl -sS https://install.phpcomposer.com/installer | php && chmod +x composer.phar && php composer.phar install && chmod -R 777 storage
    cd /home/wwwroot/ss.0214.help && curl -sS https://install.phpcomposer.com/installer | php && chmod +x composer.phar && php composer.phar install && chmod -R 777 storage
    cd /home/wwwroot/ss1.0214.help && curl -sS https://install.phpcomposer.com/installer | php && chmod +x composer.phar && php composer.phar install && chmod -R 777 storage
    cd /home/wwwroot/ss2.0214.help && curl -sS https://install.phpcomposer.com/installer | php && chmod +x composer.phar && php composer.phar install && chmod -R 777 storage


        â¦¿ å‘½ä»¤è§£æž
            cd /home/wwwroot/ss.0214.live
            curl -sS https://install.phpcomposer.com/installer | php
            chmod +x composer.phar
            php composer.phar install
            chmod -R 777 storage

        â¦¿ å®‰è£…(éžå…¨å±€)  Composer
            curl -sS https://getcomposer.org/installer | php 
        
        â¦¿ ç”¨composer æ¥å®‰è£…é¡¹ç›®.
            å°±åƒä¸‹è½½çš„exeè½¯ä»¶æ˜¯éœ€è¦å®‰è£…åŽæ‰èƒ½ç”¨çš„.
            php composer.phar  install

        â¦¿ Composer ç®€ä»‹
            Composer ç±»ä¼¼åŒ…ç®¡ç†å™¨. è‡ªåŠ¨ä¸‹è½½å®‰è£…é¡¹ç›®ä¾èµ–çš„ä¸€äº›åº“.
            åœ¨ composer.json æ–‡ä»¶ä¸­åˆ—å‡ºä½ é¡¹ç›®æ‰€éœ€çš„ä¾èµ–åŒ…ï¼Œ
            ç„¶åŽå°±å¯ä»¥ç”¨ Composer å‘½ä»¤æ¥è‡ªåŠ¨å®‰è£…ä¾èµ–äº†.
            è¿è¡Œ Composer éœ€è¦ PHP 5.3.2+ ä»¥ä¸Šç‰ˆæœ¬ã€‚

        â¦¿ å…¨å±€å®‰è£… Composer
            â€¢ cdåˆ°å®‰è£…ç›®å½•:  cd /usr/local/bin/
            â€¢ ä¸‹è½½å®‰è£…è„šæœ¬:  php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
            â€¢ å®‰è£…åŽåˆ é™¤:    php composer-setup.php && php -r "unlink('composer-setup.php');"
            â€¢ å…¨å±€ä½¿ç”¨æ–¹æ³•:  composer filename
            cd /usr/local/bin/ && php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');" && php composer-setup.php && php -r "unlink('composer-setup.php');"
        composer install
            å®‰è£…é¡¹ç›®ä¾èµ–
            è¿™é‡Œå¯èƒ½ä¼šæœ‰ä¸¤ä¸ªè­¦å‘Šä¿¡æ¯! å¯å¿½ç•¥.
            å¤§æ¦‚æ„æ€å°±æ˜¯ ä»Žé¡¹ç›®æºåœ°å€ä¸‹è½½æŸä¸ªæ¨¡å—å¤±è´¥. è‡ªåŠ¨ä»Žåˆ«çš„åœ°æ–¹ä¸‹è½½





ðŸ”¸ â—ï¸â—ï¸ é…ç½® Nginx â—ï¸â—ï¸

    vi /usr/local/nginx/conf/vhost/ss.0214.help.conf
    vi /usr/local/nginx/conf/vhost/ss1.0214.help.conf
    vi /usr/local/nginx/conf/vhost/ss2.0214.help.conf
    vi /usr/local/nginx/conf/vhost/ss.0214.live.conf


    â—ï¸ å®˜æ–¹çš„ss-panle å‘å°±åœ¨ location ~ ...æ¨¡å—é‡Œ.                               â—           ï¸
    â—ï¸ å®˜æ–¹çš„å®‰è£…è¯´æ˜Ž åªæœ‰ location / æ¨¡åž‹. åŽ‹æ ¹æ²¡æœ‰ location ~ æ¨¡å—.            â—ï¸
    â—ï¸ ä½ æŒ‰ç…§å®˜æ–¹çš„å®‰è£…æ­¥éª¤æ°¸è¿œä¸å¯èƒ½æˆåŠŸçš„,                                     â— ï¸
    â—ï¸ å‘çˆ¹çš„å®˜æ–¹è¯´æ˜Ž,æµªè´¹æˆ‘5å¤©æ—¶é—´. ç”šè‡³æ€€ç–‘è‡ªå·±çš„æ™ºå•†.åŽŸæ¥å®˜æ–¹é¡¹ç›®æœ¬èº«å­˜åœ¨é—®é¢˜ â—ï¸ 
    â—ï¸ å®˜æ–¹çš„ ss-panle githubä¸Šä¸€å †issue æ²¡è§£å†³. è¯¶. éš¾ä»¥æƒ³è±¡..è¿™ç§é¡¹ç›®çš„å­˜åœ¨    â— ï¸

    â—ï¸ æ•´ä¸ª ss.0214.live.conf æ›¿æ¢æˆä¸‹é¢å†…å®¹.           â— ï¸
    â—ï¸ ä¿®æ”¹æ–‡ä»¶ä¸­ä¸¤ä¸ª ss.0214.live æ›¿æ¢æˆä½ è‡ªå·±çš„å°±å¯ä»¥ â—ï¸

ðŸ”¸ ä¾‹å­ ss.0214.live
server
    {
        listen 80 ;
        server_name ss.0214.live;

        index index.html index.htm index.php;
        root  /home/wwwroot/ss.0214.live/public;
        
        location / {
                        try_files $uri $uri/ /index.php$is_args$args;
                }
                
        location ~ [^/]\.php(/|$) {
        # comment try_files $uri =404; to enable pathinfo
        try_files $uri =404;
        fastcgi_pass unix:/tmp/php-cgi.sock;
        fastcgi_index index.php;
        include fastcgi.conf;
        #include pathinfo.conf;
        fastcgi_param PHP_ADMIN_VALUE "open_basedir = /home/wwwroot: /temp/:/proc";
        }

        access_log  /home/wwwlogs/access.log;
    }




ðŸ”¸ ä¾‹å­ ss.0214.help
server
    {
        listen 80 ;
        server_name ss.0214.help;

        index index.html index.htm index.php;
        root  /home/wwwroot/ss.0214.help/public;
        
        location / {
                        try_files $uri $uri/ /index.php$is_args$args;
                }
                
        location ~ [^/]\.php(/|$) {
        # comment try_files $uri =404; to enable pathinfo
        try_files $uri =404;
        fastcgi_pass unix:/tmp/php-cgi.sock;
        fastcgi_index index.php;
        include fastcgi.conf;
        #include pathinfo.conf;
        fastcgi_param PHP_ADMIN_VALUE "open_basedir = /home/wwwroot: /temp/:/proc";
        }

        access_log  /home/wwwlogs/access.log;
    }




ðŸ”¸ é»˜è®¤é…ç½®
    vi /usr/local/nginx/conf/nginx.conf
    ç¡®è®¤æœ‰ 
    include /usr/local/nginx/conf/vhost/ss.0214.live.conf;
    include /usr/local/nginx/conf/vhost/ss1.0214.help.conf;
    include /usr/local/nginx/conf/vhost/ss2.0214.help.conf;


ðŸ”¸ é‡å¯Nginx      service nginx restart  
ðŸ”¸ åŸŸåè§£æž       A âžœ ss1 âžœ 23.105.192.96 
ðŸ”¸ æµè§ˆå™¨è®¿é—® ss.0214.live  å°±å‡ºæ¥å‰ç«¯ç•Œé¢äº†!!!! 
    ä½†æ˜¯éœ€è¦ç™»å½•. è¿™å°±éœ€è¦æ³¨å†Œå¸å·. æ³¨å†Œä¿¡æ¯è‚¯å®šéœ€è¦ä¿å­˜åˆ°æ•°æ®åº“ä¸­.
    æ‰€ä»¥æˆ‘ä»¬è¦å…ˆé€šè¿‡é…ç½® ss-panel çš„é…ç½®æ–‡ä»¶è®©å‰ç«¯è¿žä¸Šæ•°æ®åº“.  
    è¿žä¸Šæ•°æ®åº“åŽ,æ‰èƒ½åˆ›å»ºss-panelå¸å·.

ðŸ”¸ ss-panle é…ç½®æ–‡ä»¶

  â—ï¸â—ï¸é…ç½®æ–‡ä»¶: è®©å‰ç«¯çš„ç½‘é¡µå¯ä»¥è¿žæŽ¥åˆ°åŽç«¯çš„æ•°æ®åº“æ¥èŽ·å–å„ç§ç”¨æˆ·ä¿¡æ¯.
    V2 ç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶æ˜¯ config.php åŽç¼€; V3 ç‰ˆæœ¬å˜æˆ .env åŽç¼€
    V3.4çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯ä¸­æ–‡è¯¦ç»†è¯´æ˜Žçš„!!!! æŒ‰è¯´æ˜Žæ”¹å°±å¯ä»¥äº†.ä¸»è¦å°±æ˜¯:
      â€¢ DB_USER æ•°æ®åº“ç”¨æˆ·åã€
      â€¢ DB_PWD æ•°æ®åº“å¯†ç ã€
      â€¢ DB_DBNAME æ•°æ®åº“åç§°


    cd /home/wwwroot/ss.0214.help && cp .env.example .env && vi .env
    cd /home/wwwroot/ss1.0214.help && cp .env.example .env && vi .env
    cd /home/wwwroot/ss2.0214.help && cp .env.example .env && vi .env
    cd /home/wwwroot/ss.0214.live && cp .env.example .env && vi .env

vi /home/wwwroot/ss.0214.help/.env ä¿®æ”¹ä¸‹é¢çš„é‡ç‚¹å­—æ®µ

// â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸  ä¸‹é¢æ˜¯é‡ç‚¹è®¾ç½®. ä¸Šé¢æ˜¯åºŸè¯ä¸ç”¨ç†å®ƒ â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸
// â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸  ä¸‹é¢æ˜¯é‡ç‚¹è®¾ç½®. ä¸Šé¢æ˜¯åºŸè¯ä¸ç”¨ç†å®ƒ â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸
// â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸  ä¸‹é¢æ˜¯é‡ç‚¹è®¾ç½®. ä¸Šé¢æ˜¯åºŸè¯ä¸ç”¨ç†å®ƒ â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸â—ï¸

appName = 'Xu.Jian - SSR'            //âžœ ç½‘é¡µå·¦ä¸Šè§’æ˜¾ç¤ºçš„åç§°. 
baseUrl = 'http://ss.0214.help'      //âžœ ç½‘é¡µé‡Œé¢çš„é“¾æŽ¥åœ°å€
defaultTraffic = '20'                // ç”¨æˆ·åˆå§‹æµé‡ å•ä½GB
inviteNum = '0'                      // æ³¨å†ŒåŽèŽ·å¾—çš„é‚€è¯·ç æ•°é‡


# database æ•°æ®åº“é…ç½®
db_driver = 'mysql'
db_host = 'localhost'
db_port = '3306'
db_database = 'ss-vps1'
db_username = 'root'
db_password = 'ä½ çš„æ•°æ®åº“å¯†ç '
db_charset = 'utf8'
db_collation = 'utf8_general_ci'
db_prefix = ''









ðŸ”¸ SS-Panel ç½‘é¡µåŽå°ç™»å½•å¸å·åˆ›å»º

    V3 ç‰ˆæœ¬æä¾›äº†ä¸€ä¸ªè„šæœ¬ å¸®ä½ å¿«é€Ÿå»ºç«‹ç®¡ç†å‘˜å¸å·.
    ðŸ”… cd /home/wwwroot/ss.0214.live && php xcat createAdmin
    ðŸ”… cd /home/wwwroot/ss1.0214.help && php xcat createAdmin
    ðŸ”… cd /home/wwwroot/ss2.0214.help && php xcat createAdmin

        è¾“å…¥ç®¡ç†å‘˜é‚®ç®±ã€å¯†ç ã€æŒ‰ä¸‹Y å¸å·å°±åˆ›å»ºå¥½äº†.
        ç„¶åŽå°±å¯ä»¥ç”¨åˆšå»ºç«‹çš„å¸å·åŽ»ç™»å½•äº†!!!
        å‰ç«¯éƒ¨åˆ†åˆ°è¿™é‡Œå°±å·®ä¸å¤šäº†.




ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ åŽç«¯ ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸ðŸ”¸

ðŸ”¸ ç®€ä»‹
    å‰ç«¯: ss-panle-mod 
        https://github.com/mmmwhy/ss-panel-and-ss-py-mu
    åŽç«¯: SSR å¤šç”¨æˆ·ç‰ˆæœ¬(mysql) Shadowsocks-Python-Manyuse
        https://github.com/breakwa11/shadowsocks-rss/wiki/Server-Setup(manyuser-with-mysql)
    åŽç«¯ç”¨çš„æ˜¯ python, åŽç«¯è¿˜éœ€è¦è¿žæŽ¥ mysqlæ•°æ®åº“.æ‰€ä»¥è¦å®‰è£…ä¸€äº›python ä¾èµ–.



ðŸ”¸ åŠ å¯†

  â¦¿ ä¸ºä»€ä¹ˆåŠ å¯†
        åƒhttpè¿™ç§æ˜Žæ–‡åè®®. ä½ æµè§ˆçš„å†…å®¹éƒ½æ˜¯å¯ä»¥è¢«äººèŽ·å–çš„.è€Œä¸”æ˜¯æ˜Žæ–‡çš„.
        åƒhttpsè¿™ç§åŠ å¯†åè®®. ä½ æµè§ˆçš„å†…å®¹ä¹Ÿæ˜¯å¯ä»¥è¢«äººèŽ·å–çš„,ä½†æ˜¯æ˜¯åŠ å¯†çš„æ•°æ®.
        in china æ˜¯ä¸å‡†ä½ ç”¨ssçš„. ä¸€æ—¦å‘çŽ° å°±ä¼šè¢«å°.
        å¦‚æžœä½ çš„ç½‘ç»œæµé‡æ˜¯æ˜Žæ–‡çš„ é‚£ä¹ˆgfw ä¸€çœ¼å°±çœ‹å‡ºä½ ç”¨çš„
        å¦‚æžœä½ çš„ç½‘ç»œæµé‡æ˜¯åŠ å¯†çš„ é‚£ä¹ˆgfw èƒ½ä¸èƒ½çœ‹å‡ºæ¥å°±è¦çœ‹ä½ çš„åŠ å¯†å¼ºåº¦äº†!

  â¦¿ åŠ å¯†æ–¹å¼
        åŠ å¯†éœ€è¦æ—¶é—´,ä¸åŒçš„åŠ å¯†æ–¹æ³•åŠ å¯†æ—¶é—´ä¸ä¸€æ ·.åŠ å¯†å¼ºåº¦ä¹Ÿä¸ä¸€æ ·.
        åŠ å¯†æ—¶é—´çŸ­.ç½‘é€Ÿè‡ªç„¶å°±å¿«äº†é¢. 
        åŠ å¯†å¼ºåº¦å°äº†. ä½ çš„vpsæœåŠ¡å™¨çš„IP å¯èƒ½ä¼šè¢«GFWå°æŽ‰!!!. è¿™åŽæžœå¾ˆä¸¥é‡çš„.
        æŽ¨èchacha20   å¯ä»¥è¯´æ˜¯ç›®å‰æ€§ä»·æ¯”æ¯”è¾ƒé«˜çš„åŠ å¯†ç®—æ³• .
        ä½†æ˜¯ç³»ç»Ÿé»˜è®¤æ˜¯ä¸æ”¯æŒ chacha20ï¼Œéœ€è¦é¢å¤–å®‰è£… libsodiumã€‚

            aes-128-cfb  0.368462085724s
            aes-256-cfb  0.418514966965s
            chacha20     0.429271936417s
            rc4-md5      0.169504165649s
            salsa20      0.44139790535s


ðŸ”¸ libsodium å®‰è£…

    CentOSæœ‰ä¸¤ç§å®‰è£…æ–¹å¼ï¼š
        ä¸€ç§æ˜¯ é€šè¿‡åŒ…ç®¡ç†å™¨æ¥å®‰è£…ï¼Œä¸€èˆ¬å®‰è£…çš„éƒ½ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚
        ä¸€ç§æ˜¯ é€šè¿‡ç¼–è¯‘å®‰è£…ã€‚å¯ä»¥å®‰è£…æœ€æ–°ç‰ˆ  ðŸ‘ðŸ¿ 

    â¦¿ CentOS 6 ç¼–è¯‘å®‰è£…:libsodium

            yum install m2crypto gcc -y
            wget -N --no-check-certificate https://download.libsodium.org/libsodium/releases/libsodium-1.0.10.tar.gz
                ä¸‹è½½é“¾æŽ¥å¦‚æžœå¤±æ•ˆåŽ»è¿™é‡ŒæŸ¥ä¸‹è½½åœ°å€: https://download.libsodium.org/libsodium/releases/
                æ³¨æ„è¦é€‰æ‹© .tar.gz ç»“å°¾çš„

            tar zfvx libsodium-1.0.10.tar.gz
            cd libsodium-1.0.10 && ./configure
            make && make install
            echo "include ld.so.conf.d/*.conf" > /etc/ld.so.conf
            echo "/lib" >> /etc/ld.so.conf
            echo "/usr/lib64" >> /etc/ld.so.conf
            echo "/usr/local/lib" >> /etc/ld.so.conf
            ldconfig


    â¦¿ CentOS 7 ç¼–è¯‘å®‰è£…:libsodium
    ðŸ”…ðŸ”… ä¸€é”®å‘½ä»¤
        cd ~ && yum -y groupinstall "Development Tools" && wget https://github.com/jedisct1/libsodium/releases/download/1.0.12/libsodium-1.0.12.tar.gz && tar -xzf libsodium-1.0.12.tar.gz && cd libsodium-1.0.12 && ./configure && make -j2 && make install && echo "include ld.so.conf.d/*.conf" > /etc/ld.so.conf && echo "/lib" >> /etc/ld.so.conf && echo "/usr/lib64" >> /etc/ld.so.conf && echo "/usr/local/lib" >> /etc/ld.so.conf && ldconfig && cd .. && rm -rf libsodium-1.0.12 && rm -rf libsodium-1.0.12.tar.gz


        â€¢ libsodiumæœ€æ–°ç‰ˆæœ¬:  2017-06-27-17  v1.0.12
          https://github.com/jedisct1/libsodium/releases/tag/1.0.12

        â€¢ å®‰è£…ç¼–è¯‘ ä¾èµ–.
          yum -y groupinstall "Development Tools"

        â€¢ ä¸‹è½½ã€ç¼–è¯‘ã€é…ç½® libsodium
            wget https://github.com/jedisct1/libsodium/releases/download/1.0.12/libsodium-1.0.12.tar.gz
            tar -xzf libsodium-1.0.12.tar.gz && cd libsodium-1.0.12
            ./configure && make -j2 && make install
            echo "include ld.so.conf.d/*.conf" > /etc/ld.so.conf
            echo "/lib" >> /etc/ld.so.conf
            echo "/usr/lib64" >> /etc/ld.so.conf
            echo "/usr/local/lib" >> /etc/ld.so.conf
            ldconfig

        â€¢ åˆ é™¤å®‰è£…æ–‡ä»¶
            cd .. && rm -rf libsodium-1.0.12 && rm -rf libsodium-1.0.12.tar.gz


        



ðŸ”¸ Python ä¾èµ–
    ðŸ”…ðŸ”… ä¸€é”®å‘½ä»¤
    yum install python-setuptools -y && yum install git && easy_install pip && pip install cymysql

        â¦¿ åŸºæœ¬åº“å®‰è£…:
            ðŸ”… yum install python-setuptools -y && yum install git && easy_install pip 

        â¦¿ cymysql
            ðŸ”… pip install cymysql

                CyMySQL: å®ƒæ˜¯PyMySQLçš„ä¸€ä¸ªforkï¼Œä½¿ç”¨Cythonè¿›è¡Œäº†åŠ é€Ÿï¼Œå¹¶ä¸”æ”¯æŒPython3ã€‚
                PyMySQL: Python3 çš„ä¸€ä¸ªç”¨äºŽè¿žæŽ¥MySQLæ•°æ®åº“çš„å·¥å…·,å¯ä»¥å®žçŽ°åŸºæœ¬çš„å¢žåˆ æ”¹æŸ¥ã€‚
                mysqldb: Python2 çš„ä¸€ä¸ªç”¨äºŽè¿žæŽ¥MySQLæ•°æ®åº“çš„å·¥å…·.


ðŸ”¸ SSR å®‰è£…

  ðŸ”… cd ~ && git clone -b manyuser https://github.com/shadowsocksr/shadowsocksr.git
      æ‰§è¡Œå®Œæ¯•åŽæ­¤ç›®å½•ä¼šæ–°å»ºä¸€ä¸ªshadowsocksrç›®å½•ï¼Œ
          å…¶ä¸­æ ¹ç›®å½•çš„æ˜¯å¤šç”¨æˆ·ç‰ˆï¼ˆå³æ•°æ®åº“ç‰ˆï¼‰ï¼Œ
          å­ç›®å½•ä¸­çš„æ˜¯å•ç”¨æˆ·ç‰ˆã€‚(å³shadowsocksr/shadowsocks)ã€‚

        ä»¥ä¸‹æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œæ¯”å¦‚ä½ åœ¨ /root ç›®å½•ä¸‹æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œé‚£ä½ çš„SSæ ¹ç›®å½•å°±æ˜¯ /root/shadowsocksr ã€‚
        æ ¹ç›®å½•å³ shadowsocksr
        å­ç›®å½•å³ shadowsocksr/shadowsocks


ðŸ”¸ SSR é…ç½®

    â¦¿ è¿›å…¥æ ¹ç›®å½• å¹¶ åˆå§‹åŒ–é¡¹ç›®  ðŸ”… cd /root/shadowsocksr && bash initcfg.sh

    â¦¿ SSR è¿žæŽ¥å‰ç«¯ ss-panel 
    ðŸ”… vi userapiconfig.py
          API_INTERFACE = 'sspanelv2' âžœ  API_INTERFACE = 'sspanelv3ssr' 

                å‰ç«¯ä¸ä»…è¦è¿žæŽ¥æ•°æ®åº“ ä¹Ÿè¦è¿žæŽ¥åŽç«¯. 
                å‰ç«¯è¿žæŽ¥åŽç«¯æ˜¯ é€šè¿‡API æ¥è¿žæŽ¥çš„. 
                ss-panelå‰ç«¯æœ‰å¾ˆå¤šç‰ˆæœ¬ å¦‚ v2ã€v3
                ss åŽç«¯ä¹Ÿæœ‰å¾ˆå¤šç‰ˆæœ¬: å•äººçš„ss å’Œå¤šäººçš„ssr

    â¦¿ SSR è¿žæŽ¥æ•°æ®åº“ Mysql 
    ðŸ”… vi /root/shadowsocksr/usermysql.json
            "host": "127.0.0.1",      //æ•°æ®åº“åœ°å€ 
            "port": 3306,             //mysqlç«¯å£
            "user": "root",           //mysqlç”¨æˆ·å
            "password": "..........", //ä½ è‡ªå·±çš„ mysqlå¯†ç 
            "db": "ss",               //æ•°æ®åº“å
            "node_id": 1              //èŠ‚ç‚¹ID.

                åŽç«¯è¿žæ•°æ®åº“å°±æ˜¯åœ¨è¿™é‡Œé…ç½®çš„        
                è¿™ä¸ªæ˜¯å¯¹åº”å‰ç«¯ç½‘é¡µé‡Œé¢çš„èŠ‚ç‚¹çš„. 
                å‰ç«¯å¯ä»¥æœ‰å¾ˆå¤šå’ŒèŠ‚ç‚¹. ä¸åŒèŠ‚ç‚¹è¡¨ç¤ºä¸åŒæœåŠ¡å™¨.æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ID.
                æˆ‘ä»¬çš„å‰ç«¯ åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹. è¿™ä¸ªèŠ‚ç‚¹çš„ID æ˜¯1
                å› ä¸ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹åœ¨æ•°æ®åº“ ss_nodeè¡¨ä¸‹çš„idæ˜¯1



ðŸ”¸ æ›´æ”¹åŠ å¯†æ–¹å¼
    åŽç«¯ã€å‰ç«¯ã€å®¢æˆ·ç«¯ éƒ½éœ€è¦è®¾ç½®åŠ å¯†æ–¹å¼.
        åŽç«¯æ˜¯ç³»ç»Ÿçš„åŠ å¯†æ–¹å¼. è‚¯å®šå·²è¿™ä¸ªä¸ºå‡†.
        å®¢æˆ·ç«¯åŠ å¯†æ–¹å¼è‚¯å®šæŒ‰ç…§åŽç«¯ä¸ºå‡†

        å‰ç«¯æ³¨å†Œçš„æ–°ç”¨æˆ·è‡ªå¸¦ä¸€ä¸ªé»˜è®¤åŠ å¯†æ–¹å¼. é»˜è®¤æ˜¯rc4, æˆ‘ä»¬è¦æ”¹æˆé»˜è®¤ chacha20
        å‰ç«¯æ³¨å†Œçš„æ–°ç”¨æˆ·çš„åŠ å¯†æ–¹å¼å¯ä»¥åœ¨æ•°æ®åº“çš„ user è¡¨çš„ methodå­—æ®µé‡ŒæŸ¥çœ‹å’Œä¿®æ”¹!
        
        å¦‚æžœ mysql å’Œ åŽç«¯ åŠ å¯†æ–¹å¼ä¸ä¸€è‡´. è‚¯å®šä¼šå¯¼è‡´ä¸Šä¸åŽ»ç½‘ç»œ.
        å¦‚æžœ mysql å’Œ åŽç«¯ åŠ å¯†æ–¹å¼ä¸ä¸€è‡´. é‚£ä¹ˆå°±ç›´æŽ¥æ”¹ æ•°æ®åº“ user è¡¨ä¸­ method å­—æ®µ.


    â¦¿ SSR åŽç«¯ä¿®æ”¹åŠ å¯†æ–¹å¼
        ðŸ”… vi /root/shadowsocksr/user-config.json
            "method":"aes-128-ctr" âžœ   "method":"chacha20"


    â¦¿ ss-panel æ–°ç”¨æˆ·é»˜è®¤åŠ å¯†æ–¹å¼
        æœ€åˆåœ¨ æ•°æ®åº“åˆ›å»ºçš„æ—¶å€™ æˆ‘ä»¬å°±è¯´äº† è¦ä¿®æ”¹ db.sqlæ–‡ä»¶. 
        å¦‚æžœä½ æ²¡æœ‰ä¿®æ”¹,é‚£ä¹ˆss-panel åˆ›å»ºæ–°ç”¨æˆ·çš„æ—¶å€™åŠ å¯†æ–¹æ³•ç”¨çš„æ˜¯ rc4-md5
        å› ä¸ºåˆ›å»º user è¡¨çš„æ—¶å€™ method å­—æ®µçš„é»˜è®¤å€¼å°±æ˜¯ç”¨çš„ rc4-md5 
        `method` varchar(64) NOT NULL DEFAULT 'rc4-md5',
        çŽ°åœ¨æˆ‘ä»¬æ•°æ®åº“ä»¥åŠå®‰è£…å¥½äº†. å½“ç„¶è¿˜æ˜¯å¯ä»¥ä¿®æ”¹ methodå­—æ®µçš„é»˜è®¤å€¼çš„.

        â¦¿ ä¿®æ”¹mysql å­—æ®µé»˜è®¤å€¼
            âœ˜âœ˜âˆ™ð’—2 ss.0214.live âžœ ðŸ”… mysql -u root -p
            mysql> ðŸ”… show databases;
            +--------------------+
            | Database           |
            +--------------------+
            | information_schema |
            | SS2                |
            | mysql              |
            | performance_schema |
            +--------------------+
            4 rows in set (0.00 sec)

            mysql> ðŸ”… use SS2;
            Database changed

            mysql> ðŸ”… show tables;
            +--------------------+
            | Tables_in_SS2      |
            +--------------------+
            | sp_config          |
            | sp_email_verify    |
            | sp_log             |
            | ss_checkin_log     |
            | ss_invite_code     |
            | ss_node            |
            | ss_node_info_log   |
            | ss_node_online_log |
            | ss_password_reset  |
            | user               |
            | user_token         |
            | user_traffic_log   |
            +--------------------+
            12 rows in set (0.00 sec)

            mysql> ðŸ”… ALTER TABLE user MODIFY COLUMN method varchar(64) NOT NULL DEFAULT 'chacha20';
            Query OK, 0 rows affected (0.00 sec)
            Records: 0  Duplicates: 0  Warnings: 0

            mysql æ‰¹é‡ä¿®æ”¹

            æœ€åŽä¸€ä¸ªå‘½ä»¤å¦‚æžœæ²¡æŠ¥é”™é‚£ä¹ˆå°±ä¿®æ”¹æˆåŠŸäº†!!

            è¯­æ³•: alter table +è¡¨å+ modify column +å­—æ®µå+ ... é»˜è®¤å€¼...
            çŽ°åœ¨ ä½ å†åŽ»æ³¨å†Œ æ–°ç”¨æˆ· é»˜è®¤åŠ å¯†æ–¹å¼å°±æ˜¯ chacha20äº†.
            å½“ç„¶ è¿™æ ·ä¿®æ”¹ ss-panel çš„é»˜è®¤åŠ å¯†æ–¹æ³•å¾ˆéº»çƒ¦. éœ€è¦ä½ ä¼šæ•°æ®åº“.
            å…¶å®žä½ å¯ä»¥åœ¨ æ–°å»ºæ•°æ®åº“çš„æ—¶å€™. åœ¨å¯¼å…¥ db.sqlä¹‹å‰.æŠŠä¸‹é¢è¡Œæ”¹æŽ‰å°±å¯ä»¥äº†.
            `method` varchar(64) NOT NULL DEFAULT 'rc4-md5',  æ”¹æˆ
            `method` varchar(64) NOT NULL DEFAULT 'chacha20',

            â—ï¸â—ï¸â—ï¸ èŠ‚ç‚¹çš„åŠ å¯†æ–¹å¼. ä¸ç­‰äºŽç”¨æˆ·æ³¨å†ŒåŽé»˜è®¤çš„åŠ å¯†æ–¹å¼. â—ï¸â—ï¸â—ï¸
            â—ï¸â—ï¸â—ï¸ èŠ‚ç‚¹çš„åŠ å¯†æ–¹å¼. ä¸ç­‰äºŽç”¨æˆ·æ³¨å†ŒåŽé»˜è®¤çš„åŠ å¯†æ–¹å¼. â—ï¸â—ï¸â—ï¸
            â—ï¸â—ï¸â—ï¸ èŠ‚ç‚¹çš„åŠ å¯†æ–¹å¼. ä¸ç­‰äºŽç”¨æˆ·æ³¨å†ŒåŽé»˜è®¤çš„åŠ å¯†æ–¹å¼. â—ï¸â—ï¸â—ï¸

            ä¸€èˆ¬ç”¨æˆ·æ³¨å†Œé»˜è®¤åŠ å¯†æ–¹å¼ éƒ½æ˜¯ rc4-md5. è¿™ä¸ªæ˜¯ mysql çš„é»˜è®¤å€¼!







ðŸ”¸ æ³¨å†Œç”¨æˆ· è¿›è¡Œæµ‹è¯•.
    å¯ä»¥ç›´æŽ¥ç”¨ç®¡ç†å‘˜å¸å·æ¥ç¿»å¢™.æ— é¡»æ³¨å†Œæ–°ç”¨æˆ·.
    å½“ç„¶ç”±äºŽå„ç§åŽŸå› ç®¡ç†å‘˜è´¦æˆ·å¯èƒ½ä¼šæœ‰é—®é¢˜.å°±éœ€è¦æ³¨å†Œæ–°ç”¨æˆ·æ¥æµ‹è¯•.


    â¦¿ æ·»åŠ èŠ‚ç‚¹
        usermysql.json é¢çš„IDæŒ‰ç…§è¿™é‡Œç”Ÿæˆçš„ä¸ºå‡†è®¾ç½®.

    â¦¿ ç”Ÿæˆé‚€è¯·ç 
        ç®¡ç†å‘˜è´¦æˆ·ç™»å½• âžœ  ç®¡ç†é¢æ¿ âžœ é‚€è¯·ç®¡ç† âžœ å¡«å†™é‚€è¯·ç æ•°é‡å¹¶ç”Ÿæˆ âžœ 
        
    â¦¿ æŸ¥çœ‹é‚€è¯·ç  âžœ http://ss.0214.live/code
        eifR4FJhjzwLLT9xEFTrzJq75ccTt3Df

    â¦¿ æ³¨å†Œæ–°ç”¨æˆ·
        é€€å‡ºç®¡ç†å‘˜, æ³¨å†Œæ–°ç”¨æˆ·,ç„¶åŽç”¨æ–°æ³¨å†Œçš„ç”¨æˆ·ç™»å½•.

    â¦¿ æŸ¥çœ‹æ–°ç”¨æˆ· ss é…ç½®ä¿¡æ¯
        ç”¨æˆ·ä¸­å¿ƒ âžœ  è¿žæŽ¥ä¿¡æ¯:

        ç«¯å£  1027
        å¯†ç  ASWDZX


    â¦¿ å¯åŠ¨SSR æœåŠ¡
        cd /root/shadowsocksr && python server.py


    â¦¿ æµ‹è¯•



	
ðŸ”¸ SSR åŽå°è¿è¡Œ
        ä¸‹é¢å‘½ä»¤éƒ½æ˜¯åœ¨ shadowsocksr è¿™ä¸ªæ ¹ç›®å½•ä¸‹æ‰§è¡Œçš„.

        â¦¿ è°ƒè¯•è¿è¡Œ:   python server.py

                è¿™å¥è¿è¡Œä»£ç ä¸»è¦ç”¨äºŽè°ƒè¯•ï¼Œå…³é—­sshåŽssåŽç«¯è‡ªåŠ¨å…³é—­ï¼Œæ‰€ä»¥æ­£å¼ä½¿ç”¨è¯·ä½¿ç”¨ä¸‹é¢çš„è„šæœ¬è¿è¡Œï¼å¦‚æžœéœ€è¦åœæ­¢è¯·æŒ‰Ctrl+Cé”®ç»ˆæ­¢ç¨‹åºã€‚
                è¿™æ—¶å¯æŸ¥çœ‹æœ‰è¿è¡Œæƒ…å†µï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰é”™è¯¯ã€‚å¦‚æžœæœåŠ¡ç«¯æ²¡æœ‰é”™è¯¯ï¼Œè€Œè¿žæŽ¥ä¸ä¸Šï¼Œéœ€è¦æ£€æŸ¥iptablesæˆ–firewall(centos7)çš„é˜²ç«å¢™é…ç½®


        â¦¿ é€šè¿‡è„šæœ¬è¿è¡Œ:
                è„šæœ¬ä½äºŽ /shadowsocksr æ ¹ç›®å½•ï¼Œå¦‚æžœä½ æ²¡æœ‰åœ¨è¿™ä¸ªç›®å½•ï¼Œè¯·å…ˆè¿›å…¥æ ¹ç›®å½•cd shadowsocksr
                è¯·åˆ†æ¸…æ¥šï¼Œæ ¹ç›®å½• /shadowsocksr å’Œå­ç›®å½• /shadowsocksr/shadowsocks ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼

                èµ‹äºˆæ‰€æœ‰è„šæœ¬æ‰§è¡Œæƒé™ï¼ˆæ‰§è¡Œä¸€æ¬¡å°±å¥½ï¼‰
                chmod +x *.sh

                åŽå°è¿è¡Œ ä½†ä¸è®°å½•æ—¥å¿—ï¼ˆsshçª—å£å…³é—­åŽä¹Ÿç»§ç»­è¿è¡Œï¼‰
                ./run.sh
                åŽå°è¿è¡Œ ä¸” è®°å½•æ—¥å¿—ï¼ˆsshçª—å£å…³é—­åŽä¹Ÿç»§ç»­è¿è¡Œï¼‰
                ./logrun.sh

                æŸ¥çœ‹ SSæ—¥å¿—ï¼ˆç”¨ logrun.sh è„šæœ¬å¯åŠ¨æ‰ä¼šæ‰“å¼€æ—¥å¿—ï¼‰
                ./tail.sh

                åœæ­¢è¿è¡Œ
                ./stop.sh

                æ³¨ï¼šé€šè¿‡è„šæœ¬è¿è¡Œé»˜è®¤æ—¥å¿—ä¼šä¿å­˜åœ¨æ ¹ç›®å½•çš„ssserver.logï¼Œå¯æ‰‹åŠ¨æŸ¥çœ‹ã€‚

                å¦‚æžœæ—¥å¿—æ–‡ä»¶å¤ªå¤§ï¼Œéœ€è¦æ¸…ç†ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤ æ¸…ç©º æ—¥å¿—æ–‡ä»¶ã€‚
                cat /dev/null > ssserver.log




ðŸ”¸ è®¾ç½®å¼€æœºå¯åŠ¨:
    â—ï¸â—ï¸ä¸å»ºè®®ç”¨ rc.local ç»å¸¸èŽ«åæ— æ•ˆ!! fuck ... å’±ä»¬ç”¨ supervisor è¿™ä¸ªç¥žå™¨. â—ï¸â—ï¸
    â—ï¸â—ï¸ä¸å»ºè®®ç”¨ rc.local ç»å¸¸èŽ«åæ— æ•ˆ!! fuck ... å’±ä»¬ç”¨ supervisor è¿™ä¸ªç¥žå™¨. â—ï¸â—ï¸
    â—ï¸â—ï¸ä¸å»ºè®®ç”¨ rc.local ç»å¸¸èŽ«åæ— æ•ˆ!! fuck ... å’±ä»¬ç”¨ supervisor è¿™ä¸ªç¥žå™¨. â—ï¸â—ï¸

        è¯¦æƒ…å‚è€ƒ supervisor.txt é‡Œé¢æœ‰.


sh /root/shadowsocksr/run.sh



â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
å®¢æˆ·ç«¯
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ðŸ”µ æœ¬åœ°å®¢æˆ·ç«¯è®¾ç½®: Mac: ShadowsSocksX-NG 
    server â†’ server preferences â†’ æ·»åŠ èŠ‚ç‚¹ â†’  
       ðŸ“Œ address: 23.105.192.96  ç«¯å£: 1026
       ðŸ“Œ Encryption: rc4-md5
       ðŸ“Œ Password:  JZrZe5

        ç¡®ä¿æœåŠ¡å™¨ä¸Š åŽç«¯çš„ss æœåŠ¡æ˜¯å¼€å¯çš„!
        ç„¶åŽå°±å¯ä»¥ä¸Šgoogleäº†!!!!
        2017-04-2-18 äº²æµ‹æˆåŠŸ.
        é€Ÿåº¦ èµ·ç 300KB+ æˆ‘ç”¨çš„å…¬å…±wifi ä¸Šé™å°±æ˜¯300. æ‰€ä»¥å®žé™…åªä¼šæ›´å¿«





ðŸ”µ å®¢æˆ·ç«¯2 

    spechtLite å¾ˆå¥½ç”¨çš„..  ä¸‹é¢æ˜¯æˆ‘çš„å‚è€ƒé…ç½®.
    ä½ åªéœ€ä¿®æ”¹ä¸‹é¢ 4ä¸ªå‚æ•°
    # type: ä»£ç†ç±»åž‹, æœ‰ssä»£ç†ã€httpä»£ç†.    
    host: 35.194.128.92
    port: 1026
    method: chacha20
    # å½“å‰æ”¯æŒçš„åŠ å¯†æ–¹æ³•æœ‰: AES-128-CFB, AES-192-CFB, AES-256-CFB, chacha20, salsa20, rc4-md5
    password: t54YdP







        # This is the local http proxy server port.
        # è¿™æ˜¯æœ¬åœ°ç›‘å¬çš„HTTPä»£ç†çš„ç«¯å£åœ°å€ã€‚
        # Note there is another SOCKS5 proxy server starts at port+1 automatically.
        # SpechtLiteè¿˜ä¼šè‡ªåŠ¨å¯ç”¨ä¸€ä¸ªä½äºŽport+1çš„SOCKS5ä»£ç†æœåŠ¡å™¨ã€‚
        # é€‰æ‹©å¤§äºŽ1024çš„æœªè¢«å ç”¨çš„ç«¯å£å³å¯ã€‚
        port: 9090

        # Adapter is the remote proxy server you want to connect to
        # ä¸‹é¢å®šä¹‰adapterï¼Œå³è¿œç¨‹ä»£ç†æœåŠ¡å™¨çš„ä¿¡æ¯ã€‚æ¯ä¸ªadapterä»£è¡¨ä¸€ä¸ªè¿œç¨‹ä»£ç†æœåŠ¡å™¨ã€‚

        adapter:
            # id is used to distinguish adapter when defining rules.
            # åœ¨å®šä¹‰è§„åˆ™çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨idæ¥å¼•ç”¨å½“å‰å®šä¹‰çš„adapterã€‚
            # There is a 'direct' adapter that connect directly to target host without proxy.
            # ç¨‹åºè‡ªåŠ¨å®šä¹‰äº†ä¸€ä¸ªidä¸ºdirectçš„adapterï¼Œä½¿ç”¨è¿™ä¸ªadapterå°†ä¼šä¸èµ°ä»£ç†ç›´æŽ¥è¿žæŽ¥ç›®æ ‡æœåŠ¡å™¨ã€‚
            # å› æ­¤è‡ªå®šä¹‰idä¸èƒ½ä¸ºdirectã€‚
            
        - id: adapter1
            type: ss
            # type: ä»£ç†ç±»åž‹, æœ‰ssä»£ç†ã€httpä»£ç†.    
            host: 35.194.128.92
            port: 1026
            method: chacha20
            # å½“å‰æ”¯æŒçš„åŠ å¯†æ–¹æ³•æœ‰: AES-128-CFB, AES-192-CFB, AES-256-CFB, chacha20, salsa20, rc4-md5
            password: t54YdP




        # Speed adapter automatically connects to all specified adapters (with given delay) 
        # and uses the fastest one that becomes ready.
        # é’ˆå¯¹æ¯ä¸ªè¯·æ±‚ï¼ŒSpeed adapter è‡ªåŠ¨è¿žæŽ¥æ‰€æœ‰çš„ä»£ç†æœåŠ¡å™¨ï¼ˆåŒ…æ‹¬directï¼‰ï¼Œå¹¶è‡ªåŠ¨é€‰æ‹©è¿žæŽ¥æœ€å¿«çš„æœåŠ¡å™¨
        - id: proxy
            type: SPEED
            adapters:
            - id: adapter1
                delay: 50
                # è®¾ç½®å»¶è¿Ÿï¼Œå•ä½ä¸ºæ¯«ç§’


        # ä¸å‘èµ·ä»»ä½•è¿žæŽ¥ï¼Œè€Œæ˜¯åœ¨ç»™å®šå»¶è¿ŸåŽæ–­å¼€
        # Disconnect after given delay without connecting to remote.
        - id: reject
            type: reject
            # It's very important to set a delay since some apps may try to reconnect repeatedly.
            # å»¶è¿Ÿéžå¸¸é‡è¦ï¼ŒæŸäº›appå¯èƒ½ä¼šåœ¨è¿žæŽ¥å¤±è´¥åŽç«‹åˆ»æ— é™é‡è¿žã€‚
            delay: 300



        # æŽ¥ä¸‹æ¥å®šä¹‰è§„åˆ™ï¼Œæ¯ä¸€ä¸ªè¿žæŽ¥è¯·æ±‚éƒ½ä¼šæŒ‰é¡ºåºä¸€ä¸€è¿›è¡ŒåŒ¹é…ã€‚ 
        # æŸä¸­è¯·æ±‚ ä½¿ç”¨æŸä¸ªæœåŠ¡å™¨...   
        # Here defines how things should work.
        # Rule will be matched one by one.
        rule:
        - type: iplist
        # Forward polluted host IP address
            file: ~/.SpechtLite/pollutedip
            adapter: proxy
        - type: list
        # Forward requests based on whether the host domain matches the given regular expressions.
        # åŸºäºŽç»™å®šçš„listæ–‡ä»¶ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åŸŸåä¿¡æ¯ï¼ˆä¸åŒ…æ‹¬IPï¼‰
            file: ~/.SpechtLite/directlist
            adapter: direct
        - type: iplist
        # Forward requests based on the IP address of the host.
            file: ~/.SpechtLite/directiprange
            adapter: direct
        - type: list
        # Forward requests based on whether the host domain matches the given regular expressions.
            file: ~/.SpechtLite/proxylist
            adapter: proxy
        - type: iplist
        # Forward requests based on the IP address of the host.
            file: ~/.SpechtLite/proxyiprange
            adapter: proxy
        - type: list
        # Reject requests based on whether the host domain matches the given regular expressions.
            file: ~/.SpechtLite/rejectlist
            adapter: reject
        - type: iplist
        # Reject requests based on the IP address of the host.
            file: ~/.SpechtLite/rejectiprange
            adapter: reject


        - type: country
        # When the location is unknown. Usually this means this is resolved an Intranet IP.
            country: CN
            match: true
            adapter: direct


        - type: country
        # When the location is unknown. Usually this means this is resolved an Intranet IP.
            country: --
            match: true
            adapter: direct



        - type: DNSFail
        # When the DNS lookup of the host fails.
        # å½“DNSè§£æžå¤±è´¥æ—¶åŒ¹é…ã€‚
            adapter: proxy


        - type: all
        # Match all other requests.
        # åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ã€‚
            adapter: proxy











â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
æ•°æ®åº“è½¬ç§»
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
vps1 æ˜¯centos 6 mysql 5.1 
vps2 æ˜¯centos 7 mysql 5.5
ä¸ºäº†å­¦ä¹ å„ç§ä¸»ä»Žæ­å»º. æœ‰å¿…è¦ç»Ÿä¸€ç³»ç»Ÿ. ç»Ÿä¸€mysql ç‰ˆæœ¬. 
vps1 ä¸Šæ³¨å†Œäº† 300+ çš„å…è´¹ç”¨æˆ·..  è¦å‡çº§ç³»ç»Ÿ å°±å¿…é¡»å…ˆå¤‡ä»½.
å…ˆæŠŠ vps1 ä¸Šçš„ ss æ•°æ®åº“ è½¬åˆ° vps2 ä¸Šçœ‹çœ‹ è¡Œä¸è¡Œ.

æ•°æ®è½¬ç§»æ–¹å¼: navicat âžœ æ•°æ®åº“å³é”® âžœ datatransfer âžœ å°±å¯ä»¥äº†.. è¿™ä¹ˆç®€å•.
ä¸‹é¢æŠŠ vps1 çš„ ssr é…ç½® æŒ‡å‘ vps2 çš„æ•°æ®åº“çœ‹çœ‹èƒ½ä¸èƒ½æˆåŠŸ..


vps1:
vi usermysql.json
host "127.0.0.1" æ”¹æˆ "104.224.139.45"
æ•°æ®åº“åæ”¹æˆ "ss" æ”¹æˆ "s"

ç„¶åŽé‡å¯æœåŠ¡å™¨çœ‹çœ‹ è¿˜èƒ½ä¸èƒ½è¿žä¸Š..
å¥½åƒè¿˜æ˜¯å¯ä»¥çš„ä¹ˆ....

é‚£ä¹ˆæŽ¥ä¸‹æ¥ å°±æ˜¯æŠŠ vps2 çš„å¤‡ä»½æ¢å¤åˆ° vps1ä¸Š.. ç„¶åŽç¨å¾®ä¿®æ”¹ä¸‹...
å°±å®Œæˆäº†.













â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ mysql å¯¼å…¥å¯¼å‡º ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
vps1 éœ€è¦é‡æ–°ç³»ç»Ÿ,ä½†æ˜¯é‡Œé¢æœ‰é‡è¦æ•°æ®.
vps1 ä¸Šçš„ ssæ•°æ®åº“éœ€è¦è¿ç§»åˆ° gce é‡Œé¢.

ðŸ”µ æ–¹æ³•ä¸€: Mysql å®¢æˆ·ç«¯: Navicat 
    Navicat è™½ç„¶éžå¸¸æ–¹ä¾¿.ä½†æ˜¯æ…¢. 
    å¤§æ¦‚å°±æ˜¯vps1 ä¸Šçš„æ•°æ®ä¸‹è½½åˆ° æœ¬åœ°. ç„¶åŽå†æ¢å¤åˆ°GCEä¸Š.
    ç”±äºŽæœ¬åœ°ä¸Šä¼ å¸¦å®½éžå¸¸å°... å¾ˆæ…¢å¾ˆæ…¢... 30Mçš„æ•°æ®åº“æ¢å¤è¦ä¸ªæŠŠå°æ—¶.


    ðŸ”¸ æ•°æ®åº“å¯¼å‡º (vps1)
        Navicat âžœ vps1 mysql âžœ é€‰æ‹© ss æ•°æ®åº“ âžœ å³é”® dump(è½¬å‚¨) SQL file 
        âžœ structure + data âžœ å‚¨å­˜åˆ° Mac æ¡Œé¢; æ–‡ä»¶å ss.sql

    ðŸ”¸ æ•°æ®åº“å¯¼å…¥ (GCE)
        Navicat âžœ GCE mysql âžœ æ–°å»ºæ•°æ®åº“: ss-vps1ã€utf-8ã€uft8-bin
        âžœ å³é”® Execute SQL file âžœ é€‰æ‹© ss.sql æ–‡ä»¶ ç¼–ç : utf-8 âžœ å¼€å§‹



ðŸ”µ æ–¹æ³•äºŒ: Mysql å‘½ä»¤è¡Œ
    æœåŠ¡å™¨çš„å¸¦å®½æœ¬æ¥å°±éžå¸¸å¿«. ä¸€èˆ¬éƒ½æ˜¯100M/1000M çš„ç½‘é€Ÿ.
    åœ¨vps1ä¸Šå¯¼å‡ºæ•°æ®åº“åˆ° vps1  ç„¶åŽæ¢å¤åˆ°GCE.


    ðŸ”¸ å¯¼å‡ºæ•´ä¸ªæ•°æ®åº“ (vps1) ç»“æž„+æ•°æ®!
        è¯­æ³•: mysqldump -uroot -pdbpasswd dbname >db.sql;

        cd /root && mysqldump -uroot -pxujian0219 ss >db.sql;
            vps1 çš„ root ç›®å½•ä¸‹å°±å¤šäº†ä¸ª db.sql æ–‡ä»¶äº†.
            æŽ¥ä¸‹æ¥è¦æŠŠ db.sql ç”¨scp å‘½ä»¤ä¼ åˆ° gce æœåŠ¡å™¨ä¸ŠåŽ»

    ðŸ”¸ æ•°æ®åº“ä¸Šä¼  (vps1)
        scp -P 2222 -r /root/db.sql root@35.194.128.92:/root/

        scp -P 2222 -r /home/mycms root@35.194.128.92:/home/

    ðŸ”¸ æ•°æ®åº“æ¢å¤ (GCE)
        é¦–å…ˆè¦æ–°å»ºæ•°æ®åº“. ss-vps1ã€utf-8ã€uft8-bin
        è¿˜æ˜¯ç”¨å®¢æˆ·ç«¯è½¯ä»¶å»ºå§.ç„¶åŽæ¢å¤.
        mysql -uroot -p ss-vps1 < /root/db.sql







â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ å¤šèŠ‚ç‚¹SSR  ðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µðŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
æ•°æ®åº“å¯ä»¥åªæœ‰ä¸€ä¸ª
å‰ç«¯åªéœ€è¦ä¸€ä¸ª.  
ä½†æ˜¯åŽç«¯ ä¸‰å°æœåŠ¡å™¨éƒ½éœ€è¦å®‰è£….


ç„¶åŽæ‰€æœ‰å‰ç«¯ æ‰€æœ‰åŽç«¯ éƒ½è¿žæŽ¥åˆ°ç›¸åŒçš„æ•°æ®åº“.
ç„¶åŽå‰ç«¯åŽ»æ–°å»ºå‡ ä¸ªèŠ‚ç‚¹. 

ç„¶åŽä½ åœ¨å‰ç«¯æ³¨å†Œçš„è´¦æˆ·.  å¯†ç ç«¯å£éƒ½ä¸å˜. åªéœ€è¦æ›´æ”¹ IP å°±å¯ä»¥åˆ‡æ¢èŠ‚ç‚¹!!



æœåŠ¡å™¨æœ‰3å°.  
é‚£ä¹ˆå‰ç«¯åªéœ€å®‰è£…åœ¨ä¸€å°æœåŠ¡å™¨ä¸Š. åŽç«¯éœ€è¦å®‰è£…åœ¨æ¯å°æœåŠ¡å™¨ä¸Š
æˆ‘ä»¬æŠŠå‰ç«¯å®‰è£…åœ¨ gce ä¸Š.
ç„¶åŽè®©ä¸‰å°çš„ ssr åŽç«¯éƒ½è¿žåˆ° gce çš„ mysql æ•°æ®åº“ä¸­. 
è¿™æ ·å°±å¯ä»¥ä¸€ä¸ªåœ°æ–¹æ³¨å†Œ.ä½¿ç”¨å¤šä¸ªèŠ‚ç‚¹äº†.



çŽ°åœ¨ä¸‰ä¸ªæœåŠ¡å™¨ éƒ½è¿žæŽ¥åˆ°ä¸€ä¸ªæ•°æ®åº“ä¸­.
æ‰€ä»¥...  ä½ åœ¨å‰ç«¯æ³¨å†Œçš„ è´¦æˆ· èƒ½åŒæ—¶åœ¨ä¸‰ä¸ªæœåŠ¡å™¨ä¸­ä½¿ç”¨.
åªè¦æ”¹å˜æœåŠ¡å™¨çš„IPå°±å¯ä»¥äº†.

é‚£ä¹ˆé—®é¢˜æ¥äº†.. 
æ¯å°æœåŠ¡å™¨æ¯æœˆæµé‡ä¸ä¸€æ ·.. 
åªèƒ½è®©äººå®¶ å¤šç”¨ æµé‡å¤šçš„... 


ä¸«çš„.. è¿™éš¾é“æ˜¯è¯´..  äººå®¶çŸ¥é“æˆ‘gceçš„ip å°±å¯ä»¥ç”¨...æˆ‘gceçš„æµé‡äº†...
è¦ä¹ˆå°±æé«˜æµé‡æ¯”ä¾‹.... 1000å€ 
ä¹Ÿå°±æ˜¯è¯´ äººå®¶ç”¨ gce èŠ‚ç‚¹ ç”¨äº†1G ä¼šæ˜¾ç¤ºç”¨äº† 10000G å°±ä¼šè¶…è¿‡æ¯æœˆ20G è‡ªåŠ¨åœæ­¢å¯¹æ–¹æœåŠ¡.








ðŸ‘¹  å¦‚æžœå¤šä¸ªèŠ‚ç‚¹è¿žåˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Š, å¯èƒ½ä¼šè¿žæŽ¥æ•°æ®åº“å¤±è´¥.
ðŸ‘¹
InternalError: (1129, u"Host 'mail.0214.help' is blocked because of many connection errors; unblock with 'mysqladmin flush-hosts'")

ç›´æŽ¥ç™»å½•æ•°æ®åº“ æ‰§è¡Œä¸‹é¢å‘½ä»¤å°±å¯ä»¥.
flush hosts;

