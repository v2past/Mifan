
å‚è€ƒ å¾…çœ‹: http://www.jianshu.com/p/89163e927a2c




æ¢è¡Œç¬¦å·: \n


ğŸ”µ å•å¼•å·å¤„ç†! âœ”ï¸



å¦‚éœ€è¦å°†æ–‡ä»¶ä¸­çš„Hiæ›¿æ¢ä¸ºHello:

sed 's/Hi/Hello/g' test.txt > new_test.txt

æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œsedæ˜¯ä»¥å•å¼•å·ä½œä¸ºå…³é”®å­—çš„ï¼Œé‚£å½“æˆ‘ä»¬éœ€è¦å¤„ç†çš„å…³é”®å­—é‡Œé¢åŒ…å«å•å¼•å·çš„æ—¶å€™ï¼Œè¿™æ—¶å€™æ”¹å¦‚ä½•å¤„ç†ï¼Ÿ
é€šå¸¸çš„æƒ³æ³•æ˜¯è½¬ä¹‰ã€‚å¦‚éœ€è¦å°†æ–‡ä»¶ä¸­çš„â€™Hiâ€™æ›¿æ¢ä¸ºâ€™Helloâ€™ï¼š

sed 's/\'Hi\'/\'Hello\'/g' test.txt > new_test.txt

å®é™…ä¸Šè¿™æ ·ä¸èµ·ä½œç”¨ï¼Œè¿™æ—¶å€™ä¸èƒ½è½¬ä¹‰ï¼Œ

â—ï¸â—ï¸â—ï¸â—ï¸æœ€ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠsedçš„å•å¼•å·å˜ä¸ºåŒå¼•å·ï¼š

sed "s/'Hi'/'Hello'/g" test.txt > new_test.txt








ğŸ”µ sed ç®€ä»‹
  ç›´æ¥ç¼–è¾‘æ–‡æœ¬. 
  å¯¹äºä¿®æ”¹é…ç½®æ–‡ä»¶éå¸¸æ–¹ä¾¿. ä¸åœ¨éœ€è¦viæ‰“å¼€æ–‡ä»¶. ç¼–è¾‘ .å†é€€å‡ºæ–‡ä»¶. ä¸€è¡Œå‘½ä»¤å°±æå®š.






ğŸ”µ sedè¯­æ³•: 


sed + åŠŸèƒ½é€‰é¡¹ + æ¡ä»¶é€‰é¡¹ 
åŠŸèƒ½é€‰é¡¹ -i  å°±æ˜¯ç›´æ¥ä¿®æ”¹åŸæ–‡ä»¶.
æ¡ä»¶é€‰é¡¹







sed + å‘½ä»¤ + æ–‡ä»¶è·¯å¾„



sed -i 's/åŸå†…å®¹/ä¿®æ”¹åå†…å®¹/g' filePath




å¦‚æœå­—ç¬¦ä¸²ä¸­å«æœ‰å•å¼•å·. åŠ \æ˜¯å¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœçš„.
åŠŸèƒ½éƒ¨åˆ† å…ˆç”¨ åŒå¼•å·. è¿™æ ·ä¸ç”¨åæ–œæ†å°±å¯ä»¥è¾“å‡ºå†…å®¹.




ğŸ”µ å•åŒ å¼•å·åŒºåˆ«.
â—ï¸â—ï¸â—ï¸å•å¼•å·ï¼šå¯¹å…¶ä¸­çš„å†…å®¹ä¸åšä»»ä½•å¤„ç†ã€‚  ä¸èƒ½ç”¨å˜é‡!!!
â—ï¸â—ï¸â—ï¸åŒå¼•å·ï¼šå…ˆå¯¹å…¶ä¸­çš„å†…å®¹è¿›è¡Œç®—æœ¯æ‰©å±•ã€‚å¯ä»¥ç”¨å˜é‡!!!

å•å¼•å·å†… å¥½åƒæ— æ³•ç”¨\' æ¥å˜æˆ '
åŒå¼•å·å†… å¥½åƒå¯ä»¥ç”¨\' æ¥å˜æˆ'


ğŸ”µ ç‰¹æ®Šç¬¦å·.

å†…å®¹é‡Œé¢ç»å¸¸ä¼šæœ‰ç‰¹æ®Šç¬¦å·.  éœ€è¦è½¬ä¹‰åæ‰èƒ½ç”¨!
ä¸€èˆ¬ç‰¹æ®Šç¬¦å· æ·»åŠ \ å°±å¯ä»¥äº† ä½†æ˜¯ä¸æ˜¯æ‰€æœ‰çš„ç¬¦å·éƒ½å¯ä»¥è¿™æ ·çš„.



/   âœ \/
$
^
'
.



'  âœ \'
ç©ºæ ¼ âœ \s
[]  âœ  \[\]



ğŸ”µ åˆ é™¤è¡Œ

sed -i '/æ­£åˆ™å¼åŒ¹é…è¡Œ/d'
sed -i '/ALLOWED_HOSTS\s=\s\[\]/d' /home/djSite/djSite/settings.py









sedæ˜¯å®ç°å¯¹æµçš„ç¼–è¾‘ã€‚é€šå¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨sedå¯ä»¥å®ç°å†…å®¹çš„ç¼–è¾‘åç„¶åä¿å­˜æˆå¦å¤–çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ­£ç¡®çš„è¯ï¼Œæ‰å†™å…¥åˆ°æºæ–‡ä»¶ã€‚ä½†æ˜¯æŸäº›æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç›´æ¥ä¿®æ”¹æ–‡ä»¶ï¼Œå› ä¸ºï¼Œä¿å­˜æ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå†è¦†ç›–åŸæ–‡ä»¶çš„åŠæ³•æ˜¾å¾—å¾ˆéº»çƒ¦ã€‚
å…¶å®å¾ˆç®€å•ï¼Œåªéœ€è¦ä¸€ä¸ª -i å‚æ•°å°±å¯ä»¥äº†ã€‚
æ¯”å¦‚ï¼Œæˆ‘æƒ³æ›¿æ¢æ–‡ä»¶ä¸­çš„ properties ä¸º property ,å¯ä»¥ä½¿ç”¨

sed  's/properties/property/g'  build.xml

è¿™ç§æ–¹å¼ï¼Œå…¶å®å¹¶æ²¡æœ‰ä¿®æ”¹build.xmlæ–‡ä»¶çš„å†…å®¹ã€‚å¦‚æœæƒ³ä¿å­˜ä¿®æ”¹ï¼Œé€šå¸¸çš„åšæ³•å°±éœ€è¦é‡å®šå‘åˆ°å¦å¤–çš„ä¸€ä¸ªæ–‡ä»¶
sed  's/properties/property/g'  build.xml > build.xml.tmp
è¿™æ ·ï¼Œbuild.xml.tmpæ–‡ä»¶å°±æ˜¯ä¿®æ”¹åçš„æ–‡ä»¶.
å¦‚æœæ— è¯¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨
mv build.xml.tmp build.xml
è¦†ç›–åŸæ–‡ä»¶ã€‚
å¦‚æœæƒ³ç›´æ¥ä¿®æ”¹æºæ–‡ä»¶ï¼Œè€Œæ²¡æœ‰è¿™æ ·çš„è¿‡ç¨‹ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤

sed  -i 's/properties/property/g'  build.xml

è¿™æ ·ï¼Œå°±ç›´æ¥ä¿®æ”¹äº†build.xmlæ–‡ä»¶ã€‚




ğŸ”µ ä¾‹ä¸€:

mysite/settings.py 
ä¸­çš„  ALLOWED_HOSTS = [] 
æ”¹æˆ: ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] 


è¯­æ³•: sed -i '/åŒ¹é…è¡Œ/c ä¿®æ”¹å†…å®¹' filePath



sed -i '/ALLOWED_HOSTS/c ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] ' /home/djSite/djSite/settings.py









aå‘½ä»¤å’Œiå‘½ä»¤

aå‘½ä»¤å°±æ˜¯appendï¼Œ iå‘½ä»¤å°±æ˜¯insertï¼Œå®ƒä»¬æ˜¯ç”¨æ¥æ·»åŠ è¡Œçš„ã€‚å¦‚ï¼š


# å…¶ä¸­çš„1iè¡¨æ˜ï¼Œå…¶è¦åœ¨ç¬¬1è¡Œå‰æ’å…¥ä¸€è¡Œï¼ˆinsertï¼‰
$ sed "1 i This is my monkey, my monkey's name is wukong" my.txt
This is my monkey, my monkey's name is wukong
This is my cat, my cat's name is betty
This is my dog, my dog's name is frank
This is my fish, my fish's name is george
This is my goat, my goat's name is adam
 

# å…¶ä¸­çš„1aè¡¨æ˜ï¼Œå…¶è¦åœ¨æœ€åä¸€è¡Œåè¿½åŠ ä¸€è¡Œï¼ˆappendï¼‰
$ sed "$ a This is my monkey, my monkey's name is wukong" my.txt
This is my cat, my cat's name is betty
This is my monkey, my monkey's name is wukong
This is my dog, my dog's name is frank
This is my fish, my fish's name is george
This is my goat, my goat's name is adam





æˆ‘ä»¬å¯ä»¥è¿ç”¨åŒ¹é…æ¥æ·»åŠ æ–‡æœ¬ï¼š

# æ³¨æ„å…¶ä¸­çš„/fish/aï¼Œè¿™æ„æ€æ˜¯åŒ¹é…åˆ°/fish/åå°±è¿½åŠ ä¸€è¡Œ
$ sed "/fish/a This is my monkey, my monkey's name is wukong" my.txt
This is my cat, my cat's name is betty
This is my dog, my dog's name is frank
This is my fish, my fish's name is george
This is my monkey, my monkey's name is wukong
This is my goat, my goat's name is adam







è¿½åŠ æ˜¯å•¥å­ï¼Œåæ¥ç½‘ä¸ŠæŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œæ˜ç™½äº†ï¼Œåœ¨æŒ‡å®šè¡Œæ·»åŠ å†…å®¹ï¼Œä½¿ç”¨/aæˆ–è€…/i,å…·ä½“ä¾‹å­ï¼š
1
sed '/2/i\add a new line' -i install.log
åœ¨ç¬¬äºŒè¡Œå‰æ·»åŠ ä¸€è¡Œä¿¡æ¯å‘½ä»¤å¦‚ä¸Šï¼Œ
1
sed '/3/a\add a new line' -i install.log





