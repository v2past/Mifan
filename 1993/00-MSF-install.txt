
â¤ï¸ CentOS 6 å®‰è£…

ğŸ”µ å®‰è£…ä¾èµ–:

    yum groupinstall 'Development Tools'

    yum install sqlite-devel libxslt-devel libxml2-devel java-1.7.0-openjdk libpcap-devel nano openssl-devel zlib-devel libffi-devel gdbm-devel readline-devel nano wget


ğŸ”µ å®‰è£…yaml:(rubyä¾èµ–)

        cd /usr/src
        wget http://pyyaml.org/download/libyaml/yaml-0.1.6.tar.gz
        tar zxvf yaml-0.1.6.tar.gz 
        cd yaml-0.1.6
        ./configure --prefix=/usr/local
        make && make install


ğŸ”µ ruby å®‰è£…

        cd /usr/src
        wget http://ftp.ruby-lang.org/pub/ruby/2.2/ruby-2.2.1.tar.gz
        tar zxvf ruby-2.2.1.tar.gz
        cd ruby-2.2.1
        ./configure --prefix=/usr/local --with-opt-dir=/usr/local/lib
        make && make install


ğŸ”µ å®‰è£… Nmap

    cd /usr/src  svn co https://svn.nmap.org/nmap
    cd nmap && ./configure
    make && make install && make clean



ğŸ”µ å®‰è£… Postgresql

        ä¸‹è½½
        exclude=postgresql*
        wget https://download.postgresql.org/pub/repos/yum/9.4/redhat/rhel-6-i386/pgdg-centos94-9.4-3.noarch.rpm

        rpm -ivh pgdg-centos94-9.4-3.noarch.rpm

        yum update
        yum install postgresql94-server postgresql94-devel postgresql94


        ç°åœ¨å¼€å§‹åˆå§‹åŒ–æœåŠ¡å™¨å¹¶å°†å…¶é…ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨ï¼Œå‘½ä»¤å¦‚ä¸‹
        service postgresql-9.4 initdb
        service postgresql-9.4 start
        chkconfig postgresql-9.4 on


        å› ä¸ºç¼–è¯‘rubyæ‰€å¿…é¡»çš„gemæ—¶ï¼Œéœ€è¦æŠŠæ–°å®‰è£…çš„åŠ å…¥è·¯å¾„ï¼Œè¿™æ ·ç¼–è¯‘å™¨å°±èƒ½æ‰¾åˆ°åº“å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥éœ€è¦æ‰§è¡Œå‡ ä¸ªå‘½ä»¤ï¼š

        echo export PATH=/usr/pgsql-9.4/bin:\$PATH >> /etc/bashrc
            // å¦‚æœä½ ç”¨çš„æ˜¯zsh å°±ä¿®æ”¹ .zhsrc
            // æ·»åŠ è¿™è¡Œå†…å®¹è¿›å»å°±å¯ä»¥  export PATH=/usr/pgsql-9.4/bin:$PATH
        source ~/.bashrc
            // è¿™ä¸ªæ˜¯é‡æ–°åŠ è½½ bashçš„æ„æ€. 
            // source ~/.zshrc


        æ¥ä¸‹æ¥ï¼Œåˆ‡æ¢åˆ°Postgresqlç”¨æˆ·ï¼Œ
        è¿™æ ·å°±å¯ä»¥åˆ›å»ºæˆ‘ä»¬å°†è¦ç”¨äºMetasploitçš„ç”¨æˆ·åå’Œæ•°æ®åº“äº†ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

        su - postgres


        ç°åœ¨å¼€å§‹åˆ›å»ºç”¨æˆ·å’Œæ•°æ®åº“,è¿™äº›éƒ½å°†åœ¨database.ymlä¸­ä½¿ç”¨åˆ°ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š
        createuser msf -P -S -R -D     // è®°ä½è‡ªå·±çš„çš„å¯†ç . æˆ‘æ˜¯ xujian
        createdb -O msf msf
        exit



        ä¸ºäº†å…è®¸æˆ‘ä»¬åˆ›å»ºçš„ç”¨æˆ·èƒ½å¤Ÿè¿æ¥Postgresqlï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹pg_hba.confæ–‡ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
            vi /var/lib/pgsql/9.4/data/pg_hba.conf

            local msf msf md5
            hostmsf msf 127.0.0.1/8 md5
            hostmsf msf ::1/128 md5


            è®¾ç½®å¥½äº†ä¹‹åï¼Œé‡å¯æœåŠ¡ï¼š
            service postgresql-9.4 restart
            è¿™é‡Œä½ è®¾ç½®ä¸å¯¹ å°±ä¼šå¯åŠ¨ä¸äº†!!!
            æˆ‘æˆ‘ä»¬å°±ä¸è¯¥.
            ä¸å°±æ˜¯è¿æ¥æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“ä¹ˆ.
            navicast å¯ä»¥é€šè¿‡ssh å…ˆç™»å½•åˆ°æœåŠ¡å™¨. å†è¿æ¥åˆ°æ•°æ®åº“.
            è¿™æ ·å°±ä¸ç”¨è¯¥è¿™ä¸ªè®¾ç½®äº†..





ğŸ”µ å®‰è£…Metasploitæ¡†æ¶.

æˆ‘ä»¬éœ€è¦å†å®‰è£…ä¸€äº›Metasploitä¾èµ–çš„Rubyåº“ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

gem install wirble pg sqlite3 msgpack activerecord redcarpet rspec simplecov yard bundler


ğŸ”¸ ä½¿ç”¨Gitä¸‹è½½æœ€æ–°çš„Metasploitï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
    cd /opt
    git clone https://github.com/rapid7/metasploit-framework.git
    cd metasploit-framework



ğŸ”¸ ä¸ºäº†åœ¨ç»ˆç«¯ä¸‹ä¹Ÿèƒ½è¿è¡Œï¼Œè¿™æ ·å°±ä¸ä»…ä»…åªåœ¨Metasploitçš„æ–‡ä»¶ä¸­è¿è¡Œã€‚æˆ‘ä»¬éœ€è¦åˆ›å»ºè½¯é“¾æ¥ã€‚

    bash -c 'for MSF in $(ls msf*); do ln -s /opt/metasploit-framework/$MSF /usr/local/bin/$MSF;done'
    ln -s /opt/metasploit-framework/armitage /usr/local/bin/armitage


ğŸ”¸ åœ¨ç»ˆç«¯ä¸‹ï¼Œè¿›å…¥Metasploitçš„æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨Bundler Gemæ¥å®‰è£…åˆé€‚çš„Gemç‰ˆæœ¬ï¼š
    bundle install


ğŸ”¸ åˆ›å»ºMetasploitæ¡†æ¶å°†è¦ä½¿ç”¨çš„database.ymlï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

    vi /opt/metasploit-framework/database.yml
        database.ymlä¸­çš„å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š
            production:
            adapter: postgresql
            database: msf
            username: msf
            password: 
            host: 127.0.0.1
            port: 5432
            pool: 75
            timeout: 5



        å†æ¬¡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œè¿™æ ·å°±èƒ½é€šè¿‡Armitageå’Œmsfconsoleåœ¨å½“å‰shellä¸­åˆ›å»ºå’ŒåŠ è½½ç¯å¢ƒå˜é‡ï¼š

        echo export MSF_DATABASE_CONFIG=/opt/metasploit-framework/database.yml >> /etc/bashrc
        source ~/.bashrc


        msfconsole  è¿è¡Œmsf
        ç„¶åæœåŠ¡å™¨é‡å¯ è¾“å…¥ msfconsole çœ‹çœ‹èƒ½ä¸èƒ½è¿›å»..



