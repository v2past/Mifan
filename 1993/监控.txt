ğŸ”µ Zabbix ç®€ä»‹: 

    - ä¼ä¸šçº§çš„ CPUã€å†…å­˜ã€ç¡¬ç›˜ã€ç½‘ç»œã€ç«¯å£ã€æ—¥å¿—çš„ ç›‘è§†è½¯ä»¶.ç”¨ç½‘é¡µæ¥ç›‘æ§ç³»ç»ŸçŠ¶æ€.å®æ—¶ç»˜å›¾: æ›´ç›´è§‚æ˜¾ç¤ºæœåŠ¡å™¨çŠ¶æ€.
    - æ”¯æŒä¸»æµ Linuxã€Mac OS . ä½†æ˜¯ Windows åªèƒ½è·‘å®¢æˆ·ç«¯!!!!!

    - è½¯ä»¶ç‰ˆæœ¬: 
      - LTS: Long Time Support é•¿æœŸæ”¯æŒ.
      - Zabbix 3.0 LTS  2016 2.16 å‘è¡Œ. 2017-04-14-12 æœ€æ–°ç‰ˆåº”è¯¥æ˜¯ 3.2.4

    - è§¦å‘å™¨(trigger):  CPU è¾¾åˆ° 90% è‡ªåŠ¨å‘é‚®ä»¶ç»™ä½ è­¦å‘Š

    Zabbix ç»„æˆ: Server ç›‘æ§ç«¯ + Agent (è¢«ç›‘æ§ç«¯);
    æºä»£ç å‹ç¼©åŒ…åªæœ‰ä¸€ä¸ª: åŒ…å«äº† Server + Agent.  ç¼–è¯‘çš„æ—¶å€™ æŒ‰éœ€æ±‚é€‰æ‹©å®‰è£…å°±å¥½äº†.

    zabbix serverå¯ä»¥é€šè¿‡SNMPï¼Œzabbix agentï¼Œpingï¼Œç«¯å£ç›‘è§†ç­‰æ–¹æ³•æä¾›å¯¹è¿œç¨‹æœåŠ¡å™¨/ç½‘ç»œçŠ¶æ€çš„ç›‘è§†ï¼Œæ•°æ®æ”¶é›†ç­‰åŠŸèƒ½ï¼Œ

    æœåŠ¡ç«¯:  éœ€è¦å®‰è£… zabbixã€webæœåŠ¡å™¨(Nginx/Apache)ã€æ•°æ®åº“(mysql/postsql...)ã€php
    å®¢æˆ·ç«¯:  éœ€è¦å®‰è£… zabbix3.2.4
    å®‰è£…è¿‡ç¨‹å»ºè®®å…³é—­é˜²ç«å¢™.   service iptables stop



ğŸ”µ zabbix è¿›ç¨‹ç»“æ„:
    zabbix_agentd
    zabbix_get
    zabbix_proxy
    zabbix_sender
    zabbix_server
    zabbix_java_gateway (å¯é€‰)

    è¿›ç¨‹ä»‹ç»:
      
    zabbix_agentd
        å®¢æˆ·ç«¯å®ˆæŠ¤è¿›ç¨‹ï¼Œæ”¶é›†å®¢æˆ·ç«¯æ•°æ®ï¼Œå¦‚cpuã€å†…å­˜ã€ç¡¬ç›˜ä½¿ç”¨ä½¿ç”¨æƒ…å†µ.

    zabbix_get
        è·å–è¢«ç›‘æ§å®¢æˆ·ç«¯ä¿¡æ¯çš„å‘½ä»¤,å¸¸ç”¨äºæ’é”™ã€‚

    zabbix_sender
        å‘é€æ•°æ®ç»™serveræˆ–è€…proxyï¼Œé€šå¸¸ç”¨äºè€—æ—¶æ¯”è¾ƒé•¿çš„æ£€æŸ¥ã€‚
        è„šæœ¬æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä½¿ç”¨senderä¸»åŠ¨æäº¤æ•°æ®ã€‚

    zabbix_server
        æœåŠ¡ç«¯å®ˆæŠ¤è¿›ç¨‹ã€‚æ‰€æœ‰æ•°æ®æœ€ç»ˆéƒ½æ˜¯æäº¤åˆ°server
        å¤‡æ³¨ï¼šæœ‰äº›æ•°æ®ä¸»åŠ¨äº¤ç»™server,ä¹Ÿæœ‰çš„æ˜¯serverä¸»åŠ¨å»è·å–æ•°æ®ã€‚

    zabbix_proxy
        ä»£ç†å®ˆæŠ¤è¿›ç¨‹ã€‚åŠŸèƒ½ç±»ä¼¼serverï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯å®ƒåªæ˜¯ä¸€ä¸ªä¸­è½¬ç«™.
        å®ƒéœ€è¦æŠŠæ”¶é›†åˆ°çš„æ•°æ®æäº¤/è¢«æäº¤åˆ°serveré‡Œã€‚




â¤ï¸ æœåŠ¡ç«¯( VPS Centos6 )å®‰è£…
    ğŸ”¸ ä¸€å®šè¦å…ˆå®‰è£…ä¾èµ–ç»„ä»¶,ä¸ç„¶æŠ¥é”™. ä¼šç¼–è¯‘ä¸æˆåŠŸ
    yum install net-snmp-devel libxml2-devel libcurl-devel 

    ğŸ”¸ ä¸‹è½½æºä»£ç åˆ° src .
    cd /usr/local/src     âœ å…¶å®ä¸‹è½½åˆ°å“ªé‡Œéƒ½å¯ä»¥. æ³¨æ„å®‰è£…è·¯å¾„å°±å¯ä»¥äº†. ä¸€èˆ¬éƒ½æ˜¯ä¸‹è½½åˆ°srcæ–‡ä»¶å¤¹çš„.
      âœ å»å®˜ç½‘ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æºä»£ç :  http://www.zabbix.com/download
      âœ zabbix Sources âœ  zabbix 3.2 âœ  ç‚¹è¿›å»ç­‰å‡ ç§’ä¼šå¼€å§‹ä¸‹è½½. 
      âœ å»æµè§ˆå™¨ æ‰¾å‡ºè¿™ä¸ªä¸‹è½½çš„çœŸå®åœ°å€ âœ  ç„¶åç”¨ wget + åœ°å€ ä¸‹è½½åˆ°æœåŠ¡å™¨....
      Zabbix serverä¸€èˆ¬å……å½“ä¸¤ä¸ªè§’è‰²ï¼šserverã€angentï¼Œ 
      æ‰€ä»¥ä¸‹é¢ç¼–è¯‘çš„æ—¶å€™ä¹ŸåŒæ—¶åŠ ä¸Šäº†--enable-agentã€‚

        wget https://superb-sea2.dl.sourceforge.net/project/zabbix/ZABBIX%20Latest%20Stable/3.2.4/zabbix-3.2.4.tar.gz
        tar xf zabbix-3.2.4.tar.gz && cd zabbix-3.2.4
        ./configure --prefix=/usr/local/zabbix-server --enable-server --with-mysql --with-net-snmp --with-libcurl --with-libxml2 --enable-agent
        make && make install



ğŸ”µ åˆ›å»ºzabbix ç”¨æˆ·/ç”¨æˆ·ç»„
    ä¸ºäº†å®‰å…¨è€ƒè™‘zabbixåªä½¿ç”¨æ™®é€šç”¨æˆ·è¿è¡Œï¼Œ
    å‡å¦‚ä½ å½“å‰ç”¨æˆ·æ˜¯ttlsaï¼Œé‚£ä¹ˆä½ è¿è¡Œä»–ï¼Œä»–ä¾¿ä½¿ç”¨ttlsaèº«ä»½è¿è¡Œã€‚
    å‡å¦‚ä½ å½“å‰ç”¨æˆ·æ˜¯root  é‚£ä¹ˆzabbixå°†ä¼šä¸»åŠ¨ä½¿ç”¨zabbixç”¨æˆ·æ¥è¿è¡Œã€‚
    ä½†æ˜¯å¦‚æœä½ çš„ç³»ç»Ÿæ²¡æœ‰åå«zabbixçš„ç”¨æˆ·ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªzabbixç”¨æˆ·å’Œzabbixç”¨æˆ·ç»„
    groupadd zabbix
    useradd -g zabbix zabbix


ğŸ”µ åˆ›å»ºzabbixæ•°æ®åº“
    zabbix serveræœåŠ¡å™¨ç«¯éœ€è¦æ•°æ®åº“ï¼Œangentè¢«ç›‘æ§ç«¯ä¸éœ€è¦ã€‚
    å°¤å…¶è¦æ³¨æ„çš„æ˜¯proxyåªéœ€è¦å¯¼å…¥ä¸€ä¸ªsqlæ–‡ä»¶(å¤šå¯¼å…¥ä¼šæŠ¥é”™!)ï¼Œè€Œserverä¸€å…±è¦å¯¼å…¥3ä¸ªsqlæ–‡ä»¶ã€‚

    å‡è®¾:ä½ å®‰è£…å¥½äº†MySQLï¼Œç”¨æˆ·åä¸ºrootï¼Œå¯†ç ä¸ºttlsapwd
    mysql -uroot -pxujian                         âœ æ¥è¿›å…¥æœåŠ¡å™¨çš„æ•°æ®åº“. (é¦–å…ˆsshè¿›æœåŠ¡å™¨.)
    create database zabbix default charset utf8;  âœ åˆ›å»ºæ•°æ®åº“, åŠ default charset utf8ï¼Œä¸ç„¶ä¸­æ–‡ä¹±ç ï¼Œ
    quit;                                         âœ é€€å‡ºmysql. è¿™é‡Œç›®çš„åªè¦åˆ›å»ºä¸€ä¸ªzabbix åç§°çš„æ•°æ®åº“

ğŸ”µ å¯¼å…¥sqlæ–‡ä»¶.
    ä¸‹é¢éœ€è¦è¿›å…¥è§£å‹å‡ºæ¥çš„zabbixæ–‡ä»¶å¤¹å†…è¿›è¡Œåç»­æ“ä½œ: ä¹Ÿå°±æ˜¯å¯¼å…¥ä¸‰ä¸ªsqlæ–‡ä»¶. 
    cd /usr/local/src/zabbix-3.2.4
    mysql -uroot -pxujian0219 zabbix < database/mysql/schema.sql
    mysql -uroot -pxujian0219 zabbix < database/mysql/images.sql
    mysql -uroot -pxujian0219 zabbix < database/mysql/data.sql


    ğŸ‘¹ ERROR 1071 (42000) at line 1476: Specified key was too long; max key length is 1000 bytes
        å¦‚æœé‡åˆ°è¿™ä¸ªæŠ¥é”™ å°±è¯´æ˜ç´¢å¼•å¤ªé•¿äº†. é»˜è®¤æœ€é•¿å€¼ 1000bytes.
        ä½ æ•°æ®åº“å¼•æ“ç”¨çš„æ˜¯ MyISAMå¼•æ“, å»ºè®®æ¢innodbå¼•æ“.
        Innodb å¼•æ“æ€§èƒ½å¥½å¾ˆå¤š.. å¾ˆå¤šè½¯ä»¶å¿…é¡»ç”¨ innodb å¼•æ“ä¸ç„¶å°±æŠ¥é”™.
        ğŸ“Œ å‡çº§å‰å¿…é¡»å¤‡ä»½æ•°æ®åº“...å¦‚æœæœ‰èµ„æ–™çš„è¯..
        MyISAMæ˜¯MySQL5.5ä¹‹å‰ç‰ˆæœ¬é»˜è®¤çš„æ•°æ®åº“å­˜å‚¨å¼•æ“ã€‚
        InnoDBæ˜¯MySQL5.6ç‰ˆæœ¬çš„é»˜è®¤æ•°æ®åº“å­˜å‚¨å¼•æ“ï¼Œ

        ğŸ“ŒğŸ“Œ æœ€ç®€å•çš„è§£å†³æ–¹æ³•å°±æ˜¯å¤‡ä»½5.5 çš„æ•°æ®åº“. ç„¶åå‡çº§éƒ½5.6/5.7 ç„¶åå†æ•°æ®æ¢å¤.
        ä¸€é”®è„šæœ¬å‡çº§mysqlå¾ˆæ…¢çš„. èµ·ç ä¸€ä¸ªå°æ—¶...
        å¦‚æœä½ çš„æœåŠ¡å™¨ å†…å­˜å°äº1G... é‚£æ˜¯æ²¡åŠæ³•å®‰è£… 5.6 ç‰ˆæœ¬çš„....
        é‚£å°±åªèƒ½ åœ¨mysql 5.5 ä¸Šé¢æƒ³åŠæ³•äº†...
        
        é¦–å…ˆç™»å½• myslq å‘½ä»¤è¡Œäº¤äº’ç•Œé¢.
        ğŸ”… show engines;        âœ  æŸ¥çœ‹å½“å‰æ”¯æŒçš„å¼•æ“. innodbåé¢æ˜¯ no.. è¯´æ˜ä¸æ”¯æŒ.é…ç½®ä¸‹ my.cnf æ¥æ”¯æŒ innodb  
        ğŸ”… service mysql stop   âœ  é¦–å…ˆå…³é—­mysqlæœåŠ¡.

        ğŸ”… vi /etc/my.cnf       âœ  ä¿®æ”¹my.cnf æ–‡ä»¶
            default-storage-engine=MyISAM    è¿™è¡Œæ³¨é‡Šæ‰.  
            default-storage-engine=INNODB    æ·»åŠ è¿™ä¸€è¡Œ.

            ä¸‹é¢å‡ è¡Œå…¨éƒ¨å–æ¶ˆå‰é¢çš„æ³¨é‡Š
            innodb_data_home_dir = /usr/local/mysql/var
            innodb_data_file_path = ibdata1:10M:autoextend
            innodb_log_group_home_dir = /usr/local/mysql/var
            innodb_buffer_pool_size = 16M
            innodb_additional_mem_pool_size = 2M
            innodb_log_file_size = 5M
            innodb_log_buffer_size = 8M
            innodb_flush_log_at_trx_commit = 1
            innodb_lock_wait_timeout = 50


        ğŸ”… service mysql start âœ  é‡å¯æœåŠ¡   

        ğŸ‘¹ Starting MySQL.The server quit without updating PID file (/[FAILED]l/mysql/var/mail.0214.help.pid).
        é‡å¯ä¸äº†. æŠ¥é”™äº†. åˆ«æ€¥. æœ‰é—®é¢˜éƒ½æ˜¯ä¼šæœ‰æ—¥å¿—çš„!!! æ—¥å¿—é‡Œé¢ä¼šæœ‰è¯¦ç»†åŸå› .
        ğŸ“ŒğŸ“Œ æ—¥å¿—åœ¨ /usr/local/mysql/var ä¸‹é¢. é‡Œé¢è‚¯å®šæœ‰ä¸ª mail.0214.help.err
        æˆ‘ä»¬æ¥çœ‹  mail.0214.help.err
            170414 17:35:51 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
            170414 17:35:51 [Note] /usr/local/mysql/bin/mysqld (mysqld 5.5.48-log) starting as process 2538 ...
            170414 17:35:51 [Note] Plugin 'FEDERATED' is disabled.
            âœ 170414 17:35:51 [Note] Plugin 'InnoDB' is disabled.
            âœ 170414 17:35:51 [ERROR] Unknown/unsupported storage engine: INNODB
            170414 17:35:51 [ERROR] Aborting

            170414 17:35:51 [Note] /usr/local/mysql/bin/mysqld: Shutdown complete

            170414 17:35:51 mysqld_safe mysqld from pid file /usr/local/mysql/var/mail.0214.help.pid ended


        ğŸ“Œ Plugin 'InnoDB' is disabled.    è¯´æ˜ innodb è¢«ç¦ç”¨äº†å•Š!!!
        my.cnf ä¸­ æ‰¾åˆ°è¿™è¡Œloose-skip-innodb
        åœ¨è¿™è¡Œå‰é¢åŠ ä¸ª#å·  æ³¨é‡Šæ‰è¿™è¡Œ å°±å¯ä»¥å¯åŠ¨ innodb äº†!!!!  
        è¯¶ è¿™ä¹ˆç®€å•çš„é—®é¢˜....å†å¯åŠ¨ä¸‹å°±æ­£å¸¸äº†... service mysql start

        ä¸‹é¢å°±ç®€å•äº†. zabbixæ•°æ®åº“åˆ é™¤. é‡æ–°å»ºç«‹. è¿™å›åº”è¯¥é»˜è®¤ä½¿ç”¨innodbå¼•æ“äº†.



ğŸ”µ é…ç½® zabbix

    vim /usr/local/zabbix-server/etc/zabbix_server.conf
        DBName=zabbix
        DBUser=root
        DBPassword=xujian0219
        DBPort=3306 â€œâ€

        
        æˆ‘ä»¬åªéœ€è¦å…³æ³¨DBHostã€DBNameã€DBUserã€DBPasswordå‡ é¡¹å³å¯ã€‚
        è¿™å‡ é¡¹æ˜¯é…ç½®zabbix serverè¿æ¥mysqlæ•°æ®åº“çš„å‚æ•°
        ç¼–è¾‘æ–‡ä»¶. æŠŠæ•°æ®åº“/ç”¨æˆ·å/ç”¨æˆ·å¯†ç /æ•°æ®åº“ç«¯å£ æ”¹æˆä½ è‡ªå·±çš„.
        ç›®çš„å°±æ˜¯ä¸ºäº† zabbix å¯ä»¥è¿æ¥åˆ° ä½ åœ¨mysqlä¸­å»ºç«‹çš„zabbixæ•°æ®åº“.
        ä¸€èˆ¬åªè¦æ”¹ ç”¨æˆ·åå’Œå¯†ç å°±å¥½äº†. ä½ å¯ä»¥ç”¨root çš„è´¦æˆ·å¯†ç . åæ­£rootæ˜¯å¯¹ä»»ä½•æ•°æ®åº“éƒ½æœ‰æƒé™çš„.



ğŸ”µ å¯åŠ¨ Zabbix server  é»˜è®¤ç«¯å£10051
/usr/local/zabbix-server/sbin/zabbix_server









ğŸ”µ zabbixç½‘ç«™é…ç½®

    å¦‚æœä½ ä¹‹å‰ä»¥åŠåœ¨æœåŠ¡å™¨ä¸Šç”¨nginxæ­å»ºè¿‡ç½‘ç«™äº†.
    é‚£ä¹ˆ è¿™é‡Œä¹Ÿæ¨èä½ ç»§ç»­ç”¨ nginxæ¥æ­å»º zabbix.
    æ¯”å¦‚ æˆ‘ç°åœ¨ æœåŠ¡å™¨ä¸Š www.0214.help æ˜¯ç›´æ¥è®¿é—®çš„ ssæ§åˆ¶é¢æ¿.
    è¿™ä¸ªwww.0214.helpé¦–é¡µ å…¶å®æ˜¯åœ¨æœåŠ¡å™¨çš„
    /home/wwwroot/www.0214.help/ss-panel/public/index.php

    é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨æƒ³è¦é€šè¿‡ www.0214.help/zabbix æ¥è®¿é—®zabbixçš„æ§åˆ¶é¢æ¿.
    å€¼éœ€è¦åœ¨ /home/wwwroot/www.0214.help/ss-panel/public/ ä¸‹æ–°å»ºä¸€ä¸ªzabbixæ–‡ä»¶å¤¹.
    ç„¶åæŠŠ
    zabbix è§£å‹æ–‡ä»¶å¤¹ä¸‹çš„ forntends/phpä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ 
    å¤åˆ¶åˆ° /home/wwwroot/www.0214.help/ss-panel/public/zabbix å°±å¯ä»¥äº†!!!

    cp -r *Â /home/wwwroot/www.0214.help/ss-panel/public/zabbix

    ç°åœ¨æµè§ˆå™¨è¾“å…¥ http://www.0214.help/zabbix  å°±è¿›å…¥zabbix æ§åˆ¶é¡µé¢äº†.





â¤ï¸ Zabbix ç®¡ç†é¡µé¢
http://www.0214.help/zabbix/setup.php

åˆ†å‡ æ­¥.
1. æ£€æŸ¥ç¯å¢ƒ. 
2. è¿æ¥æ•°æ®åº“
3. zabbix 
..



ğŸ”µ ä¸€: ç¯å¢ƒæ£€æµ‹
    å¿…é¡»å…¨éƒ¨ok æ‰èƒ½next
    
    ğŸ‘¹ PHP option "max_input_time"	60	300	Fail
        60 æ˜¯å½“å‰è®¾ç½®.   300æ˜¯zabbixéœ€è¦çš„è®¾ç½®. é‚£ä¹ˆå°±å»æ”¹...phpçš„é…ç½®æ–‡ä»¶.

        http://23.105.192.96/phpinfo.php
        æˆ‘æ˜¯ç”¨ä¸€é”®å®‰è£…åŒ…å®‰è£…çš„ lnmpç¯å¢ƒ. å¯ä»¥ç›´æ¥ç”¨ä¸Šé¢çš„ç½‘é¡µæŸ¥çœ‹phpè¯¦ç»†æƒ…å†µ.

        é…ç½®æ–‡ä»¶: 
        vi /usr/local/php/etc/php.ini
        æ‰¾åˆ° max_input_time  æ”¹æˆ300 ä¿å­˜.
        ç„¶åé‡å¯php

        killall php-fpm 
        /usr/local/php-5.2.17/sbin/php-fpm start|stop  
        ä¸¤ç§æ–¹æ³• éšä¾¿é€‰..

        ç„¶åå†å» zabbix é¡µé¢ ä¸‹ä¸€æ­¥...


ğŸ”µ äºŒ: æ•°æ®åº“é…ç½®
    Database type  mysql
    Database host  é€‰æ‹© localhost
    Database port  3306
    Database name  æ•°æ®åº“å: zabbix
    è´¦æˆ·å¯†ç   


    ğŸ‘¹ The frontend does not match Zabbix database.
        å¦‚æœä½ ç¡®ä¿ ä¿¡æ¯æ²¡å¡«é”™. é‚£ä¹ˆè‚¯å®šæ˜¯ä½ å¯¼å…¥3ä¸ªæ•°æ®åº“æ–‡ä»¶çš„æ—¶å€™æœ‰æŠ¥é”™.ä½ æ²¡å¤„ç†.
        è§£å†³åŠæ³•: åˆ é™¤ç°æœ‰çš„ zabbix æ•°æ®åº“ .é‡æ–°å¯¼å…¥. è§£å†³å¯¼å…¥è¿‡ç¨‹å‡ºç°çš„ä»»ä½•é”™è¯¯!!



ğŸ”µ ä¸‰: Zabbix server details
    Host localhost    
    Port 10051        âœ  zabbixæœåŠ¡ç«¯ç«¯å£.       
    Name å¯ä»¥ä¸å¡«.


ğŸ”µ å››: å®‰è£…
  Cannot create the configuration file.
  å¯èƒ½æ˜¯æ²¡æœ‰æƒé™åˆ›å»ºæ–‡ä»¶.  é‚£å°±ä¸‹è½½æ–‡ä»¶. æ‰‹åŠ¨æ”¾åˆ°æç¤ºçš„è·¯å¾„ä¸­.
  Save it as "/home/wwwroot/www.0214.help/ss-panel/public/zabbix/conf/zabbix.conf.php"

ğŸ”µ äº”: ç™»å½•
  å®‰è£…ç®—æ˜¯å®Œæˆäº†. è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•ç•Œé¢...
  è‰¹ ç™»å½•å¸å·å¯†ç æ˜¯ä»€ä¹ˆå•Š... æ•°æ®åº“çš„rootç”¨æˆ·åæ­£ä¸å¤š...
  é»˜è®¤è´¦æˆ·: admin  é»˜è®¤å¯†ç : zabbix
  ç»ˆäºç™»å½•è¿›å»äº† ....  ä¸€è¿›å»å°±å‘ç°ç½‘é¡µåº•éƒ¨æœ‰ä¸ªæç¤º
  zabbix server is not running... 


ğŸ”µ zabbix server is not running... 

    ./configure --prefix=/usr/local/zabbix-server
    zabbix ç¼–è¯‘å®‰è£…çš„æ—¶å€™ æ˜¯åŠ äº†å‚æ•° --prefixçš„. ä¹Ÿå°±æ˜¯æ‰‹åŠ¨æŒ‡å®šå®‰è£…è·¯å¾„çš„.
        /usr/local/zabbix-server/sbin ä¸‹é¢æœ‰ä¸¤ä¸ªæ–‡ä»¶ 
        -rwxr-xr-x 1 root root 927K Apr 14 11:55 zabbix_agentd
        -rwxr-xr-x 1 root root 3.1M Apr 14 11:55 zabbix_server
        æŒ‰ç†è¯´æƒé™ä¹Ÿæ˜¯å¯¹çš„.. 

    /usr/local/zabbix-server/sbin/zabbix_server
    è¿™ä¸ªå‘½ä»¤æ˜¯å¯åŠ¨æœåŠ¡å™¨çš„. ä¸ºä»€ä¹ˆè¿è¡Œå. ä¸è§æœ‰ç«¯å£æ‰“å¼€. 
    zabbixç½‘é¡µé‡Œé¢è¿˜æ˜¯æç¤º zabbix server æœåŠ¡æ²¡å¼€å¯
    é‚£å°±æŸ¥çœ‹æ—¥å¿—!!!! æ—¥å¿—åœ¨å“ªé‡Œå‘¢! çœ‹è¿™ä¸ªæ–‡ä»¶.
    vi /usr/local/zabbix-server/etc/zabbix_server.conf
    LogFile=/tmp/zabbix_server.log
    æ‰¾åˆ°æ—¥å¿—ä½ç½®å å°±æ˜¯æŸ¥çœ‹æ—¥å¿—.
    vi /tmp/zabbix_server.log

    32252:20170414:110425.950 Starting Zabbix Server. Zabbix 3.2.4 (revision 65975).
    32252:20170414:110425.950 ****** Enabled features ******
    32252:20170414:110425.950 SNMP monitoring:           YES
    32252:20170414:110425.950 IPMI monitoring:            NO
    32252:20170414:110425.950 Web monitoring:            YES
    32252:20170414:110425.950 VMware monitoring:         YES
    32252:20170414:110425.950 SMTP authentication:        NO
    32252:20170414:110425.950 Jabber notifications:       NO
    32252:20170414:110425.950 Ez Texting notifications:  YES
    32252:20170414:110425.950 ODBC:                       NO
    32252:20170414:110425.950 SSH2 support:               NO
    32252:20170414:110425.950 IPv6 support:              YES
    32252:20170414:110425.950 TLS support:                NO
    32252:20170414:110425.950 ******************************
    32252:20170414:110425.950 using configuration file: /usr/local/zabbix-server/etc/zabbix_server.conf
    32252:20170414:110425.951 [Z3001] connection to database 'zabbix' failed: [2002] Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)
    32252:20170414:110425.953 Got signal [signal:11(SIGSEGV),reason:1,refaddr:(nil)]. Crashing ...


    ğŸ‘¹ using configuration file: /usr/local/zabbix-server/etc/zabbix_server.conf
      [Z3001] connection to database 'zabbix' failed:
        è¿™ä¸ªåº”è¯¥å°±æ˜¯é—®é¢˜å…³é”®äº†.ç”¨ zabbix_server.conf é‡Œé¢çš„é…ç½® è¿ä¸ä¸Šæ•°æ®åº“. 

        æˆ‘ä»¬æ¥çœ‹çœ‹ è¿™ä¸ªé…ç½®æ–‡ä»¶.
        è¿™æ–‡ä»¶çœ‹ç€å¾ˆé•¿çš„. ä¸«çš„å®é™…éƒ½æ˜¯å¸¦#å·. éƒ½æ˜¯æ³¨é‡Šè¯´æ˜. æ²¡æ³¨é‡Šçš„ä¸è¶…è¿‡10è¡Œ..
        é‡ç‚¹ä¹ˆ ä¹Ÿå°± æ•°æ®åº“åç§°. æ•°æ®åº“ç«¯å£. å¸å·å¯†ç ..
        vi /usr/local/zabbix-server/etc/zabbix_server.conf

        LogFile=/tmp/zabbix_server.log
        DBHost=localhost
        DBName=zabbix
        DBUser=root
        DBPassword=xujian0219
        DBPort=3306          âœ  è¿™ä¸ªå‰é¢æ˜¯æœ‰#å·çš„. å¿…é¡»æ‰‹åŠ¨åˆ é™¤ # å·.
        ListenIP=127.0.0.1   âœ è¿™ä¸ªå‰é¢çš„#å·ä¹Ÿåˆ é™¤ 

        å†å¼€ zabbix æœåŠ¡ è¿˜æ˜¯å¼€èµ·ä¸æ¥.
        é‚£å°±çœ‹ç¬¬äºŒä¸ªé—®é¢˜.
    ğŸ‘¹ Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock

      vi /var/lib/mysql/mysql.sock   ä¸«çš„æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å•Š...
      è°·æ­Œäº†ä¸‹å‘ç°
      vi /usr/local/zabbix-server/etc/zabbix_server.conf 
      ğŸ“ŒğŸ“Œ DBHost=localhost è¿™é‡Œçš„ localhost å¿…é¡»æ¢æˆ 127.0.0.1
      è™½ç„¶çœ‹ç€å·®ä¸å¤š.. ä½†æ˜¯ localhost å’Œ 127.0.0.1 è¿˜æ˜¯æœ‰åŒºåˆ«çš„!
      ä¸€ä¸ªæ˜¯åŸŸå,ä¸€ä¸ªæ˜¯IPåœ°å€.!!!!
      ä¸«çš„ ç»ˆäºå¯ä»¥å¼€èµ·æ¥å•¦!!! ä¸å®¹æ˜“å•Š..
      zabbix-server å¼€èµ·æ¥è¿˜ä¸å¤Ÿå•Š. è‡³å°‘è¦å¼€ä¸€ä¸ªzabbix-agent æ‰èƒ½ç›‘æ§å•Š.
      æˆ‘ä»¬å°†å°±ä¸‹. åœ¨æœåŠ¡å™¨å¼€ zabbix-agentå§.è®©æœåŠ¡å™¨ç›‘æ§è‡ªå·±...




ğŸ”µ zabbix-agent å®¢æˆ·ç«¯è®¾ç½®

    é…ç½®zabbix_serveré…ç½®æ–‡ä»¶
    vi /usr/local/zabbix-server/etc/zabbix_agentd.conf
    Server=127.0.0.1
    ServerActive=127.0.0.1
    Hostname=Zabbix server
hostmame : ç”¨ hostname å‘½ä»¤ä¸€çœ‹å°±çŸ¥é“äº†.mail.0214.help


Server=192.168.137.110        #è¢«åŠ¨æ¨¡å¼ï¼Œå…è®¸å“ªå°zabbixæœåŠ¡å™¨è¿æ¥ï¼Œå¦‚æœ‰DNSè§£æå¯å¡«ä¸»æœºå
ServerActive=192.168.137.110  #ä¸»åŠ¨æ¨¡å¼ï¼Œå…è®¸å‘å“ªå°zabbixæœåŠ¡å™¨ä¸ŠæŠ¥ï¼Œå¦‚æœ‰DNSè§£æå¯å¡«ä¸»æœºå
Hostname=192.168.137.101      #å®¢æˆ·ç«¯æœ¬æœºIPï¼Œå¦‚æœ‰DNSè§£æå¯å¡«ä¸»æœºå
UnsafeUserParameters=1        #å…è®¸ç”¨æˆ·è‡ªå®šä¹‰å‚æ•°
EnableRemoteCommands=1        #å…è®¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤


5.åˆ›å»ºinitæœåŠ¡
[root@zabbix-1 zabbix-2.4.4]# cp misc/init.d/fedora/core/zabbix_* /etc/init.d
[root@zabbix-1 zabbix-2.4.4]# sed -i â€˜s/BASEDIR=\/usr\/local/BASEDIR=\/usr\/local\/zabbix/gâ€™ /etc/init.d/zabbix_agentd

6.è®¾ç½®å¼€æœºè‡ªå¯åŠ¨
[root@web1-lnx zabbix-2.4.4]#chkconfig zabbix_agentd on
[root@zabbix-1 zabbix-2.4.4]# service zabbix_agentd start

Server = ç›‘æ§æœåŠ¡å™¨IP 
Hostnae= æœ¬æœºçš„ä¸»æœºå 



    Serverå’ŒServerActiveéƒ½æŒ‡å®šzabbixserverçš„IPåœ°å€ï¼Œ
    å¦‚æœæœåŠ¡å™¨è¦ç›‘è§†è‡ªå·± è¿™ä¸ªæ–‡ä»¶å°±ä¸éœ€è¦ä¿®æ”¹.é»˜è®¤å€¼å°±å¯ä»¥äº†.

    ä¸åŒçš„æ˜¯ï¼Œå‰è€…æ˜¯è¢«åŠ¨åè€…æ˜¯ä¸»åŠ¨ã€‚
    Serverè¿™ä¸ªé…ç½®æ˜¯ç”¨æ¥å…è®¸127.0.0.1è¿™ä¸ªipæ¥æˆ‘è¿™å–æ•°æ®ã€‚
    serverActiveçš„127.0.0.1çš„æ„æ€æ˜¯ï¼Œå®¢æˆ·ç«¯ä¸»åŠ¨æäº¤æ•°æ®ç»™ä»–ã€‚æ˜ç™½äº†å—ï¼Ÿ
    ä¸ºä»€ä¹ˆè¦åˆ†ä¸»åŠ¨å’Œè¢«åŠ¨ï¼Ÿåç»­å†æ¥è®¨è®ºè¿™ä¸ªé—®é¢˜ï¼
    å…¶ä»–ä¸»æœºå®‰è£…å®¢æˆ·ç«¯è®°å¾—æ·»åŠ zabbixç”¨æˆ·ã€‚


å¯åŠ¨ Zabbix å®¢æˆ·ç«¯  é»˜è®¤ç«¯å£10050
ğŸ”… /usr/local/zabbix-server/sbin/zabbix_agentd

æœ¬åœ°æµè§ˆå™¨ä¸ŠæŸ¥çœ‹ è¿˜æ˜¯æœ‰é—®é¢˜. 

è¿˜æ˜¯æœ‰é—®é¢˜.  è¿˜æ˜¯å¾—çœ‹æ—¥å¿—. LogFile=/tmp/zabbix_agentd.log

ğŸ”… vi /tmp/zabbix_agentd.log
ğŸ‘¹ failed to accept an incoming connection: connection from "45.78.0.14" rejected, allowed hosts: "127.0.0.1"

å…ˆçœ‹æœ¬åœ°ç«¯å£æœ‰æ²¡æœ‰å¼€
zabbix agent  é»˜è®¤æ˜¯ 10050ç«¯å£.
zabbix server é»˜è®¤æ˜¯ 10051ç«¯å£
nmap -p 10050 127.0.0.1  âœ  å‘ç°æ˜¯å¼€çš„.

è¿˜æ˜¯é‚£å¥è¯ ç«¯å£å¼€äº†è¯´ä¸å®šåªèƒ½æœåŠ¡å™¨æœ¬æœºè®¿é—®çš„.å¤–ç½‘ç”¨æˆ·æ˜¯æ— æ³•è®¿é—®çš„.
ä¸å¤Ÿæ€æ ·å…ˆå…³é—­é˜²ç«å¢™è¯•è¯•....
ç„¶åæ”¹ zabbix agent çš„é…ç½®
vi /usr/local/zabbix-server/etc/zabbix_agentd.conf

Server=ä½ çš„æœåŠ¡å™¨åœ°å€
ServerActive=ä½ çš„æœåŠ¡å™¨åœ°å€
Hostname=ä½ çš„å®¢æˆ·ç«¯åç§° ç”¨hostname å‘½ä»¤æŸ¥çœ‹.

çœ‹æ¥å¿…é¡»å¾—åŠ .. zabbixç”¨æˆ·å•Š..
useradd zabbix . æœ‰äº†å•Š...


ğŸ‘¹active check configuration update from [127.0.0.1:10051] started to fail (cannot connect to [[127.0.0.1]:10051]: [111] Connection refused)





