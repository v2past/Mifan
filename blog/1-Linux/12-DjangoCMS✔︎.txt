ğŸ”¸ ç®€ä»‹
    ç”¨ djangocms + uwsgi + nginx æ¥æ­å»ºweb æœåŠ¡å™¨.
    ç„¶åç”¨ bootstarp å¼„ç½‘ç«™æ’ç‰ˆ.
    æœ€åç”¨ lsync åŒæ­¥æœ¬åœ° æ–‡æœ¬ åˆ°æœåŠ¡å™¨,
    æ¯ç¯‡åšå®¢éƒ½æ˜¯ä¸€ä¸ª txt æ–‡ä»¶è¿æ¥. 



ğŸ”¸ æ–‡ä»¶å¤¹æ¶æ„
    å…³é”®æ–‡ä»¶ä½ç½®.ä¾›å‚è€ƒ

    /home/djcmsenv
    /home/mycms

    /home/mycms/test.py
    /home/mycms/uwsgi.ini
    /home/mycms/uwsgi_params
    /home/mycms/mysite_nginx.conf
    /home/mycms/manage.py
    /home/mycms/mycms/settings.py


ğŸ”¸ DjangoCMS æŠ€å·§.

    â—ï¸â—ï¸ content æ¨¡å¼å¯ä»¥ç›´æ¥åŒå‡»è¿›è¡Œç®€å•ç¼–è¾‘
    â—ï¸â—ï¸ ç©ºæ ¼        å¿«é€Ÿåˆ‡æ¢ structure å’Œ content æ¨¡å¼
    â—ï¸â—ï¸ shift+ç©ºæ ¼  å¿«é€Ÿå®šä½



ğŸ”¸ DjangoCMS è¿ç§».
    å¦‚æœè¦æŠŠé¡¹ç›® ä»ä¸€å°æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨. è¦æ€ä¹ˆåŠå‘¢.
    ç”¨ scp å‘½ä»¤å°±å¯ä»¥äº†.

    scp -P 2222 -r /home/mycms/media root@35.194.128.92:/home/mycms

    â¦¿ è™šæ‹Ÿç¯å¢ƒ. å¿…é¡»é‡æ–°å»ºç«‹. å„ç§ä¾èµ–è¦é‡æ–°å®‰è£… ä¸èƒ½è¿ç§».

    â¦¿ é‡ç‚¹æ–‡ä»¶.
        â€¢ å‡ ä¹æ‰€æœ‰çš„æ•°æ® éƒ½åœ¨ peojiect.db é‡Œé¢!!!!
        â€¢ è¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ media æ–‡ä»¶å¤¹äº†. å›¾æ ‡ä»€ä¹ˆéƒ½åœ¨è¿™é‡Œ..



ğŸ”¸ åƒä¸‡ ç»å¸¸å¤‡ä»½é¡¹ç›®. ä¸ç„¶æœ‰ä½ å“­çš„




â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ   Nginx + uwsgi + djangocms  ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”¸ ä»‹ç»

    nginx æ˜¯ä¸€ä¸ª http æœåŠ¡å™¨ï¼Œä¸ apacheã€lighttpdã€Microsoft IIS ç­‰å±äºåŒç±»äº§å“;
    nginx é¢å‘çš„æ˜¯ html

    uwsgi å®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ª http æœåŠ¡å™¨ï¼Œåªä¸è¿‡å®ƒåªé¢å‘ python ç½‘ç»œåº”ç”¨ç¨‹åºã€‚

    ç½‘ç«™å…¶å®ä¸ä¸€å®šè¦ç”¨çº¯htmlå†™çš„. ç”¨pythonä¹Ÿå¯ä»¥. æ¯”å¦‚ç”¨ diango ä¹Ÿèƒ½æ­å»ºç½‘ç«™å‡ºæ¥.
    ä½†æ˜¯ nginx åªæ”¯æŒ html; 
    å¦‚æœä½ ç”¨ python (django) æ­å»ºçš„ç½‘ç«™é‚£ä¹ˆå°±å¿…é¡»ç”¨uwsgi è¿™ä¸ª http æœåŠ¡å™¨,
    ä¸è¿‡ Nginx æ¯•ç«Ÿæ˜¯æœ€æµè¡Œçš„webæœåŠ¡å™¨. å› ä¸ºåŠŸèƒ½æ˜¯å¼ºå¤§.
    æ‰€ä»¥å°±æœ‰äº† Nginx + uwsgi + python(django) è¿™æ–¹æ¡ˆ.

    Nginx é€šè¿‡ socket è¿æ¥ uwsgi.

    â¦¿ uwsgi å‘½ä»¤              
        å¯åŠ¨uwsgiï¼š   uwsgi --ini uwsgi.ini
        åœæ­¢uwsgiï¼š   uwsgi --stop uwsgi.pid
        é‡æ–°åŠ è½½é…ç½®ï¼šuwsgi --reload uwsgi.pid


    â—ï¸â—ï¸ the web client <-> nginx <-> the socket <-> uwsgi <-> Django â—ï¸â—ï¸
    â—ï¸â—ï¸ the web client <-> nginx <-> the socket <-> uwsgi <-> Django â—ï¸â—ï¸




ğŸ”¸ Nginx + uwsgi + djangocms åŸç†
    â—ï¸the web client <-> the web server(nginx) <-> the socket <-> uwsgi <-> Djangoâ—ï¸
    â—ï¸the web client <-> the web server(nginx) <-> the socket <-> uwsgi <-> Djangoâ—ï¸
    â—ï¸the web client <-> the web server(nginx) <-> the socket <-> uwsgi <-> Djangoâ—ï¸



ğŸ”¸ å‡†å¤‡

    â¦¿ åŸŸåè§£æ  
        www.0214.help âœ 104.224.139.45

    â¦¿ ä¸´æ—¶å…³é—­é˜²ç«å¢™     
        service iptables stop    systemctl stop firewalld

        â—ï¸ å¦‚æœæ˜¯ gce è¿™ç§æœ‰å¤–éƒ¨é˜²ç«å¢™çš„. å¿…é¡»è®¾ç½®å¤–éƒ¨é˜²ç«å¢™ â—ï¸
        â—ï¸ å¦‚æœæ˜¯ gce è¿™ç§æœ‰å¤–éƒ¨é˜²ç«å¢™çš„. å¿…é¡»è®¾ç½®å¤–éƒ¨é˜²ç«å¢™ â—ï¸
        â—ï¸ å¦‚æœæ˜¯ gce è¿™ç§æœ‰å¤–éƒ¨é˜²ç«å¢™çš„. å¿…é¡»è®¾ç½®å¤–éƒ¨é˜²ç«å¢™ â—ï¸


    â¦¿ djangocms è¦æ±‚
        django CMS requires Django 1.8, 1.9 or 1.10 and Python 2.7, 3.3 or 3.4.

    â¦¿ djangocms-installer
        djangocms æ­å»ºè„šæœ¬. å®‰è£…è¿™ä¸ªä¼šè‡ªåŠ¨å®‰è£… å„ç§ä¾èµ–! å¼ºçƒˆå»ºè®®åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½¿ç”¨

    â¦¿ è™šæ‹Ÿç¯å¢ƒè·¨å¹³å°.
        â—ï¸â—ï¸â—ï¸è™šæ‹Ÿç¯å¢ƒä¸èƒ½è·¨å¹³å°ä½¿ç”¨! mac çš„è™šæ‹Ÿç¯å¢ƒ ä¸èƒ½åŒæ­¥åˆ° centos ä¸Šç”¨çš„â—ï¸â—ï¸â—ï¸
        â—ï¸â—ï¸â—ï¸è™šæ‹Ÿç¯å¢ƒä¸èƒ½è·¨å¹³å°ä½¿ç”¨! mac çš„è™šæ‹Ÿç¯å¢ƒ ä¸èƒ½åŒæ­¥åˆ° centos ä¸Šç”¨çš„â—ï¸â—ï¸â—ï¸



ğŸ”¸ LNMP æ–°å»º nginx è™šæ‹Ÿä¸»æœº
    lnmp vhost add
    ================================================
    Virtualhost infomation:
    Your domain: www.0214.live
    Home Directory: /home/wwwroot/www.0214.live
    Rewrite: none
    Enable log: no
    Create database: no
    Create ftp account: no
    ================================================

    â¦¿ é‡å¯ Nginx   service nginx restart 
        ç°åœ¨ æµè§ˆå™¨è¾“å…¥ www.0214.live æ˜¯æ²¡é¡µé¢çš„.
        å› ä¸º /home/wwwroot/www.0214.live ç›®å½•ä¸‹æ²¡æœ‰ index.html.


ğŸ”¸ Django å¼€å‘æœåŠ¡å™¨æµ‹è¯• âœ”ï¸

    â—ï¸â—ï¸ é¡¹ç›®å¿…é¡»å»ºåœ¨ home ç›®å½•ä¸‹. å…·ä½“åŸå› æœªçŸ¥,åæ­£å»ºåœ¨rootç›®å½•ä¸‹æœ‰é—®é¢˜.â—ï¸â—ï¸
    â—ï¸â—ï¸ é¡¹ç›®å¿…é¡»å»ºåœ¨ home ç›®å½•ä¸‹. å…·ä½“åŸå› æœªçŸ¥,åæ­£å»ºåœ¨rootç›®å½•ä¸‹æœ‰é—®é¢˜.â—ï¸â—ï¸
    â—ï¸â—ï¸ é¡¹ç›®å¿…é¡»å»ºåœ¨ home ç›®å½•ä¸‹. å…·ä½“åŸå› æœªçŸ¥,åæ­£å»ºåœ¨rootç›®å½•ä¸‹æœ‰é—®é¢˜.â—ï¸â—ï¸

    åŸå› ä¹Ÿè®¸æ˜¯uWSGIé»˜è®¤åœ¨www-dataç”¨æˆ·ç»„ï¼


    â¦¿ cd /home

    â¦¿ è™šæ‹Ÿç¯å¢ƒå»ºç«‹
        â€¢ wget å®‰è£…   yum install wget
        â€¢ pip  å®‰è£…   wget https://bootstrap.pypa.io/get-pip.py && python get-pip.py
        â€¢ è™šæ‹Ÿç¯å¢ƒå®‰è£…  pip install virtualenv
        â€¢ è™šæ‹Ÿç¯å¢ƒå»ºç«‹  virtualenv djcmsenv 
        â€¢ è¿›å…¥è™šæ‹Ÿç¯å¢ƒ  source /home/djcmsenv/bin/activate

    â¦¿ æ–°å»ºé¡¹ç›®
        pip install djangocms-installer && djangocms mycms

        ğŸ‘¹ GCE å¤©å‘ä¸€ä¸ª. å¦‚æœä½ ç”¨æœ€ä½é… è¿™é‡Œä¼šå‡ºé”™!!!!! å„ç§æŠ¥é”™.
        1å…±äº«vcpu + å†…å­˜1.7 çš„é‚£ä¸ªå°±å¯ä»¥ å‘çˆ¹...


    â¦¿ åˆ›å»ºé¡¹ç›®åˆå§‹æ•°æ®è¡¨
        python /home/mycms/manage.py migrate

    â¦¿ å¼€å¯é¡¹ç›®å¤–ç½‘æƒé™
        vi /home/mycms/mycms/settings.py
        ALLOWED_HOSTS = [] æ”¹æˆ:
        ALLOWED_HOSTS = ['104.224.139.45', 'www.0214.help'] 
        ALLOWED_HOSTS = ['35.194.128.92', 'www.0214.live'] 
        
        è¿™é‡Œå¡«çš„æ˜¯æœåŠ¡å™¨çš„å…¬ç½‘IP. å’ŒåŸŸå

    â¦¿ å¯åŠ¨å¼€å‘æœåŠ¡å™¨   
        python  /home/mycms/manage.py runserver 0.0.0.0:888

    â¦¿ æµè§ˆå™¨æµ‹è¯•
        104.224.139.45:888 âœ å‡ºç° cms ç™»å½•ç•Œé¢
        35.194.128.92:888


ğŸ”¸ uwsgi webæœåŠ¡å™¨æµ‹è¯• âœ”ï¸

    â¦¿ å®‰è£… uwsgi  
        pip install uwsgi

    â¦¿ æ–°å»º python æµ‹è¯•æ–‡ä»¶
        ç›®çš„æ˜¯ä¸ºäº† æµ‹è¯• uwsgi  èƒ½å¦æ­£å¸¸å·¥ä½œ

        vi /home/mycms/test.py

def application(env, start_response):
    start_response('200 OK', [('Content-Type','text/html')])
    return ["Hello World"] # python2
    #return [b"Hello World"] # python3


        â—ï¸â—ï¸â—ï¸ python å¿…é¡»æ³¨æ„ç¼©è¿›,def è¡Œé¦–; ç¼©è¿›ç©ºæ ¼æ•°é‡ç»Ÿä¸€!â—ï¸â—ï¸â—ï¸
        â—ï¸â—ï¸â—ï¸ python å¿…é¡»æ³¨æ„ç¼©è¿›,def è¡Œé¦–; ç¼©è¿›ç©ºæ ¼æ•°é‡ç»Ÿä¸€!â—ï¸â—ï¸â—ï¸


    â¦¿ æµ‹è¯•æ–‡ä»¶æ‰§è¡Œæƒé™èµ‹äºˆ
        chmod 755 /home/mycms/test.py

    â¦¿ uwsgi è¿è¡Œ test.py æµ‹è¯•æ–‡ä»¶
        uwsgi --http :999 --wsgi-file /home/mycms/test.py

    â¦¿ æµè§ˆå™¨æµ‹è¯•
        104.224.139.45:999 âœ å‡ºç° helloworld
        è¿™é‡Œå¦‚æœå‡ºç°é—®é¢˜. å¿…é¡»çœ‹ test.pyçš„ç¼©è¿›... 


ğŸ”¸ uwsgi è¿è¡Œ pythoné¡¹ç›®  âœ”ï¸

    cd /home/mycms
    ä¸‹é¢å‘½ä»¤è¿›è¡Œå¿…é¡»åœ¨ /home/mycms  é¡¹ç›®ä¸‹è¿è¡Œ.

    uwsgi --http :777 --chdir /home/mycms --home=/home/djcmsenv --module mycms.wsgi
    
        --chdir æŒ‡å®šé¡¹ç›®è·¯å¾„.
        --home  æŒ‡å®šè™šæ‹Ÿç¯å¢ƒè·¯å¾„
        --module é¡¹ç›®å.wsgi


    â¦¿ æµè§ˆå™¨æµ‹è¯•
        104.224.139.45:777 âœ å‡ºç°cms ç™»å½•ç•Œé¢




ğŸ”¸ nginx âœ uwsgi é…ç½®

    â¦¿ æ–°å»º uwsgi_paramsæ–‡ä»¶  
        è¯¥æ–‡ä»¶å¿…é¡»åœ¨é¡¹ç›®ç›®å½•ä¸‹.è¯¥æ–‡ä»¶ä¸éœ€è¦ä»»ä½•ä¿®æ”¹.ç›´æ¥å¤åˆ¶å°±è¡Œ.
        vi /home/mycms/uwsgi_params

uwsgi_param  QUERY_STRING       $query_string;
uwsgi_param  REQUEST_METHOD     $request_method;
uwsgi_param  CONTENT_TYPE       $content_type;
uwsgi_param  CONTENT_LENGTH     $content_length;

uwsgi_param  REQUEST_URI        $request_uri;
uwsgi_param  PATH_INFO          $document_uri;
uwsgi_param  DOCUMENT_ROOT      $document_root;
uwsgi_param  SERVER_PROTOCOL    $server_protocol;
uwsgi_param  REQUEST_SCHEME     $scheme;
uwsgi_param  HTTPS              $https if_not_empty;

uwsgi_param  REMOTE_ADDR        $remote_addr;
uwsgi_param  REMOTE_PORT        $remote_port;
uwsgi_param  SERVER_PORT        $server_port;
uwsgi_param  SERVER_NAME        $server_name; 



    â¦¿ æ–°å»º nginx è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ mysite_nginx.conf 
        ä¸€èˆ¬ä¹Ÿåœ¨é¡¹ç›®ç›®å½•ä¸‹, åœ¨ nginx.conf ä¸­æŠŠè¿™æ–‡ä»¶ include è¿›å»å°±å¯ä»¥äº†

        vi /home/mycms/mysite_nginx.conf

upstream django { server 127.0.0.1:333; # å¡« uwsgi ç«¯å£  }
server {
    listen      222;                    # å¡« nginx ç›‘å¬ç«¯å£
    server_name www.0214.help;          # å¡« nigix ç›‘å¬åŸŸå
    charset    utf-8;
    client_max_body_size 75M;

    location /media  {   alias /home/mycms/media;  # å¡«é¡¹ç›®media  è·¯å¾„ }
    location /static {   alias /home/mycms/static; # å¡«é¡¹ç›®static è·¯å¾„ }
    location /       {
        uwsgi_pass  django;
        include /home/mycms/uwsgi_params;       # å¡«é¡¹ç›® uwsgi_params è·¯å¾„
    }
}


    ğŸ‘â€ğŸ—¨  è§£æ
        uwsgi_pass  django; 
        upstream django { server 127.0.0.1:333;  }

    â—ï¸â—ï¸ uwsgi_pass è®©NginxæŠŠåˆ°çš„æ‰€æœ‰è¯·æ±‚éƒ½è½¬å‘åˆ°â€127.0.0.1:333â€³ä¹Ÿå°±æ˜¯ uWSGIæœåŠ¡å™¨ä¸Šã€‚
    â—ï¸â—ï¸ uwsgi_pass è®©NginxæŠŠåˆ°çš„æ‰€æœ‰è¯·æ±‚éƒ½è½¬å‘åˆ°â€127.0.0.1:333â€³ä¹Ÿå°±æ˜¯ uWSGIæœåŠ¡å™¨ä¸Šã€‚



    â¦¿ ä¿®æ”¹ nginx é»˜è®¤é…ç½®
        æŠŠä¸Šé¢çš„ mysite_nginx.conf include åˆ°é»˜è®¤çš„ nginx.conf ä¸­æ‰ä¼šç”Ÿæ•ˆ!!!        

        vi /usr/local/nginx/conf/nginx.conf

        include vhost/*.conf; è¡Œä¸‹é¢æ·»åŠ 
        include /home/mycms/mysite_nginx.conf;

            ğŸ‘â€ğŸ—¨ å¦‚æœä½ é…ç½®è¿‡å…¶ä»–è™šæ‹Ÿä¸»æœº. é‚£ä¹ˆæœ€å¥½æ³¨é‡Šæ‰å…¶ä»–æ‰€æœ‰ *.conf 
            æš‚æ—¶åªç•™ include mysite_nginx.conf.
            å…å¾— å…¶ä»–çš„é…ç½®æ–‡ä»¶ å¯¹ mysite_nginx.conf äº§ç”Ÿå½±å“.


            ğŸ‘â€ğŸ—¨  Mac os nginx 
                â¦¿ nginx å®‰è£…è·¯å¾„
                    type nginx æ¥æŸ¥æ‰¾. nginx is /usr/local/bin/nginx

                â¦¿ Mac brew nginx å®‰è£…è·¯å¾„
                    brew å®‰è£…çš„è½¯ä»¶éƒ½åœ¨ /usr/local æ–‡ä»¶å¤¹ä¸‹.
                    æŠŠæ‰€æœ‰è½¯ä»¶çš„ bin éƒ½æ”¾åœ¨ /usr/local/bin ä¸‹
                    æŠŠæ‰€æœ‰è½¯ä»¶åˆ° é…ç½®æ–‡ä»¶ éƒ½æ”¾ /usr/local/etcä¸‹.
                    æ‰€æœ‰ Mac çš„nginx é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯: 
                    vi /usr/local/etc/nginx/nginx.conf

            ğŸ‘â€ğŸ—¨  è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ ä¼˜å…ˆçº§
                â—ï¸â—ï¸ é»˜è®¤é…ç½®æ–‡ä»¶ ä¼˜å…ˆçº§ å°äº è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ â—ï¸â—ï¸
                â—ï¸â—ï¸ é»˜è®¤é…ç½®æ–‡ä»¶ ä¼˜å…ˆçº§ å°äº è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ä¼˜å…ˆçº§ â—ï¸â—ï¸

                é»˜è®¤é…ç½®æ–‡ä»¶. æœ€å¥½ä¸€èˆ¬éƒ½ä¼š include æ‰€æœ‰è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶çš„é…ç½®.
                é»˜è®¤é…ç½®æ–‡ä»¶çš„æŸäº›è®¾ç½®æ˜¯ä¼šè¢« è™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶ è¦†ç›–æ‰çš„!!
                æ‰€ä»¥å°½é‡ åˆ›å»ºè™šæ‹Ÿä¸»æœº. å°½é‡åœ¨è™šæ‹Ÿä¸»æœºçš„é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹.



    â¦¿ é¡¹ç›®é™æ€æ–‡ä»¶(ä¸å¯çœç•¥)
        djangoé¡¹ç›® é™æ€æ–‡ä»¶è·¯å¾„æœ¬æ¥æ˜¯åœ¨/home/mycms/mycms/static çš„. 
        ä¸çŸ¥ä¸ºä»€ä¹ˆ è¦æ”¹æˆ /home/mycms/static

        vi /home/mycms/mycms/settings.py
            å°¾éƒ¨æ·»åŠ è¡Œ
            STATIC_ROOT = os.path.join(BASE_DIR, "static/")

        å¤åˆ¶ /home/mycms/mycms/static åˆ° /home/mycms/static
            python /home/mycms/manage.py collectstatic
            è¾“å…¥ yes

        â€¢ å…³é—­ apache service httpd stop
        â€¢ é‡å¯ nginx  sudo /etc/init.d/nginx restart

        â€¢ media æµ‹è¯•
            ä¸ºä»€ä¹ˆä¸æ˜¯ static æ–‡ä»¶å¤¹... ä¸çŸ¥é“..
            cd /home/mycms/media && wget http://picture.baidu.com/media.png

        â€¢ æµè§ˆå™¨æµ‹è¯•  http://www.0214.help:222/media/media.png
        ğŸ‘¹ é¡¹ç›®å»ºåœ¨ root ç›®å½•ä¸‹å°±ä¸è¡Œ. è¿™é‡Œä¼šå‡ºç° 403. åœ¨ home ç›®å½•ä¸‹å°±æ­£å¸¸!!!
        ğŸ‘¹ é¡¹ç›®å»ºåœ¨ root ç›®å½•ä¸‹å°±ä¸è¡Œ. è¿™é‡Œä¼šå‡ºç° 403. åœ¨ home ç›®å½•ä¸‹å°±æ­£å¸¸!!!




ğŸ”¸ nginx âœ uwsgi(http) âœ test.py
    â¦¿ è¿›å…¥è™šæ‹Ÿç¯å¢ƒ
        source /home/djcmsenv/bin/activate && cd /home/mycms

    â¦¿ å¯åŠ¨uwsgi
        uwsgi --socket :333 --wsgi-file /home/mycms/test.py

            æ³¨æ„ è¿™é‡Œçš„ 333 ä¸æ˜¯éšä¾¿å¡«çš„
            è¦å’Œ mysite_nginx.conf 
            upstream django { server 127.0.0.1:333;  } ä¸€æ ·.

    â¦¿ æµè§ˆå™¨æµ‹è¯•    www.0214.help:222    å‡ºç° hello world



ğŸ”¸ nginx âœ uwsgi(http) âœ jangocms 

    â¦¿ è¿è¡Œuwsgi
        uwsgi --socket :333 --chdir /home/mycms --home=/home/djcmsenv --module mycms.wsgi

        ğŸ‘â€ğŸ—¨ ä¸Šé¢çš„ test.py ä¸éœ€è¦è™šæ‹Ÿç¯å¢ƒ. æ˜¯å› ä¸º test.py åªæ˜¯ä¸€ä¸ª pyæ–‡ä»¶.
        è¿™é‡Œæ˜¯ä¸€ä¸ª jangocms é¡¹ç›®. é¡¹ç›®éœ€è¦å¾ˆå¤šä¾èµ–! è¿™äº›ä¾èµ–éƒ½æ˜¯å®‰è£…åœ¨ è™šæ‹Ÿç¯å¢ƒé‡Œçš„.
        æ‰€ä»¥è¿™é‡Œå¿…é¡»åŠ è™šæ‹Ÿç¯å¢ƒçš„è·¯å¾„. ä¸ç„¶è‚¯å®šæŠ±é”™.

    â¦¿ æµè§ˆå™¨æµ‹è¯•  www.0214.help:222      å‡ºç° cms çš„ç™»å½•é¡µé¢.



ğŸ”¸ nginx âœ uwsgi(socks) âœ test.py

    åˆ°ç›®å‰ä¸ºæ­¢,æˆ‘ä»¬ä½¿ç”¨äº†TCPçš„socketç«¯å£, 
    ä½†äº‹å®ä¸Š, ä½¿ç”¨Unix socketsæ¯”portsæ›´å¥½.ä½†æ˜¯éœ€è¦åšä¸€ç‚¹å°å°çš„æ”¹åŠ¨.

    â¦¿ é…ç½® nginx æ–‡ä»¶
        vi /home/mycms/mysite_nginx.conf

            upstream django { server 127.0.0.1:333;  }
            æ”¹æˆ 
            upstream django { server unix:///home/mycms/mycms.sock; }

            ğŸ‘â€ğŸ—¨ è¿™ä¸ªmycms.sock ä¼šè‡ªåŠ¨ç”Ÿæˆçš„. ä¸ç”¨å…³å¿ƒ.
            
    â¦¿ é‡å¯nginx    sudo /etc/init.d/nginx restart


    â¦¿ è¿è¡Œ uwsgi
        uwsgi --socket mycms.sock --wsgi-file test.py --chmod-socket=666

    â¦¿ æµè§ˆå™¨æµ‹è¯• http://www.0214.help:222/ å°±èƒ½çœ‹åˆ° Hello World


ğŸ”¸ nginx âœ uwsgi(socks) âœ djangocms 
    â¦¿ è¿è¡Œuwsgi
        uwsgi --home /home/djcmsenv --socket mycms.sock --module mycms.wsgi --chmod-socket=666

        â—ï¸â—ï¸  uwsgi å‘½ä»¤å¿…é¡»åŠ  è™šæ‹Ÿè·¯å¾„!! â—ï¸â—ï¸
        â—ï¸â—ï¸  uwsgi å‘½ä»¤å¿…é¡»åŠ  è™šæ‹Ÿè·¯å¾„!! â—ï¸â—ï¸
        â—ï¸â—ï¸  uwsgi å‘½ä»¤å¿…é¡»åŠ  è™šæ‹Ÿè·¯å¾„!! â—ï¸â—ï¸

        â—ï¸ è¿™ä¸ªå‘½ä»¤ å¿…é¡»åœ¨ /home/mycms ç›®å½•ä¸‹æ‰§è¡Œ ....
        â—ï¸ è¿™ä¸ªå‘½ä»¤ å¿…é¡»åœ¨ /home/mycms ç›®å½•ä¸‹æ‰§è¡Œ ....


    â¦¿ æµè§ˆå™¨æµ‹è¯•  http://www.0214.help:222/   å‡ºç° cms çš„ç™»å½•é¡µé¢äº†.



ğŸ”¸ ç”¨é…ç½®æ–‡ä»¶è¿è¡ŒuWSGI.
    uwsgi å¾ˆå¤šé…ç½®çš„. å…¨éƒ¨å†™åœ¨å‘½ä»¤è¡Œä¸­å¤ªé•¿äº†.ä¹Ÿè®°ä¸ä½. æ‰€ä»¥è¦é…ç½®æ–‡ä»¶.
    uwsgi8800.ini  æ–‡ä»¶åéšä¾¿å–. ä¸€èˆ¬æ˜¯ uwsgi+ç«¯å£å·

    â¦¿ æ–°å»º uwsgi é…ç½®æ–‡ä»¶
        vi /home/mycms/uwsgi.ini

[uwsgi]
home = /home/djcmsenv
chdir = /home/mycms
module = mycms.wsgi
master = true
processes = 10
socket = /home/mycms/mycms.sock
chmod-socket    = 666
vacuum = true

    â¦¿ å¯åŠ¨ uwsgi
        uwsgi --ini /home/mycms/uwsgi.ini 

    â¦¿ æµè§ˆå™¨æµ‹è¯• http://www.0214.help:222/   å‡ºç° cms çš„ç™»å½•é¡µé¢äº†.


ğŸ”¸ è™šæ‹Ÿç¯å¢ƒ.

    å¦‚æœä½ çš„ djé¡¹ç›® ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ.é‚£ä¹ˆä½ è¦çŸ¥é“
    â—ï¸å¦‚æœè¦ä½¿ç”¨ uwsgi é‚£ä¹ˆä¸ç®¡æ˜¯ä¸æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­, éƒ½å¿…é¡»æŒ‡å®šè™šæ‹Ÿç¯å¢ƒè·¯å¾„â—ï¸
    â—ï¸å¦‚æœè¦ä½¿ç”¨ uwsgi é‚£ä¹ˆä¸ç®¡æ˜¯ä¸æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­, éƒ½å¿…é¡»æŒ‡å®šè™šæ‹Ÿç¯å¢ƒè·¯å¾„â—ï¸
    â—ï¸å¦‚æœè¦ä½¿ç”¨ uwsgi é‚£ä¹ˆä¸ç®¡æ˜¯ä¸æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­, éƒ½å¿…é¡»æŒ‡å®šè™šæ‹Ÿç¯å¢ƒè·¯å¾„â—ï¸

    â¦¿ ç³»ç»Ÿç¯å¢ƒå®‰è£… uwsgi
        pip install uwsgi
            å¿…é¡»åœ¨ è™šæ‹Ÿç¯å¢ƒä¸­ å’Œ çœŸå®ç¯å¢ƒä¸­åŒæ—¶è£…ä¸€é uwsgi 
            ä¹‹å‰æˆ‘ä»¬æ˜¯åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è£…çš„. ç°åœ¨è¦åœ¨ç³»ç»Ÿç¯å¢ƒä¸­å†å®‰è£…ä¸€é.

    â¦¿ è¿è¡Œuwsgi
        uwsgi --ini /home/mycms/uwsgi.ini --chmod-socket=666
            ç”±äºæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šäº† è™šæ‹Ÿç¯å¢ƒçš„è·¯å¾„. 
            æ‰€ä»¥å‘½ä»¤è¡Œä¸­å°±å¯ä»¥ä¸ç”¨è®¾ç½®è™šæ‹Ÿç¯å¢ƒè·¯å¾„äº†.
            æ‰€ä»¥è¿™ä¸ªå‘½ä»¤ä¸åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä¹Ÿèƒ½è¿è¡Œ.


ğŸ”¸ æ’é”™

    é‡å¯æœåŠ¡å™¨ 
    ç„¶åç”¨ uwsgi --ini /home/mycms/uwsgi.ini 
    æµè§ˆå™¨æµ‹è¯•å¤±è´¥.

    é‡å¯ç”µè„‘åå‘ç° nginx æ²¡æœ‰å¯åŠ¨
        å¯èƒ½æ˜¯æ²¡æœ‰è®¾ç½®å¼€æœºå¯åŠ¨
        ä¹Ÿæœ‰å¯èƒ½è®¾ç½®äº†å¼€æœºå¯åŠ¨.ä½†æ˜¯ç”±äºå’Œapacheä¹Ÿæ˜¯å¼€æœºå¯åŠ¨çš„. 
        é»˜è®¤nginx å’Œ apache éƒ½æ˜¯ç”¨ 80ç«¯å£çš„. 
        ç³»ç»Ÿå¯åŠ¨æ—¶å€™ å…ˆå¯åŠ¨äº† apache. ä½¿ç”¨äº† 80ç«¯å£.
        ç„¶åå†å¯åŠ¨nginx ä¹Ÿè¦ä½¿ç”¨ 80ç«¯å£. 
        ä¸¤è€…å†²çªå¯¼è‡´nginxå¼€æœºå¯åŠ¨å¤±è´¥

    chkconfig --list   æŸ¥çœ‹å¼€å¯å¯åŠ¨çŠ¶æ€åˆ—è¡¨ æ²¡å‘ç° apacheå•Š.
    ä¼°è®¡ ä¸æ˜¯ç”¨ chkconfing æ–¹å¼è‡ªåŠ¨å¯åŠ¨çš„.




ğŸ”¸ å¼€æœºå¯åŠ¨è®¾ç½®
    â¦¿ è‡ªåŠ¨å¯åŠ¨é…ç½®æ–‡ä»¶
        chmod 755 /etc/rc.d/rc.local
    
        vim /etc/rc.local
        åœ¨exit 0è¿™ä¸€è¡Œä¹‹å‰åŠ ä¸Šä¸‹é¢è¿™3å¥è¯

        service httpd stop
        service nginx start
        uwsgi --ini /home/mycms/uwsgi.ini

    â¦¿ æµè§ˆå™¨æµ‹è¯• http://www.0214.help:222/   å‡ºç° cms çš„ç™»å½•é¡µé¢äº†.


    â¦¿ ç«¯å£æ›´æ”¹.
        ç½‘é¡µä¹ˆç«¯å£ä¸æ˜¯80 å°±æ˜¯ 443 .å…¶ä»–ç«¯å£åªæ˜¯é¿å…å†²çªæµ‹è¯•ç”¨çš„
        vi /home/mycms/mysite_nginx.conf æŠŠ222 æ”¹æˆ80 å°±æ˜¯ä¸è¡Œ.
        å¯èƒ½æ˜¯80è¢«å ç”¨äº†..  ä½†æ˜¯ä¸æ˜¯è¢«nginx å ç”¨äº†.
        lsof -i:ç«¯å£å· å®‰è£…: yum install lsof
        å¦‚lsof -i:80 
        nginx     15891 root    6u  IPv4 147886      0t0  TCP *:http (LISTEN)
        nginx     15892  www    6u  IPv4 147886      0t0  TCP *:http (LISTEN)
        ä¸¤ä¸ªhttp.... 

        âœ˜âœ˜âˆ™GCE ~ âœ     cd /usr/local/nginx/conf/vhost/
        å±…ç„¶çœ‹åˆ°ä¸ª www.0214.liveçš„é…ç½®æ–‡ä»¶ é‡Œé¢é»˜è®¤ç”¨çš„80ç«¯å£..
        åŸæ¥è¿™å°±æ˜¯æˆ‘ä»¬ç”¨lnmp å»ºç«‹çš„è™šæ‹Ÿä¸»æœº...
        å…¶å®æ²¡å¿…è¦. æˆ‘ä»¬å·²ç»åœ¨mycmsé¡¹ç›®é‡Œé¢å»ºäº†ä¸€ä¸ª .conf æ‰€ä»¥å°±å†²çªäº†..
        åˆ é™¤...

        rm /usr/local/nginx/conf/vhost/www.0214.live.conf
        æˆ–è€… lnmp vhost del...





â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ mycms é…ç½® ğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µğŸ”µ 
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

ğŸ”¸ åå°å¸å·åˆ›å»º

    cd /home/mycms && source /home/djcmsenv/bin/activate

        python manage.py createsuperuser

    ç„¶åç½‘é¡µç™»å½• http://www.0214.help:222/

    è‡ªåŠ¨å¼¹å‡ºçš„æ¡†. ç‚¹å‡» new page  âœ next âœ title: home âœ create
    ç°åœ¨ä½ çš„ç½‘é¡µ å°±æœ‰ä¸€ä¸ª About é“¾æ¥äº†.. 
    å®åœ¨å¤ªç®€é™‹äº†...  ç°åœ¨æ˜¯æ¶‰åŠ html å‰ç«¯çš„çŸ¥è¯†.. 
    ç®€å•ç‚¹ä¸‹ä¸ªæ¨¡æ¿ç¨å¾®ä¿®æ”¹ä¸‹... 
    åšå®¢ä¸»è¦çš„æ˜¯å†…å®¹.. å¤–è§‚ä¹ˆ... æœ‰ç²¾åŠ›å¯ä»¥ææ..



ğŸ”¸ bootstarp æ’ä»¶å®‰è£….

    â¦¿ è¿™ä¸ªæ’ä»¶å¯ä»¥è®©ä½ å¿«é€Ÿå»ºç«‹ç½‘é¡µå¸ƒå±€.

    cd /home/mycms && source /home/djcmsenv/bin/activate


    â¦¿ å®‰è£… bootstrap ç¬¬ä¸‰æ–¹æ¨¡å—.
    pip install aldryn-bootstrap3

    â¦¿ é…ç½®
    vi /home/mycms/mycms/settings.py 
    æ·»åŠ  'aldryn_bootstrap3', åˆ° INSTALLED_APPS
    æ³¨æ„é€—å·.

    â¦¿ ç”Ÿæˆbootstrapæ’ä»¶æ‰€éœ€çš„æ•°æ®åº“è¡¨
    python /home/mycms/manage.py migrate

    â¦¿ é‡å¯æœåŠ¡å™¨...

    â¦¿ æµ‹è¯•
        å°±å¤šäº†ä¸ª..  bootstarp æ’ä»¶å¯ä»¥ç”¨



ğŸ”¸ é¦–é¡µä¿®æ”¹.

â¦¿ æ¨¡æ¿ä¸‹è½½.

    â€¢ æ¨¡æ¿åœ°å€  https://startbootstrap.com/template-overviews/modern-business/

    â€¢ ä¸‹è½½æ¨¡æ¿+è§£å‹+é‡å‘½å
        cd / && wget https://github.com/BlackrockDigital/startbootstrap-modern-business/archive/gh-pages.zip && unzip gh-pages && mv startbootstrap-modern-business-gh-pages modern

â¦¿ æ–‡ä»¶ç§»åŠ¨ cssã€font-awesomeã€fontsã€js
    mv modern/css /home/mycms/mycms/static && mv modern/font-awesome /home/mycms/mycms/static && mv modern/fonts /home/mycms/mycms/static &&mv modern/js /home/mycms/mycms/static

â¦¿ åˆ é™¤ä¸‹è½½çš„æ¨¡æ¿
    rm -rf /modern


â¦¿ åˆ é™¤djangocms é‡Œæ— ç”¨æ¨¡æ¿:base+left+right
    ç•™ fullwidth.html å› ä¸ºè¿™ä¸ªæ˜¯djangocmsçš„é»˜è®¤æ¨¡æ¿,æš‚æ—¶ä¸èƒ½åˆ é™¤

    cd /home/mycms/mycms/templates && rm -f /home/mycms/mycms/templates/base.html /home/mycms/mycms/templates/sidebar_left.html /home/mycms/mycms/templates/sidebar_right.html



â¦¿ æ–°å»ºåŸºç¡€æ¨¡æ¿   
    vi /home/mycms/mycms/templates/base.html


{% load cms_tags menu_tags sekizai_tags staticfiles i18n %}
<!--ä¸ºäº†ä½¿ç”¨æ¨¡æ¿çš„åŸºæœ¬åŠŸèƒ½. é¦–å…ˆéœ€è¦åœ¨æœ€ä¸Šæ–¹æ·»åŠ è¿™è¡Œ-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- æ¨¡æ¿é‡Œè°ƒç”¨é™æ€æ–‡ä»¶ ç”¨ä¸‹é¢çš„æ ¼å¼.-->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/modern-business.css' %}" rel="stylesheet">
    <link href="{% static 'font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">

    <!--å¼•å…¥ djangocms ä»¥åŠå„ç§æ’ä»¶ æ‰€ä¾èµ–çš„cssæ–‡ä»¶-->
    {% render_block "css" %}

    <!--æ¨¡æ¿çš„æ ‡é¢˜-->
    <title>{% page_attribute 'page_title' %} - Xu.Jian </title>
</head>

<body>
    <!--cms éšè—å·¥å…·æ¡-->
    {% cms_toolbar %}


    <!-- ç½‘é¡µå¯¼èˆªæ¡ -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <!--home æŒ‰é’®-->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Home</a>
            </div>

            <!--å¯¼èˆªæ¡ä¸­çš„ homeä¹‹å¤–çš„æŒ‰é’®.-->
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                {% show_menu 0 100 100 100 %}
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!--ä¸‹é¢æ˜¯ç½‘é¡µçš„å†…å®¹åŒºåŸŸ.  block xxx å°±ä»£è¡¨æ¨¡å—,  å¯ä»¥åœ¨æ¨¡æ¿é‡Œé¢ç”¨åˆ«çš„æ¨¡æ¿-->
    {% block content %}{% endblock %}

 
    <!--å¯ä»¥åœ¨ ç»“æ„ä¸­ æ·»åŠ ä¸€ä¸ªcate åŒºåŸŸ.-->
    {% placeholder Cate %}
    {% placeholder Tage %}
    {% placeholder File %}



    <!-- Footer -->
    <footer>
        {% static_placeholder "Footer"%}
    </footer>
        
    <!-- jQuery -->
    <script src="{% static 'js/jquery.js' %}"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
        {% render_block "js" %}

</body>

</html>




â¦¿ æ¨¡å—æ”¹è¿›..
    å…¶å® é™æ€æ–‡ä»¶ å®Œå…¨å¯ä»¥ç”¨ cdn æä¾›çš„ æ¯”ä½ è‡ªå·±çš„å¿«å¤šäº†.
    æ³¨æ„ç‰ˆæœ¬!!! bootstrap å’Œ jquery ä¸æ˜¯éšä¾¿é€‰çš„!! æœ‰å…¼å®¹æ€§é—®é¢˜çš„.

    bootstrap.min.js 3.3.7
    <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    jquery.js ç‰ˆæœ¬è¦æ±‚ 1.11.1
    <script src="https://cdn.bootcss.com/jquery/1.11.1/jquery.js"></script>

    bootstrap.min.css 3.3.7 
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    font-awesome.min.css
    <link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet">






â¦¿ é™æ€æ–‡ä»¶å¤„ç†
    ç”±äºä¹‹å‰ é™æ€æ–‡ä»¶è·¯å¾„æ”¹è¿‡äº†...
    æ‰€ä»¥è¦å†ä¸€æ¬¡è¿è¡Œå¤åˆ¶ /home/mycms/mycms/static æ–°å¢æ–‡ä»¶åˆ° /home/mycms/static

    source /home/djcmsenv/bin/activate && python /home/mycms/manage.py collectstatic

    

â¦¿ æµ‹è¯•ç½‘é¡µ. 
    http://www.0214.help:222/en/
    ç°åœ¨å°±æœ‰ä¸€ä¸ª æ¼‚äº®çš„é¡¶éƒ¨å¯¼èˆªæ¡äº†: å·¦è¾¹æ˜¯Home å³è¾¹æ˜¯About
    å…¶å®æ¨¡æ¿å°±æ˜¯ä¸€äº›é™æ€æ–‡ä»¶ + ä¸€ä¸ª bootstrap çš„é¦–é¡µè€Œå·²
    ä¼˜ç‚¹å°±æ˜¯ å¯ä»¥é€‚åº”æ‰€æœ‰è®¾å¤‡. è‡ªåŠ¨æ”¹å˜ç½‘é¡µå®½åº¦. æ’ç‰ˆå¥½çœ‹..

    æ¥ä¸‹æ¥çš„ç½‘é¡µå°±çœ‹ä½ è‡ªå·±çš„äº†.



â¦¿ ç½‘ç«™å›¾æ ‡ä¿®æ”¹

    å›¾æ ‡æ˜¯åœ¨htmlç½‘é¡µé‡Œé¢è®¾ç½®çš„.
    ç„¶å ä¸Šä¼ å›¾æ ‡ è®¾ç½®è·¯å¾„.
    favicon.ico 


    æœ‰ä¸ªç½‘ç«™. æ–¹ä¾¿è®¾ç½®æ‰€æœ‰å¹³å°å…¨å¥—çš„å›¾æ ‡.

    ä¸Šä¼ ä¸€å¼ png å›¾ç‰‡. 
    ç„¶åä¸‹è½½ä¸€ä¸ªæ–‡ä»¶å¤¹..
    ç„¶åæŠŠ æ–‡ä»¶å¤¹ æ”¾åˆ°æœåŠ¡å™¨çš„ /home/mycms/static/favicon æ–‡ä»¶å¤¹...

    http://www.0214.live/static/favicons/favicon.ico
    ç„¶åæµ‹è¯• æ˜¯ä¸æ˜¯æ­£å¸¸.

    ç„¶å å°±æ˜¯htmlä»£ç äº†é¢
    æ”¾åˆ°.../home/mycms/mycms/templates/base.html ä¸‹çš„ headé‡Œé¢..
    æœ€åé‡å¯nginx å°±å¯ä»¥äº†. service nginx restart



    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png">
    <link rel="manifest" href="/static/favicons/manifest.json">
    <link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">




ğŸ”¸ HTTPS

    é¦–å…ˆå»é˜¿é‡Œäº‘ ç”³è¯·å…è´¹çš„ sslè¯ä¹¦. www.0214.live
    ç„¶åä¸‹è½½ Nginx ç‰ˆæœ¬çš„è¯ä¹¦
    å¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶:  .key  å’Œ  .pem
    æœåŠ¡å™¨æ–°å»ºcert æ–‡ä»¶å¤¹: mkdir /usr/local/nginx/conf/cert
    ç„¶åæŠŠä¸¤ä¸ªè¯ä¹¦æ–‡ä»¶ ä¼ åˆ° cert ç›®å½•ä¸‹


vi /home/mycms/mysite_nginx.conf  æ·»åŠ  https æ¨¡å—

server {
    listen 443;
    server_name www.0214.live;

    location /media  {   alias /home/mycms/media;  }
    location /static {   alias /home/mycms/static; }
    location /       {
      uwsgi_pass  django;
       include /home/mycms/uwsgi_params;
      }


    ssl on;
    ssl_certificate /usr/local/nginx/conf/cert/214194220970463.pem;
    ssl_certificate_key /usr/local/nginx/conf/cert/214194220970463.key;
    ssl_session_timeout 5m;
    ssl_protocols SSLv2 SSLv3 TLSv1;
    ssl_ciphers ALL:!ADH:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;
    ssl_prefer_server_ciphers on;

}

æµ‹è¯•: https://www.0214.live  å°±å¯ä»¥äº†




â¦¿ nginx https è·³è½¬ 
    æœ€å¥½æŠŠ www.0214.live è½¬åˆ° https ä¸‹.

    vi /home/mycms/mysite_nginx.conf 
    åœ¨ 80 æ¨¡å—ä¸‹ æ·»åŠ ä¸‹é¢è¡Œå°±å¯ä»¥äº†

    rewrite ^(.*)$  https://$host$1 permanent;  












ğŸ”µ å¤‡ä»½.
    vps éš¾å…æŠ˜è…¾..  
    åšå®¢ç®—é‡è¦å†…å®¹äº†.. å¿…é¡»å¤‡ä»½..
    ä¸¤ç§å¤‡ä»½æ–¹æ³•: git æˆ–è€… lsync
    git åªè¦æ³¨å†Œä¸ªå¸å·å°±èƒ½ç”¨äº†.
    lsync éœ€è¦ä½ æœ‰ä¸€ä¸ªå…¬ç½‘IPçš„ç”µè„‘.
    gitçš„ç¼ºç‚¹æ˜¯ æ‰‹åŠ¨å¤‡ä»½. è¦commintåæ‰ä¼šå¤‡ä»½.
    lsync ä¼˜ç‚¹æ˜¯ è‡ªåŠ¨å¤‡ä»½. æœ‰ä»»ä½•ä¿®æ”¹å°±ä¼šè‡ªåŠ¨åŒæ­¥åˆ°è¿œç«¯æœåŠ¡å™¨.

ğŸ”¸ git å¤‡ä»½.

    git å®‰è£…      yum install git 
    æŸ¥çœ‹ç‰ˆæœ¬      git --version
    åˆå§‹åŒ–ä»“åº“    git init
    å½“å‰ä»“åº“çŠ¶æ€  git status

    æ·»åŠ æ–‡ä»¶ï¼ˆ.æˆ–è€…*è¡¨ç¤ºå…¨éƒ¨æ·»åŠ ï¼‰   git add .
    æäº¤ä»£ç   git commit -m "commit message" 
    æ·»åŠ è¿œç¨‹ä»“åº“   git remote add origin git@github.com:xxxx.git 
    pushæœ¬åœ°ä»£ç åˆ°è¿œç¨‹ä»“åº“  git push -u origin master 



ğŸ”¸ GitHub å‡†å¤‡ 
    â¦¿ github åˆ›å»ºä¸€ä¸ªç©ºä»“åº“:mycms
        ä¸ºäº†é¿å…å†²çªï¼Œå…ˆä¸è¦å‹¾é€‰ README å’Œ LICENSE é€‰é¡¹

    â¦¿ è·å–ä»“åº“åœ°å€. 
        é¡¹ç›®å³ä¸Šè§’ clone or download > è·å– https åœ°å€.
        https://github.com/Xu-Jian/mycms.git



ğŸ”¸ VPS å‡†å¤‡

    â¦¿ åˆå§‹åŒ–ä»“åº“
        cd /home/mycms && git init
        mycms ä¸‹å¤šäº†ä¸ª .gitæ–‡ä»¶å°±è¯´æ˜æˆåŠŸäº†.
        ä¸‹é¢æˆ‘ä»¬è¦ æ‰€æœ‰æ–‡ä»¶ åŠ åˆ°gitä»“åº“.

    â¦¿ git add .
        å¯ä»¥ç”¨ .gitignoreæ–‡ä»¶æ¥æ·»åŠ ä¸éœ€è¦åŒæ­¥çš„æ–‡ä»¶

    â¦¿ æäº¤ä¿®æ”¹(æœ¬åœ°):  git commit -m "first commit"
        æäº¤ä¸€æ¬¡. å°±å¯ä»¥è¿˜åŸ.  ä¸æäº¤çš„å†…å®¹æ˜¯æ— æ³•è¿˜åŸçš„.

    â¦¿ é…ç½® github ç”¨æˆ·å

        å¦‚æœä¸ç”¨githubçš„è¯.å°±ä¸Šé¢å‡ æ­¥äº†. 
        å¦‚æœè¦ç”¨githubçš„è¯ å°±å¾—å…ˆé…ç½® githubçš„å¸å·å¯†ç .

        æ·»åŠ  github ç”¨æˆ·å  $ git config --global user.name "Xu-Jian"
        æ·»åŠ  github é‚®ç®±    $ git config --global user.email "xujian0219@126.com"



    â¦¿ é…ç½® github å¯†é’¥
        éœ€è¦åœ¨vpsä¸Šå•ç‹¬ç”Ÿæˆä¸€ä¸ªå¯†é’¥(ç”¨ä½ çš„é‚®ç®±åœ°å€)! ä¸èƒ½ç”¨ä»¥å‰çš„.

        $ ssh-keygen -t rsa -C xujian0219@126.com
        ä¸€è·¯å›è½¦ å°±ä¼šåœ¨ /root/.ssh/ ä¸‹é¢ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶.
        ä¸€ä¸ª id_rsa æ˜¯ç§é’¥. ä¸€ä¸ª id_rsa.pub æ˜¯å…¬é’¥.

        ç„¶åå»github çš„ç³»ç»Ÿè®¾ç½® > ssh and gpg keys > new ssh key >
        è¦ä½ è¾“å…¥ åç§° å’Œ key  åç§°éšä¾¿. key å°±æ˜¯æœåŠ¡å™¨çš„å…¬é’¥é‡Œé¢çš„å†…å®¹.

        å¤åˆ¶å…¬é’¥çš„æ‰€æœ‰å†…å®¹. cat /root/.ssh/id_rsa.pub åˆ°githubçš„key å†…å®¹æ¡†é‡Œ

    â¦¿ æµ‹è¯•å¯†é’¥è®¾ç½®
        $ ssh -T git@github.com
        å¦‚æœæˆåŠŸè®¾ç½® å°±ä¼šæœ‰ä¸ª 
        Are you sure you want to continue connecting (yes/no)? 
        è¾“å…¥yes å°±å¯ä»¥äº†


    â¦¿ æŸ¥çœ‹ä»“åº“æƒ…å†µ    git remote -v

    â¦¿ è¿œç¨‹åˆ°github
        git push -u origin master

    â¦¿ æŸ¥çœ‹åŒæ­¥æƒ…å†µ
        ç°åœ¨å»github çš„ mycmsé¡¹ç›®. å°±å¤šå‡ºäº†æœ¬åœ°çš„æ–‡ä»¶äº†. åŒæ­¥æˆåŠŸ!!!









â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
aldryn-bootstrap3 æ’ä»¶
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
å®˜æ–¹æ–‡æ¡£:  https://pypi.python.org/pypi/aldryn-bootstrap3/1.2.0
å®˜æ–¹æ–‡æ¡£:  https://pypi.python.org/pypi/aldryn-bootstrap3/1.2.0
å®˜æ–¹æ–‡æ¡£:  https://pypi.python.org/pypi/aldryn-bootstrap3/1.2.0

æ’ä»¶å°±æ˜¯ä¸€å † html ... åªæ˜¯é¢„å…ˆå†™å¥½ä¸€äº›ä»£ç è€Œå·².
ä½ å¯ä»¥åœ¨htmlä¸­æ·»åŠ  class æ¥å®ç°æ’ä»¶çš„åŠŸèƒ½.. ä¹Ÿèƒ½ç›´æ¥ç”¨æ’ä»¶...





    ğŸ”¸ å¯¼èˆªæ : ç½‘ç»œå®‰å…¨ + å‰ç«¯ + åç«¯ + Misc + ç®€å†




ğŸ”¸ style    å®¹å™¨. div .  
    å®¹å™¨ä¹Ÿæ˜¯æœ‰é»˜è®¤ è¾¹è·çš„.
    å»ºè®®æ‰€æœ‰å…ƒç´ éƒ½æ”¾è¿› div é‡Œé¢. ä¹Ÿå°±æ˜¯ style é‡Œé¢.

    class name é€‰æ‹© container.   
    tag é€‰æ‹©  div ..


ğŸ”¸ Row  è¡Œ.
    create columns   
    col-xs- offset-  push- pull-
    col-md- offset-  push- pull-
    col-lg- offset-  push- pull-

    row æ˜¯åˆ›å»ºè¡Œçš„æ„æ€.  ä¸€è¡Œåˆ†æˆ12éƒ¨åˆ†.
    create columns   ä¸€è¡Œåˆ†æˆå‡ åˆ—. 1 å°±æ˜¯1

    col-xs æ˜¯å°å±å¹•   xs- å»ºè®®å€¼ 4. 
    col-md æ˜¯ä¸­å±å¹•
    col-lg æ˜¯å¤§å±å¹•
    è¿™é‡Œå¡«12 å°±æ˜¯è¯´å°æ‰‹æœºä¸Šä¸ºäº†å……åˆ†åˆ©ç”¨å±å¹•å®½åº¦. ä¸ç•™ä»»ä½•è¾¹è·
    ä¸ç„¶çš„è¯ é»˜è®¤æ¯è¡Œä¸¤è¾¹éƒ½æœ‰ä¸€å®šçš„é»˜è®¤ å±å¹•è¶Šå¤§. è¾¹è·è¶Šå¤§..

    å½“ç„¶å¦‚æœ row æ˜¯åœ¨ å®¹å™¨å†… ä¹Ÿå°±æ˜¯ style é‡Œé¢.
    é‚£ä¹ˆå®¹å™¨æ˜¯æœ‰ç•™é»˜è®¤è¾¹è·çš„. é‡Œé¢çš„row å†æ€ä¹ˆåˆ©ç”¨ ä¹Ÿä¸ä¼šè¶…å‡ºå®¹å™¨.


ğŸ”¸ text       æ–‡å­—.  class="page-header" å¯ä»¥åŠ ä¸Šä¸€ä¸ªä¸‹åˆ’çº¿.

æ–‡æœ¬å†…æ˜¯å¯ä»¥æ·»åŠ å›¾ç‰‡/å›¾æ ‡çš„. å¯ä»¥ç”¨ ä»£ç æ¨¡å¼ç¼–è¾‘.
<p><cms-plugin alt="Icon - glyphicon-time " id="821" render-plugin="true" title="Icon - glyphicon-time"></cms-plugin> <span> 2017-07-10-19 </span></p>

æ¯”å¦‚ä¸€ä¸ªæ—¶é—´å›¾æ ‡.  åŠ ä¸Š span å°±å¯ä»¥åœ¨åŒè¡Œå†…æ·»åŠ æ—¶é—´

æ¯”å¦‚æ˜Ÿæ˜Ÿå›¾æ ‡. 
<cms-plugin alt="Icon - glyphicon-star " id="822" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin>

é‡å¤5æ¬¡å°±æœ‰5ä¸ªæ˜Ÿæ˜Ÿäº†...




â¦¿ â˜…â˜…â˜…â˜…â˜… å±…ä¸­æ˜¾ç¤º
<p style="text-align: center;"><cms-plugin alt="Icon - glyphicon-star " id="823" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin><cms-plugin alt="Icon - glyphicon-star " id="823" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin><cms-plugin alt="Icon - glyphicon-star " id="823" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin><cms-plugin alt="Icon - glyphicon-star " id="823" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin><cms-plugin alt="Icon - glyphicon-star " id="823" render-plugin="true" title="Icon - glyphicon-star"></cms-plugin></p>



â¦¿ æ—¶é—´å›¾æ ‡ å±…ä¸­

<p style="text-align: center;"><cms-plugin alt="Icon - glyphicon-time " id="824" render-plugin="true" title="Icon - glyphicon-time"></cms-plugin> 2017-07-10 </p>



â¦¿ è¡Œå†… ä¸€å·¦ä¸€å³


é å³

<p>

<span>sdfr&nbsp;</span>

<span style="text-align: right;">sdfr&nbsp;</span>

</p>


â¦¿ å†…è”å…ƒç´ .
html å—å…ƒç´ ä¼šé‡å¯ä¸€è¡Œ. å†…è”å…ƒç´ åˆ™æ˜¯ä¸€è¡Œå†…ä»å·¦åˆ°å³

åˆæœ‰å°ä¼™ä¼´é—®äº†ï¼Œè®¾ç½®ä¸¤ä¸ªå…ƒç´ ä¸€å·¦ä¸€å³å¯ä»¥å®ç°ä¸€è¡Œæ˜¾ç¤ºå—ï¼Ÿå½“ç„¶å¯ä»¥ï¼š


ä½œè€…ï¼š æœ¨æ™¨ 
é“¾æ¥ï¼šhttp://www.imooc.com/article/2058
æ¥æºï¼šæ…•è¯¾ç½‘




ğŸ”¸ bkcokquote å¼•ç”¨.  å³è¾¹æœ‰ä¸ªå¼•ç”¨çš„æ ‡å¿—.
ğŸ”¸ Panel      é¢æ¿.  æ ‡é¢˜ + å†…å®¹ + é¡µè„š
ğŸ”¸ Carousel   å›¾ç‰‡è½®æ’­!!!
ğŸ”¸ Jumbotron  å·¨å¤§çš„æ˜¾ç¤ºå±. (èƒŒæ™¯ä¸ºç°è‰²çš„ DIV)
ğŸ”¸ Lable      æ ‡ç­¾. å°æŒ‰é’®å›¾æ ‡.
ğŸ”¸ tab        ä¸€è¡Œå†… å¤šä¸ªé“¾æ¥/æŒ‰é’® ?


ğŸ”¸ well ... 
ğŸ”¸ file       æ–‡ä»¶ä¸‹è½½   
ğŸ”¸ accordion  æ‰‹é£ç´ ç‚¹å‡»ä¸‹æ–¹ä¼šå‡ºç°è§£é‡Šçš„.  ä¸èƒ½å±…ä¸­æ˜¯é—®é¢˜








ğŸ”¸ Content

column:30ã€xs:4ã€sm:3ã€md:2ã€lg:2 
        æ„æ€æ˜¯ æ¯è¡Œæœ€é•¿30åˆ—. å½“å®½åº¦å°±è‡ªåŠ¨æ¢è¡Œ.  
        ç‰¹å°å±çš„æ—¶å€™. æ¯åˆ—å ä¸€è¡Œçš„4  ä¹Ÿå°±æ˜¯ä¸€è¡Œå¯ä»¥æ”¾ 3åˆ—.
        å°å±å¹•çš„æ—¶å€™. æ¯åˆ—å ä¸€è¡Œçš„3  ä¹Ÿå°±æ˜¯ä¸€è¡Œå¯ä»¥æ”¾ 4åˆ—.
        ä¸­å±å¹•çš„æ—¶å€™. æ¯åˆ—å ä¸€è¡Œçš„2  ä¹Ÿå°±æ˜¯ä¸€è¡Œå¯ä»¥æ”¾ 6åˆ—.
        å¤§å±å¹•çš„æ—¶å€™. æ¯åˆ—å ä¸€è¡Œçš„2  ä¹Ÿå°±æ˜¯ä¸€è¡Œå¯ä»¥æ”¾ 6åˆ—.







    ğŸ”¸ åšå®¢é¡µè„š
    style 
        row
            columns:1ã€col-xs:12
                text > Copyright @ 2017 All rights reserved


ğŸ”¸ åˆ†ç±»æ ‡ç­¾
style: VPS
    row1-1 > columb:1ã€xs:12
        text > <h3 class="page-header" ><strong>VPS</strong></h3>


    
    ğŸ”¸ é‡è¦åšå®¢æ¨¡å— ä¸€æ’ä¸¤ä¸ª. æ–‡å­—+å›¾æ ‡ã€å›¾æ ‡+æ–‡å­—
    row1-1
        cloumn2-1: 6666 > link > row âœ ä¸€è¡Œå†…çš„ å·¦åŠéƒ¨åˆ†.
                cloumn 8888 > panel body > text   âœ å·¦è¾¹çš„ å·¦è¾¹éƒ¨åˆ†    
                column 4444 > image               âœ å·¦è¾¹çš„ å³è¾¹éƒ¨åˆ†
                    
        column2-2: 6666 > link > row âœ  ä¸€è¡Œå†…çš„å³åŠéƒ¨åˆ†
                column 4444 > image               âœ å³è¾¹çš„ å·¦è¾¹éƒ¨åˆ†
                cloumn 8888 > panel body > text   âœ å³è¾¹çš„ å³è¾¹éƒ¨åˆ† 


    ğŸ”¸ æ¬¡è¦åšå®¢æ¨¡å— ä¸€æ’6ä¸ª.
    row6-1 > column:1ã€xs:4ã€sm:3ã€md:2ã€lg:2 
        link/Button: button: Block
        link/Button: link >www...
            Panel
                panel body
                    image
                panel footer
                    text
    row6-2 
    row6-3 
    row6-4 
    row6-5 
    row6-6 
    
    






ğŸ”µ  é¦–é¡µç»“æ„.


ğŸ”¸ è½®æ’­å›¾


æ¯ä¸ªæ–‡ç« ç”± æ ‡é¢˜+å›¾ç‰‡+ç®€ä»‹ç»„æˆ
æ¯ä¸ªæ–‡ç«  éƒ½æ˜¯ä¸€ä¸ªé“¾æ¥.




â¦¿ åˆ›å»ºå¤§ç±»æ ‡ç­¾
    å°±æ˜¯ç›´æ¥å»ºç«‹..  new page . æ˜¾ç¤ºåœ¨é¡¶éƒ¨å·¥å…·æ çš„...
    ç„¶ååœ¨ å¤§ç±»æ ‡ç­¾å° æ‰‹åŠ¨å»ºç«‹å°æ ‡ç­¾.
    å°æ ‡ç­¾é‡Œé¢ æ”¾å…·ä½“åšå®¢txté“¾æ¥
    åšå®¢å°±æ˜¯è¿™æ ·äº†..



ä¸‹é¢å°±è¯¥è®¾ç½® ç½‘é¡µé“¾æ¥äº†. 
æ–‡ä»¶è¦æœ‰é“¾æ¥.  æ–‡ä»¶è¿˜è¦å’Œæœ¬åœ°ä¿æŒä¸€è‡´..

è¦ä¹ˆç”¨xxç½‘ç›˜. ç½‘ç›˜çš„é“¾æ¥å¤ªéº»çƒ¦äº†..
è¦ä¹ˆç”¨è‡ªå·±æœåŠ¡å™¨æ­ lsync... è¦æœ‰ä¸ªç¨³å®šçš„æœåŠ¡å™¨..
å®åœ¨ä¸è¡Œ.. ç”¨github ...ç»å¸¸æ‰‹åŠ¨ æäº¤æ›´æ–°å°±å¯ä»¥ä¿æŒæ–‡ä»¶æœ€æ–°...


æˆ‘ä»¬é€‰æ‹©... è‡ªå·±æœåŠ¡å™¨æŠŠ..
è¿˜æœ‰å°±æ˜¯è·¯å¾„é—®é¢˜...  æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ä¸æ˜¯è°éƒ½å¯ä»¥è®¿é—®çš„..
ç®€å•ç®€å•ç‚¹å°± æ”¾åœ¨/home/mycms/media æ–‡ä»¶å¤¹é‡Œé¢..
è¦ä¹ˆå°±è‡ªå·±å»ºä¸ªFTPæœåŠ¡å™¨ ä»€ä¹ˆçš„ ....

æˆ‘ä»¬è¿˜æ˜¯ç”¨gitå§.... gitå®‰å…¨.. æœ¬åœ°ç”µè„‘åäº† è¿˜èƒ½æœåŠ¡å™¨ä¸Šæ‰¾å›æ¥.






â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
lsync è®¾ç½®.
è™šæ‹Ÿç¯å¢ƒå•ç‹¬å®‰è£…. macä¸Šå®‰è£…ä¸€é. vpsä¸Šå†å®‰è£…ä¸€é.
mycms æ–‡ä»¶å¤¹ å’Œ vps æ–‡ä»¶å¤¹åˆ™ç”±mac åŒæ­¥åˆ°æœåŠ¡å™¨. 



â¦¿ é…ç½®.
sudo vi /etc/lsyncd-gce.conf


settings {
        logfile = "/tmp/lsyncd-gce.log",
        statusFile = "/tmp/lsyncd-gce.status",

        insist = true,
        nodaemon   = true,

        inotifyMode = "CloseWrite or Modify",
        -- æ€ä¹ˆæ‰ç®—ä¸€æ¬¡ä¿®æ”¹. æ˜¯ä¿å­˜å‘¢,è¿˜æ˜¯ä»»ä½•ä¿®æ”¹.

        statusInterval = 5,
        --æ¯éš”5ç§’æŸ¥çœ‹ä¸€æ¬¡æœ¬åœ°æ˜¯å¦æœ‰ä¿®æ”¹.

        maxDelays = 1,
        -- æœ¬åœ°æœ‰å¤šå°‘æ¬¡ä¿®æ”¹ æ‰ä¼šè§¦å‘åŒæ­¥.

}

sync {
        default.rsyncssh,

        source = "/Users/v/Desktop/gce",

        host="35.194.128.92",

        targetdir = "/root/gce",

        excludeFrom = {
            /Users/v/Desktop/gce/djangocms,
            /Users/v/Desktop/gce/mycms,
        },


        rsync = {
                binary = "/usr/local/bin/rsync",
                archive  = true,
                compress = true,
                whole_file = false

        },

        ssh = {
                port = 22,
                identityFile ="/Users/v/.ssh/id_rsa",
        }
}
 


â¦¿ â—ï¸â—ï¸â—ï¸ è¿è¡Œ 
sudo lsyncd /etc/lsyncd-gce.conf














































ğŸ”µ é¡¹ç›®ç®€ä»‹
    djangocms æ˜¯åŸºäº djangoçš„.  æ‰€æœ‰çš„djangoåŠŸèƒ½åœ¨djangocmsé‡Œéƒ½èƒ½ç”¨.
    æ²¡djangoåŸºç¡€çš„ å¯ä»¥è¾¹å­¦ä¹ djangocms è¾¹äº†è§£ django. 
    æœ‰djangoåŸºç¡€çš„ å¯ä»¥æ›´å¥½çš„ç†è§£ djangocms.
    ä½ åœ¨ç½‘ä¸Šçœ‹åˆ°çš„æ•™ç¨‹. ä¹Ÿå¯ä»¥ç›´æ¥åœ¨djangocmsé¡¹ç›®é‡Œé¢è¿è¡Œ/æµ‹è¯•.

    å­¦ä¹ pythonçš„æœ‹å‹æˆ–å¤šæˆ–å°‘éƒ½ä¼šæƒ³ç”¨pythonæ¥æ¶æ„ä¸€ä¸ªè‡ªå·±CMSç½‘ç«™ã€‚

    Django ä¹Ÿæ˜¯åœ¨æ¡†æ¶ä¸­ä¸­æä¾›äº†å¼€å‘ç½‘ç«™ç»å¸¸ç”¨åˆ°çš„æ¨¡å—ï¼Œå¸¸è§çš„ä»£ç éƒ½ä¸ºä½ å†™å¥½äº†ï¼Œé€šè¿‡å‡å°‘é‡å¤çš„ä»£ç ï¼ŒDjango ä½¿ä½ èƒ½å¤Ÿä¸“æ³¨äº web åº”ç”¨ä¸Šæœ‰ è¶£çš„å…³é”®æ€§çš„ä¸œè¥¿ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®æ ‡ï¼ŒDjango æä¾›äº†é€šç”¨Webå¼€å‘æ¨¡å¼çš„é«˜åº¦æŠ½è±¡ï¼Œæä¾›äº†é¢‘ç¹è¿›è¡Œçš„ç¼–ç¨‹ä½œä¸šçš„å¿«é€Ÿè§£å†³æ–¹æ³•ï¼Œä»¥åŠä¸ºâ€œå¦‚ä½•è§£å†³é—®é¢˜â€æä¾›äº†æ¸…æ™°æ˜äº†çš„çº¦å®šã€‚Djangoçš„ç†å¿µæ˜¯DRY(Don't Repeat Yourself)æ¥é¼“åŠ±å¿«é€Ÿå¼€å‘ï¼


    è®©æˆ‘ä»¬ä¸€è§ˆ Django å…¨è²Œ
    ğŸ”¸ urls.py
    ç½‘å€å…¥å£ï¼Œå…³è”åˆ°å¯¹åº”çš„views.pyä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–è€…genericç±»ï¼‰ï¼Œè®¿é—®ç½‘å€å°±å¯¹åº”ä¸€ä¸ªå‡½æ•°ã€‚

    ğŸ”¸ views.py
    å¤„ç†ç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ï¼Œä»urls.pyä¸­å¯¹åº”è¿‡æ¥, é€šè¿‡æ¸²æŸ“templatesä¸­çš„ç½‘é¡µå¯ä»¥å°†æ˜¾ç¤ºå†…å®¹ï¼Œæ¯”å¦‚ç™»é™†åçš„ç”¨æˆ·åï¼Œç”¨æˆ·è¯·æ±‚çš„æ•°æ®ï¼Œè¾“å‡ºåˆ°ç½‘é¡µã€‚

    ğŸ”¸ models.py
    ä¸æ•°æ®åº“æ“ä½œç›¸å…³ï¼Œå­˜å…¥æˆ–è¯»å–æ•°æ®æ—¶ç”¨åˆ°è¿™ä¸ªï¼Œå½“ç„¶ç”¨ä¸åˆ°æ•°æ®åº“çš„æ—¶å€™ ä½ å¯ä»¥ä¸ä½¿ç”¨ã€‚

    ğŸ”¸ forms.py
    è¡¨å•ï¼Œç”¨æˆ·åœ¨æµè§ˆå™¨ä¸Šè¾“å…¥æ•°æ®æäº¤ï¼Œå¯¹æ•°æ®çš„éªŒè¯å·¥ä½œä»¥åŠè¾“å…¥æ¡†çš„ç”Ÿæˆç­‰å·¥ä½œï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ã€‚

    ğŸ”¸ templates æ–‡ä»¶å¤¹

    ğŸ”¸ views.py ä¸­çš„å‡½æ•°æ¸²æŸ“templatesä¸­çš„Htmlæ¨¡æ¿ï¼Œå¾—åˆ°åŠ¨æ€å†…å®¹çš„ç½‘é¡µï¼Œå½“ç„¶å¯ä»¥ç”¨ç¼“å­˜æ¥æé«˜é€Ÿåº¦ã€‚

    ğŸ”¸ admin.py
    åå°ï¼Œå¯ä»¥ç”¨å¾ˆå°‘é‡çš„ä»£ç å°±æ‹¥æœ‰ä¸€ä¸ªå¼ºå¤§çš„åå°ã€‚

    ğŸ”¸ settings.py
    Django çš„è®¾ç½®ï¼Œé…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ DEBUG çš„å¼€å…³ï¼Œé™æ€æ–‡ä»¶çš„ä½ç½®ç­‰ã€‚


ğŸ”µ å‚è€ƒèµ„æº

    ğŸ‘â€ğŸ—¨ å¦‚æœæœ¬æ–‡ç†è§£æœ‰å›°éš¾.å»ºè®®æŒ‰é¡ºåºé˜…è¯»ä¸‹é¢å‚è€ƒèµ„æº. 

    1. â˜…â˜…â˜…â˜…â˜…   Django Girls æ•™ç¨‹:   https://tutorial.djangogirls.org/zh/  
                    â—ï¸â—ï¸â—ï¸ éå¸¸éå¸¸å®¹æ˜“ç†è§£.ç»“åˆå®é™…ä¾‹å­. åŠ¡å¿…å…ˆçœ‹è¿™ä¸ªæ•™ç¨‹, é‡Œé¢æœ‰ä¸æ‡‚çš„å¯ä»¥ç»“åˆæœ¬æ–‡ !!!
                    â—ï¸â—ï¸â—ï¸ éå¸¸éå¸¸å®¹æ˜“ç†è§£.ç»“åˆå®é™…ä¾‹å­. åŠ¡å¿…å…ˆçœ‹è¿™ä¸ªæ•™ç¨‹, é‡Œé¢æœ‰ä¸æ‡‚çš„å¯ä»¥ç»“åˆæœ¬æ–‡ !!!


    2. â˜…â˜…â˜…â˜…â˜…   ç®€ä¹¦:å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªDjangoåº”ç”¨ï¼Œç¬¬ä¸€ç«   http://www.jianshu.com/p/9d9281e5ebc8           
    3. â˜…â˜…â˜…â˜…â˜…   ç®€ä¹¦: å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªDjangoåº”ç”¨(part 2)  http://www.jianshu.com/p/fc049fd5e2a9
    ä¹Ÿæ˜¯ä¸€ä¸ªå®ä¾‹å­. 


    django-cms å®˜æ–¹è¯¦ç»†è¯´æ˜æ‰‹å†Œ:    http://docs.django-cms.org/en/latest/how_to/install.html

    å‚è€ƒç½‘ç«™:          https://blackrockdigital.github.io/startbootstrap-modern-business/index.html
    å‚è€ƒç½‘ç«™æºç ä¸‹è½½:  https://startbootstrap.com/template-overviews/modern-business/





ğŸ”µ å‚¨å¤‡çŸ¥è¯†

    ğŸ”¸ CMS ç®€ä»‹
        CMS çš„æ„æ€æ˜¯ Content Management System å†…å®¹ç®¡ç†ç³»ç»Ÿï¼Œ
        ä¸€èˆ¬æ‹¿å°±å¯ä»¥ä½¿ç”¨ï¼Œè¿˜å¯ä»¥åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå†æ¬¡å¼€å‘ï¼Œå‡å°‘å·¥ä½œé‡ï¼Œ
        è‘—å CMS: django-cmsã€mezzanineã€wagtail


    ğŸ”¸ ç½‘é¡µå¼€å‘: 
        å‰ç«¯: htmlã€cssã€js  
        åç«¯: phpã€nodejsã€rubyã€python(Django)ã€

        django å°±æ˜¯pythonçš„ä¸€ä¸ªè‘—åçš„ web å¼€å‘æ¡†æ¶.ååç«¯.ç®¡ç†ç½‘é¡µ.å­¦python å°±æ˜¯å­¦ diango.


    ğŸ”¸ é¡¹ç›® & APP:

        ä¸€ä¸ªç½‘ç«™å°±æ˜¯ä¸€ä¸ªé¡¹ç›®,ä¸€ä¸ªç½‘ç«™æœ‰å¾ˆå¤šåŠŸèƒ½(æ¨¡å—)ç»„æˆ. 
        æ¨¡å—å°±æ˜¯Djangoé‡Œçš„APP!! Djangoé‡Œåˆ›å»ºAPP å°±æ˜¯åˆ›å»ºæ¨¡å—
        æ¨¡å—å¯ä»¥é‡å¤åˆ©ç”¨. ç”šè‡³å¯ä»¥åœ¨åˆ«çš„é¡¹ç›®é‡Œè°ƒç”¨.


    ğŸ”¸ é¡¹ç›®ä½ç½®
        æŠŠä»»ä½•Pythonä»£ç æ”¾åœ¨ä½ çš„WebæœåŠ¡å™¨çš„æ–‡æ¡£æ ¹ç›®å½•é‡Œéƒ½å¹¶ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºçš„åšæ³•ï¼Œ
        é¡¹ç›®ä¸€èˆ¬æ˜¯ç½‘ç«™. ç½‘ç«™é‡Œçš„å¾ˆå¤šæ–‡ä»¶éƒ½æ˜¯å¿…é¡»è®©ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®çš„.
        æŠŠé¡¹ç›®æ”¾åœ¨æœåŠ¡å™¨æ ¹ç›®å½•.å¯èƒ½å¯¼è‡´åˆ«äººå¯ä»¥è®¿é—®é¡¹ç›®ä¹‹å¤–çš„æ–‡ä»¶.å¾ˆä¸å®‰å…¨
        ä¸€èˆ¬å»ºè®®æ”¾åœ¨ /home


    ğŸ”¸ Djangoé¡¹ç›®ç»“æ„
            æ–°å»ºDjangoé¡¹ç›®åå°±è‡ªåŠ¨å»ºç«‹äº†å¾ˆå¤šæ–‡ä»¶.
            è¿™äº›è‡ªå¸¦æ–‡ä»¶å¯ä»¥ä¿®æ”¹,ä½†æ˜¯åƒä¸‡ä¸è¦éšæ„çš„å»ç§»åŠ¨ä»¥åŠé‡å‘½å.

              my_blog                é¡¹ç›®å®¹å™¨, å¯ä»¥ä»»æ„ä¿®æ”¹æ–‡ä»¶å¤¹å
              â”œâ”€â”€ manage.py       âœ ä¸»è¦è„šæœ¬ï¼Œç”¨äºå’ŒDjangoäº¤äº’ã€‚
              â””â”€â”€ my_blog         âœ é¡¹ç›®PythonåŒ…,ä¸å¯é‡å‘½å!
                  â”œâ”€â”€ __init__.py âœ ç©ºæ–‡ä»¶ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•æ˜¯ä¸€ä¸ªPythonåŒ…
                  â”œâ”€â”€ settings.py âœ Djangoé¡¹ç›®é…ç½®æ–‡ä»¶
                  â”œâ”€â”€ urls.py     âœ ç®¡ç†é¡¹ç›®çš„ç½‘å€. 
                  â””â”€â”€ wsgi.py     âœ æ­å»ºæ­£å¼webæœåŠ¡å™¨ éœ€è¦ç”¨åˆ°è¿™ä¸ªæ–‡ä»¶.



    ğŸ”¸ admin åŸºç¡€
        Django ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå†…ç½®äº†åŸºäº web çš„ç®¡ç†ç¨‹åº -- admin
        Django è‡ªåŠ¨ç®¡ç†å·¥å…·æ˜¯ django.contrib çš„ä¸€éƒ¨åˆ†ã€‚
        ä½ å¯ä»¥åœ¨é¡¹ç›®çš„ settings.py ä¸­çš„ INSTALLED_APPS çœ‹åˆ°å®ƒï¼š
        django.contribæ˜¯ä¸€å¥—åºå¤§çš„åŠŸèƒ½é›†ï¼Œå®ƒæ˜¯DjangoåŸºæœ¬ä»£ç çš„ç»„æˆéƒ¨åˆ†ã€‚


        â¦¿ å¯ç”¨admin
        é¡¹ç›® urls.py ä¸­åŠ å…¥è¿™è¡Œå°±å¯ä»¥äº† from django.contrib import admin

        â¦¿ åˆ›å»º admin ç™»å½•ç”¨æˆ·:
        ç®¡ç†ä¹ˆ è‚¯å®šéœ€è¦ç™»å½•åæ‰èƒ½ç®¡ç†çš„. ç™»å½•è´¦æˆ·éœ€è¦å…ˆåˆ›å»º
        python manage.py createsuperuser

        â¦¿ è®¿é—® admin 
        è¿è¡Œå¼€å‘æœåŠ¡å™¨ âœ æµè§ˆå™¨ âœ 23.105.192.96:8000/admin


    ğŸ”¸ admin é¡µé¢è‡ªå®šä¹‰

        æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ç®¡ç†é¡µé¢ï¼Œæ¥å–ä»£é»˜è®¤çš„é¡µé¢ã€‚æ¯”å¦‚ä¸Šé¢çš„ "add" é¡µé¢ã€‚æˆ‘ä»¬æƒ³åªæ˜¾ç¤º name å’Œ email éƒ¨åˆ†ã€‚ä¿®æ”¹ TestModel/admin.py:

        from django.contrib import admin
        from TestModel.models import Test,Contact,Tag
        
        # Register your models here.
        class ContactAdmin(admin.ModelAdmin):
            fields = ('name', 'email')
        
        admin.site.register(Contact, ContactAdmin)
        admin.site.register([Test, Tag])

        ä»¥ä¸Šä»£ç å®šä¹‰äº†ä¸€ä¸ª ContactAdmin ç±»ï¼Œç”¨ä»¥è¯´æ˜ç®¡ç†é¡µé¢çš„æ˜¾ç¤ºæ ¼å¼ã€‚
        é‡Œé¢çš„ fields å±æ€§å®šä¹‰äº†è¦æ˜¾ç¤ºçš„å­—æ®µã€‚


    ğŸ”¸ admin è¿›é˜¶
        admin å…¶å®å¾ˆå¼ºå¤§  http://python.jobbole.com/84340/
        èƒ½å¤„ç†å„ç§ä¸œè¥¿. å‰ææ˜¯ä½ ä¼šç”¨.. 






    ğŸ”¸ æ•°æ®åº“

        django çš„æ•°æ®åº“é»˜è®¤ç”¨sqlite . ä¹Ÿå¯ä»¥ç”¨: mysqlã€postgresql
        
        ä½¿ç”¨SQLiteï¼Œä½ ä¸éœ€è¦æå‰åˆ›å»ºä»»ä½•ä¸œè¥¿ï¼Œæ•°æ®åº“æ–‡ä»¶ä¼šåœ¨å¿…è¦çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºã€‚
        ä½¿ç”¨SQLiteä¹‹å¤–çš„æ•°æ®åº“:
            è¯·ç¡®ä¿ä½ ä½¿ç”¨Djangoå‰å·²ç»åˆ›å»ºäº†æ•°æ®åº“!!
            ç„¶åç¼–è¾‘ settings.py ä¸‹çš„ Engineã€Nameã€USERã€Passwordã€Hostã€Port. 
                Engineå­—æ®µ å‚è€ƒä¸‹é¢çš„å€¼; å…¶ä»–å¡«ä½ è‡ªå·±çš„æ•°æ®åº“ä¿¡æ¯. æˆ‘ä¼šç»™å‡ºä¸€ä¸ªmysqlçš„é…ç½®ä¾‹å­.
            
            æ³¨: Engine æ˜¯æ•°æ®åº“é©±åŠ¨. ä¸åŒçš„æ•°æ®åº“ç”¨ä¸åŒçš„å­—æ®µ. 
                django.db.backends.postgresql  # PostgreSQL  
                django.db.backends.mysql       # mysql  
                django.db.backends.sqlite3     # sqlite  
                django.db.backends.oracle      # oracle 

            â¦¿ é»˜è®¤é…ç½®(sqlite)

                    DATABASES = {
                        'default': {
                            'ENGINE': 'django.db.backends.sqlite3',
                            'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
                        }
                    }

            â¦¿ mysql é…ç½®å‚è€ƒ

                    DATABASES = {
                        'default': {
                            'ENGINE': 'django.db.backends.mysql',
                            'NAME': 'Django',
                            'USER': 'root',
                            'PASSWORD': 'xxxxxxxxxxxx',
                            'HOST': '127.0.0.1',
                            'PORT': '3306',
                        }
                    }




    ğŸ”¸ é…ç½®æ¨¡å—: settings.py > INSTALLED_APPS

        ğŸ‘â€ğŸ—¨ Djangoçš„æ¨¡å—æ˜¯å¯æ’æ‹”çš„(å¯å¯ç”¨ä¹Ÿå¯ç¦ç”¨)ã€‚
            å¯ç”¨æ¨¡å—. åœ¨INSTALLED_APPS ä¸­æ·»åŠ  æ¨¡å—åå°±å¯ä»¥
            å¼ƒç”¨æ¨¡å—. åœ¨INSTALLED_APPS ä¸­åˆ é™¤ æ¨¡å—åå°±å¯ä»¥

        â—ï¸â—ï¸ æ‰€æœ‰é¡¹ç›®ç”¨åˆ°çš„æ¨¡å—å¿…é¡»åœ¨ INSTALLED_APPS é‡Œæ·»åŠ æ¨¡å—å. â—ï¸â—ï¸

        æ–°å»ºé¡¹ç›®é»˜è®¤åŒ…å«6ä¸ªåº”ç”¨.ä»¥æ–¹ä¾¿å¼€å‘è€…ä½¿ç”¨ã€‚
        å¦‚æœä½ å®‰è£…äº†æˆ–è€…æ–°å»ºäº†ä¸€ä¸ªæ¨¡å—, é‚£ä¹ˆå¿…é¡»åœ¨ INSTALLED_APPS ä¸­æ·»åŠ æ–°æ¨¡å—å. 
        æ¯”å¦‚ç”¨ python manage.py startapp article æ–°å»ºäº†articleæ¨¡å—, 
        å°±å¿…é¡»åœ¨ INSTALLED_APPS æ·»åŠ  'article' ; æ³¨æ„é€—å·. 

            INSTALLED_APPS = [
                'django.contrib.admin',        é»˜è®¤âœ  ç®¡ç†ç«™ç‚¹ï¼Œä½ èƒ½ç«‹å³ä½¿ç”¨ä¸Š
                'django.contrib.auth',         é»˜è®¤âœ  è®¤è¯ç³»ç»Ÿ
                'django.contrib.contenttypes', é»˜è®¤âœ  å†…å®¹ç±»å‹çš„æ¡†æ¶
                'django.contrib.sessions',     é»˜è®¤âœ  sessionæ¡†æ¶
                'django.contrib.messages',     é»˜è®¤âœ  messagingæ¡†æ¶
                'django.contrib.staticfiles',  é»˜è®¤âœ  é™æ€æ–‡ä»¶ç®¡ç†

                'article'                      æ–°å¢âœ 
                ]




    ğŸ”¸ æ•°æ®åº“è¡¨åˆ›å»º migrate

        Django æ˜¯åç«¯,è‚¯å®šéœ€è¦å¤„ç†æ•°æ®. å½“ç„¶å°±éœ€è¦ç”¨åˆ°æ•°æ®åº“.
        Django è‡ªå¸¦çš„æ¨¡å—ä¹Ÿéœ€è¦é…åˆæ•°æ®åº“æ‰èƒ½ä½¿ç”¨.

        æ¯”å¦‚ Django åå°éœ€è¦æœ‰å¸å·æ‰èƒ½ç™»å½•adminç®¡ç†é¡µé¢. 
        é‚£å°±éœ€è¦æ–°å»ºç®¡ç†å‘˜è´¦æˆ·, è´¦æˆ·ä¿¡æ¯å½“ç„¶æ˜¯ä¿å­˜åœ¨æ•°æ®åº“ä¸­çš„æŸä¸ªè¡¨é‡Œé¢äº†!
        æ‰€ä»¥è¦å…ˆé…ç½®æ•°æ®åº“åæ‰èƒ½ä½¿ç”¨Django.
        æˆ‘ä»¬é€‰æ‹©MySQLæ•°æ®åº“æ¥å‚¨å­˜æˆ‘ä»¬çš„Djangoèµ„æ–™.
        å…ˆå»mysqlé‡Œåˆ›å»ºäº†ä¸€ä¸ªå«Djangoçš„æ•°æ®åº“. 
        ç„¶åè¿˜éœ€è¦åœ¨Djangoæ•°æ®åº“é‡Œåˆ›å»ºä¸€ä¸ªæ•°æ®åº“è¡¨åæ‰èƒ½å‚¨å­˜æ•°æ®.

        â¦¿ åˆ›å»ºæ•°æ®è¡¨ python manage.py migrate

            migrateå‘½ä»¤ä¼šæŸ¥çœ‹INSTALLED_APPSçš„æ¨¡å—ï¼Œ
            ç„¶åæ ¹æ® settings.pyæ–‡ä»¶ä¸­çš„æ•°æ®åº“è®¾ç½®æ¥åˆ›å»ºå¯¹åº”çš„æ•°æ®åº“è¡¨ã€‚

        â¦¿ å¸è½½æ¨¡å—
            å…ˆä»INSTALLED_APPSä¸­ åˆ æ‰å¯¹åº”æ¨¡å—, 
                ç„¶åå†ç”¨ python manage.py migrate é‡æ–°ç”Ÿæˆæ•°æ®åº“è¡¨
                    migrateå‘½ä»¤åªä¼šåˆ›å»º INSTALLED_APPSä¸­çš„æ¨¡å—éœ€è¦çš„æ•°æ®è¡¨.


    ğŸ”¸ æ•°æ®åº“è¡¨è¿ç§» makemigrations
        python manage.py makemigrations appName
        é€šè¿‡è¿è¡Œmakemigrationsï¼Œä½ å¯ä»¥å‘Šè¯‰Djangoä½ å·²ç»å¯¹ä½ çš„modelåšå‡ºäº†ä¸€äº›æ”¹å˜ï¼Œå¹¶ä¸”ä½ å¸Œæœ›è¿™äº›æ”¹å˜å¯ä»¥ä½œä¸ºmigrationå­˜å‚¨èµ·æ¥ã€‚

        migration è¿ç§»çš„æ„æ€

        â—ï¸â—ï¸â—ï¸ Djangoé€šè¿‡Migrationæ¥å­˜å‚¨ä½ çš„æ¨¡å‹ï¼ˆä¹Ÿå³æ˜¯æ•°æ®åº“å¯¹è±¡ï¼‰çš„å˜åŒ–ã€‚
        â—ï¸â—ï¸â—ï¸ Djangoé€šè¿‡Migrationæ¥å­˜å‚¨ä½ çš„æ¨¡å‹ï¼ˆä¹Ÿå³æ˜¯æ•°æ®åº“å¯¹è±¡ï¼‰çš„å˜åŒ–ã€‚
        â—ï¸â—ï¸â—ï¸ Djangoé€šè¿‡Migrationæ¥å­˜å‚¨ä½ çš„æ¨¡å‹ï¼ˆä¹Ÿå³æ˜¯æ•°æ®åº“å¯¹è±¡ï¼‰çš„å˜åŒ–ã€‚



    ğŸ”¸ Django API

        Djangoæä¾›çš„å…è´¹API, è®©æˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤æ¥å’ŒDjango äº¤äº’.
        
        â¦¿ è¿›å…¥äº¤äº’ç•Œé¢:     python manage.py shell



    ğŸ”¸ Django Adminä»‹ç»

        Djangoç®¡ç†ç«™ç‚¹å¯ä»¥è®©ä½ ç®€å•çš„æ·»åŠ ï¼Œæ›´æ”¹ï¼Œåˆ é™¤ç½‘é¡µå†…å®¹.
        è¿™ä¸ªç®¡ç†ç«™ç‚¹åªèƒ½æœ‰ç½‘ç«™ç®¡ç†å‘˜ç™»å½•.

        â¦¿ åˆ›å»ºç®¡ç†å‘˜

            é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ¥ç™»å½•ç®¡ç†ç«™ç‚¹ã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š
            python manage.py createsuperuser
            è¾“å…¥ä½ æƒ³è¦çš„ç”¨æˆ·å
            Username: admin
            è¾“å…¥é‚®ç®±åœ°å€
            Email address: admin@example.com
            æœ€åè¾“å…¥ä½ çš„å¯†ç ä¸¤æ¬¡ã€‚
            Password: **********
            Password (again): *********
            Superuser created successfully.


    ğŸ”¸ å¼€å‘æœåŠ¡å™¨

        æƒ³çœ‹çœ‹ä½ çš„ç½‘ç«™æ•ˆæœ. ç”¨è‡ªå¸¦çš„å¼€å‘æœåŠ¡å™¨æœ€ç®€å•äº†.
        å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ webæœåŠ¡å™¨å¦‚: apacheã€nginx....

        â¦¿ å¯åŠ¨å¼€å‘æœåŠ¡å™¨:   python manage.py runserver
        â¦¿ æŸ¥çœ‹ç½‘ç«™åå°æ•ˆæœ: æµè§ˆå™¨ > http://127.0.0.1:8000/admin/




    ğŸ”¸ åˆ›å»ºé¡µé¢:  new page/sub page âœ Next âœ 

    ğŸ”¸ å‘å¸ƒé¡µé¢:  åˆ›å»º ä¸ç­‰äº å‘å¸ƒ,  è¦å‘å¸ƒå¾—ç‚¹å‡» publish

    ğŸ”¸ ä¿®æ”¹é¡µé¢:  page âœ page setting âœ 

    ğŸ”¸ structure/content æ¨¡å¼
        ä¸¤ç§æ˜¾ç¤ºæ¨¡å¼. éƒ½å¯ä»¥å¯¹ç½‘é¡µè¿›è¡Œä¿®æ”¹. 
        content æ¨¡å¼ä¿®æ”¹èƒ½åŠ›æœ‰é™,ä¸€èˆ¬ç”¨æ¥çœ‹ä¿®æ”¹åçš„æ•ˆæœ
        structure æ¨¡å¼ æ‰æ˜¯çœŸæ­£çš„ä¿®æ”¹æ¨¡å¼..è¯¥æ¨¡å¼ä¸‹å¯ä»¥æ·»åŠ æ’ä»¶.

        âœš âœ é€‰æ‹©text âœ è¾“å…¥ ... å°±å¤šäº†...



    ğŸ”¸ example.com

        pages: è¿›å…¥é¡µé¢ç¼–è¾‘ä¸­å¿ƒ.

        disable toolbar: å…³é—­åæ€ä¹ˆæ¢å¤.
            åŒä¸€ä¸ªç½‘é¡µ.
            å¸¦toolbarçš„ç½‘å€:  http://23.105.192.96:8000/en/?edit 
            æ— toolbarçš„ç½‘å€:  http://23.105.192.96:8000/en/?toolbar_off

            æ‰€ä»¥åªè¦ä¿®æ”¹æµè§ˆå™¨ç½‘å€ å°±å¯ä»¥åˆ‡æ¢æœ‰æ— toolbaräº†.


    ğŸ”¸ page list
        åˆ—å‡ºé¡µé¢ç»“æ„.
        è¿™é‡Œå¯ä»¥ç¼–è¾‘åˆ é™¤ ç­‰ç­‰æ“ä½œ.


    ğŸ”¸ é¡¹ç›®é™æ€æ–‡ä»¶.
        cssã€imgã€jsã€vendor



    ğŸ”¸ ä¸­æ–‡ä¹±ç é—®é¢˜
        åœ¨.pyæ–‡ä»¶çš„é¡¶éƒ¨æ·»åŠ ä»¥ä¸‹ä»£ç 
        # -*- coding: utf-8 -*-




ğŸ”µ INSTALLED_APPS

    'cms'ï¼ŒDjango CMSæœ¬èº«ï¼›

    'mptt'ï¼Œå®ç°ä¿®æ­£é¢„æ’åºéå†æ ‘çš„å®ç”¨å·¥å…·ï¼›

    'menus'ï¼Œæ¨¡å‹ç‹¬ç«‹å±‚æ¬¡çš„ç½‘ç«™å¯¼èˆªåŠ©æ‰‹ï¼›

    'south'ï¼Œæ™ºèƒ½æ¶æ„å’Œæ•°æ®è¿ç§»ï¼›

    'sekizai'ï¼Œç®¡ç†javascriptå’Œcssã€‚









ğŸ”µ Django-cms 

    Django-cms å®˜ç½‘:  https://www.django-cms.org/en/

    â—ï¸â—ï¸â—ï¸å®˜æ–¹æœ€æ–°ç‰ˆæ•™ç¨‹(EN): http://docs.django-cms.org/en/latest/introduction/install.html


    â—ï¸â—ï¸â—ï¸ Django-cms æ”¯æŒåŠŸèƒ½: https://www.django-cms.org/en/features/list/

    â¦¿ content âœ åŒå‡»æ–‡æœ¬åŒºåŸŸå¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡ç« .

    â¦¿ CMS Plugins æ’ä»¶é€‰æ‹©.. ä¸åŒçš„æ’ä»¶æœ‰ä¸åŒçš„åŠŸèƒ½.


    æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹æ’ä»¶!!! æ¥å®ç°é¢å¤–åŠŸèƒ½.
    æ¯”å¦‚SSL è¯ä¹¦ã€LDAP ç™»å½•éªŒè¯ã€session ç®¡ç†ã€æ‹¼å†™æ£€æŸ¥ã€æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€æ–‡æœ¬æœç´¢ã€SASSæ”¯æŒã€
    æ ‡ç­¾ã€æ ‡ç­¾äº‘ã€è¯„è®ºã€....




ğŸ”µ Django ç®€ä»‹&å®‰è£…

    ğŸ”¸ Django å®‰è£…(Centos6)
        å…ˆå®‰è£…python 2.7+ ;åœ¨å®‰è£…Django: pip install django==1.11.1
        
    ğŸ”¸ Django å®‰è£…(Mac OS)

        â¦¿ Python ç‰ˆæœ¬ 
            Diango æ˜¯åŸºäºPythonçš„. æ‰€ä»¥å¿…é¡»å…ˆå®‰è£…Python; Mac è‡ªå¸¦Python 2.7 

        â¦¿ Diango ç‰ˆæœ¬
            æœ‰å¾ˆå¤šç‰ˆæœ¬. é€‰æ‹©é•¿æœŸæ”¯æŒçš„ç‰ˆæœ¬å¦‚: 1.11  æœ€æ–°ç‰ˆæœ¬æ˜¯1.11.1  æˆ‘ä»¬å°±ä¸‹è¿™ä¸ª.

            github å®˜ç½‘:  https://github.com/django/django/releases
            branch âœ tag: 1.11.1  âœ download zip  âœ  ç„¶åè§£å‹
            ğŸ”… cd diango 
            ğŸ”… sudo python setup.py install

                ğŸ‘¹ å¦‚æœæŠ¥é”™. å¯èƒ½ä»¥åŠå®‰è£…è¿‡diango.å¿…é¡»å…ˆåˆ é™¤æ—§ç‰ˆæœ¬ç„¶åé‡è£…
                rm -R /usr/local/Cellar/python/2.7.12/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/django

        â¦¿ å®‰è£…æµ‹è¯•
            åªè¦ä¸Šé¢å®‰è£…ä¸æŠ¥é”™.åŸºæœ¬å°±æ˜¯å®‰è£…æˆåŠŸçš„.
            å®‰è£…å¥½å°±å¯ä»¥åœ¨ç»ˆç«¯ç”¨ django-admin.py è¿™ä¸ªå‘½ä»¤äº†






ğŸ”µ  DjangoCMS ç¯å¢ƒæ­å»º:


    ğŸ”¸ Django-cms è™šæ‹Ÿç¯å¢ƒæ­å»ºå®ä¾‹

        â¦¿ ç›®çš„:  åœ¨MAC æ¡Œé¢ åˆ›å»ºä¸€ä¸ªåå« mycms çš„django-cms é¡¹ç›®.

        ğŸ”… cd åˆ°æ¡Œé¢
        ğŸ”… virtualenv djcmsenv && source djcmsenv/bin/activate              
            åˆ›å»º djcmsenv çš„è™šæ‹Ÿç¯å¢ƒå¹¶è¿›å…¥. ä½ ä¼šå‘ç°å‰ç¼€æœ‰å˜åŒ–

        ğŸ”… pip install --upgrade pip         æ›´æ–°pip. ç¡®ä¿pipæ˜¯æœ€æ–°ç‰ˆæœ¬
        ğŸ”… pip install djangocms-installer   è‡ªåŠ¨å®‰è£…æ‰€æœ‰djangocmséœ€è¦çš„ä¾èµ–!!
        ğŸ”… deactivate && source djcmsenv/bin/activate  â—ï¸â—ï¸â—ï¸å¿…é¡»é‡å¯è™šæ‹Ÿç¯å¢ƒ

        ğŸ”… djangocms mycms && cd mycms        ç”¨djangocmsåˆ›å»ºåä¸ºmycmsçš„é¡¹ç›®
            â¦¿ é…ç½®PostgreSQLæ•°æ®åº“(å¯é€‰)
                â¦¿ å®‰è£…postgresql Pythonæ¨¡å—: pip install psycopg2
                â¦¿ é…ç½® settings.py
                â¦¿ .... 

            â¦¿ åˆ›å»ºåå°è´¦æˆ·:                   python manage.py createsuperuser
            â¦¿ è¿è¡Œå¼€å‘æœåŠ¡å™¨:                 python manage.py runserver
            â¦¿ å®‰è£…æ’ä»¶

        ğŸ”… deactivate                        é€€å‡ºè™šæ‹Ÿç¯å¢ƒ.
        ğŸ”… rm -rf djcmsenv                   åˆ é™¤è™šæ‹Ÿç¯å¢ƒï¼Œåªéœ€åˆ é™¤å®ƒçš„æ–‡ä»¶å¤¹.





ğŸ”¸ PostgreSQL æ•°æ®åº“é…ç½® âœ”ï¸

    â¦¿ æ–°å»º PostgreSQL æ•°æ®åº“
        æ•°æ®åº“å: DjangoCMS
        ç¼–ç : UTF8


    â¦¿ å®‰è£…   pip install psycopg2

    â¦¿ settings.py é…ç½®æ•°æ®åº“

        DATABASES = {
            'default': {
                'CONN_MAX_AGE': 0,
                'ENGINE': 'django.db.backends.postgresql_psycopg2',
                'HOST': '127.0.0.1',
                'NAME': 'DjangoCMS',
                'PASSWORD': 'xxxxx',
                'PORT': '5432',
                'USER': 'postgres',
            }
        }


    â¦¿ åˆ›å»ºæ•°æ®è¡¨
    python manage.py migrate

    â¦¿ åˆ›å»ºåå°ç™»å½•ç”¨æˆ·
    python manage.py createsuperuser




â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ğŸ”µ PostgreSQL ç‰ˆæœ¬å‡çº§

    ç‰ˆæœ¬å‡çº§:
        æ•°æ®åº“é‡Œå¦‚æœæœ‰æ•°æ®éº»çƒ¦ç‚¹. æ²¡æ•°æ®å…ˆå¸è½½å†å®‰è£…å°±å¯ä»¥äº†.æˆ‘ä»¬é€‰æ‹©å¸è½½å†é‡è£…
        å®˜ç½‘:  https://www.postgresql.org/download/

ğŸ”¸ Mac 

    â¦¿ å¸è½½
        1ã€ä¸€èˆ¬æ˜¯ä½¿ç”¨installerå›¾å½¢ç•Œé¢æ–¹å¼å®‰è£…çš„ã€‚(è‡ªå¸¦å›¾å½¢ç•Œé¢å¸è½½ç¨‹åºçš„)

            ğŸ‘â€ğŸ—¨ å¦‚æœæ˜¯postgresql.appçš„å½¢å¼ï¼Œè¿™ä¸ªç®€å•ï¼Œè·Ÿå…¶ä»–appä¸€æ ·ï¼Œåˆ é™¤appå³å¯ã€‚

        2. open /Library/PostgreSQL/9.6/uninstall-postgresql.app
            è¿™ä¸ªå°±æ˜¯æ‰“å¼€å¸è½½ç¨‹åºçš„æ–¹æ³•.  9.6 æ›´å…·ä½ è‡ªå·±çš„ç‰ˆæœ¬ä¿®æ”¹

        3. ç­‰å¾…ä¸Šä¸€æ­¥æ‰§è¡Œå®Œæˆåï¼Œåˆ é™¤postgresqlæ–‡ä»¶å¤¹       
            sudo rm -rf /Library/PostgreSQL

        4. åˆ é™¤é…ç½®æ–‡ä»¶
            sudo rm /etc/postgres-reg.ini

        5. sudo rm /usr/local/bin/postgres

        6. åœ¨ç”¨æˆ·ç®¡ç†ä¸­åˆ é™¤postgresqlçš„ç”¨æˆ·ï¼Œ ç³»ç»Ÿåå¥½è®¾ç½®ï¼ï¼ã€‹ç”¨æˆ·åŠç”¨æˆ·ç»„ã€‚


    â¦¿ å®‰è£… 

    ä¸‹è½½é“¾æ¥1:
    https://www.enterprisedb.com/downloads/postgres-postgresql-downloads#macosx

    ä¸‹è½½é“¾æ¥2:   https://www.bigsql.org/postgresql/installers.jsp/


    â¦¿ ç¯å¢ƒè·¯å¾„è®¾ç½®
        Mac ç‰ˆæœ¬æŸ¥çœ‹å¾ˆç‰¹åˆ«. ç”¨ç³»ç»Ÿç»ˆç«¯ postgres -V æŸ¥å‡ºæ¥çš„ç‰ˆæœ¬ä¸å‡†.
        type postgres å‡ºæ¥çš„å¯èƒ½æ˜¯ /usr/local/bin/postgres

        éœ€è¦è®¾ç½® æˆ‘ç”¨çš„zsh å°±åœ¨ä¿®æ”¹ .zshrc æ–‡ä»¶æ·»åŠ ä¸‹é¢è¿™è¡Œ
        ç›®çš„å°±æ˜¯æŠŠ postgres å®‰è£…çš„è·¯å¾„åŠ è¿›å»!
        export PATH=/Library/PostgreSQL/9.6/bin:$PATH
        ç„¶åé‡å¯zsh. ç°åœ¨ç”¨ postgres -V å°±å‡ºæ¥9.6.3 äº†.
        âœ˜âœ˜âˆ™ğ’— Desktop type postgres
        postgres is /Library/PostgreSQL/9.6/bin/postgres



ğŸ”µ Postgresql ä½¿ç”¨

å®‰è£…å¥½å. é»˜è®¤ç”Ÿæˆä¸€ä¸ª å«postgres çš„æ•°æ®åº“ å’Œä¸€ä¸ªå«postgresçš„æ•°æ®åº“ç”¨æˆ·.
åŒæ—¶è¿˜åœ¨ç³»ç»Ÿé‡Œ ç”Ÿæˆäº†ä¸€ä¸ªå« postgres çš„Linuxç³»ç»Ÿç”¨æˆ·

æ‰€æœ‰çš„æ“ä½œ éƒ½è¦åœ¨ postgres è¿™ä¸ªç”¨æˆ·ä¸‹è¿›è¡Œ!!! 

è¦åœ¨ postgres é‡Œé¢æ·»åŠ æ–°ç”¨æˆ·å°±è¦åœ¨ç³»ç»Ÿé‡Œé¢æ·»åŠ æ–°ç”¨æˆ·ç„¶åå†è®¾ç½®.

æ¯”å¦‚æˆ‘è¦æ–°å¢ä¸€ä¸ªå« syncUser ç”¨æˆ·.

sudo useradd syncUser  åˆ›å»ºç³»ç»Ÿç”¨æˆ·.
su postgres     åˆ‡æ¢åˆ° postgres ç”¨æˆ·
whoami          æŸ¥çœ‹å½“å‰ç”¨æˆ·å æ˜¾ç¤ºçš„æ˜¯ postgres; ç”¨ su root åˆ‡æ¢å› root ç”¨æˆ·
psql            è¿›å…¥ PostgreSQL çš„å‘½ä»¤æ§åˆ¶å° ç³»ç»Ÿæç¤ºç¬¦ä¼šå˜ä¸º"postgres=#"
\password postgres   ä½¿ç”¨\passwordå‘½ä»¤ï¼Œä¸ºpostgresç”¨æˆ·è®¾ç½®ä¸€ä¸ªå¯†ç ã€‚

CREATE USER syncUser WITH PASSWORD 'syncUser';
åˆ›å»ºå« syncUserçš„æ•°æ®åº“ç”¨æˆ·, å¹¶è®¾ç½®å¥½å¯†ç .
æ³¨æ„ä¹‹å‰åˆ›å»ºçš„æ˜¯linuxç³»ç»Ÿç”¨æˆ·. ç°åœ¨åˆ›å»ºçš„æ˜¯æ•°æ®åº“ç”¨æˆ·..

CREATE DATABASE exampledb OWNER syncUser;
åˆ›å»ºåä¸º exampledb çš„æ•°æ®åº“. æ‹¥æœ‰è€…æ˜¯syncUser 


GRANT ALL PRIVILEGES ON DATABASE exampledb to syncUser;
æ•°æ®åº“çš„æ‰€æœ‰æƒé™éƒ½èµ‹äºˆdbuserï¼Œå¦åˆ™dbuseråªèƒ½ç™»å½•æ§åˆ¶å°ï¼Œæ²¡æœ‰ä»»ä½•æ•°æ®åº“æ“ä½œæƒé™ã€‚


æœ€åï¼Œä½¿ç”¨\qå‘½ä»¤é€€å‡ºæ§åˆ¶å°ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥æŒ‰ctrl+Dï¼‰ã€‚




    â¦¿ åˆå§‹åŒ–æ•°æ®åº“

        é»˜è®¤æ˜¯æ•°æ®åº“æ•°æ®å­˜æ”¾ä½ç½®åœ¨ /var/lib/pgsql/9.6/dataä¸‹é¢.
        æˆ‘ä»¬ä¸“é—¨å¦å¤–å»ºä¸ªæ–‡ä»¶å¤¹æ¥å­˜æ”¾æ•°æ®.
        mkdir -p /opt/pgsql/data

        èµ‹äºˆpostgresç”¨æˆ·è¯¥ç›®å½•çš„æƒé™ï¼š
        chown postgres /opt/pgsql/data

        åˆ‡æ¢åˆ°postgresç”¨æˆ·ï¼š
        su postgres

        æ‰§è¡Œåˆå§‹åŒ–ï¼š
        initdb -D /opt/pgsql/data
            -D æŒ‡å®šæ•°æ®åº“æ–‡ä»¶å­˜æ”¾ç›®å½•ï¼Œ
            å¦‚æœä¸æŒ‡å®šåˆ™é»˜è®¤åœ¨/var/lib/pgsql/9.6/dataä¸‹


    â¦¿ å¯åŠ¨æœåŠ¡


        1.åˆ‡æ¢åˆ°postgresç”¨æˆ·
        su postgres
        è¿™ä¸ªæ­¥éª¤åŒæ ·å¿…é¡»ä»¥PostgreSQLç”¨æˆ·å¸æˆ·ç™»å½•æ¥åšã€‚
        éœ€è¦è¾“å…¥å¯†ç .
        å¿˜è®°å¯†ç çš„è¯... é‡ç½®å¯†ç  
        ç”¨root   passwd postgres  å°±å¯ä»¥é‡ç½®äº†.


        2.å¯åŠ¨æœåŠ¡
        æ²¡æœ‰-Dé€‰é¡¹ï¼ŒæœåŠ¡å™¨å°†ä½¿ç”¨ç¯å¢ƒå˜é‡PGDATAå‘½åçš„ç›®å½•ï¼› 
        å¦‚æœè¿™ä¸ªç¯å¢ƒå˜é‡ä¹Ÿæ²¡æœ‰ï¼Œå°†å¯¼è‡´å¤±è´¥ã€‚
        é€šå¸¸ï¼Œæœ€å¥½åœ¨åå°å¯åŠ¨postgresï¼Œä½¿ç”¨ä¸‹é¢çš„ Unix shell è¯­æ³•ï¼š

        pg_ctl -D /opt/pgsql/data/ -l logfile start

        3.è®¾ç½®å¼€æœºè‡ªåŠ¨å¯åŠ¨
        åœ¨Linuxç³»ç»Ÿé‡Œï¼Œè¦ä¹ˆå¾€/etc/rc.d/rc.localæˆ– /etc/rc.localæ–‡ä»¶é‡ŒåŠ ä¸Šä¸‹é¢å‡ è¡Œï¼š

        /usr/local/pgsql/bin/pg_ctl start -l logfile -D /usr/local/pgsql/data



    â¦¿ é‡å¯æœåŠ¡

        sudo /etc/init.d/postgresql-9.6 stop && /etc/init.d/postgresql-9.6 start

        sudo service postgresql-9.6 stop && service postgresql-9.6 start





    â¦¿ è‡ªåŠ¨å¯åŠ¨
        service postgresql-9.6 start
        chkconfig postgresql-9.6 on













    â¦¿ åˆ›å»ºç”¨æˆ·
        su postgres   åˆ‡æ¢åˆ° postgres ç”¨æˆ·.è¿›è¡Œæ“ä½œ
        psql     è¿›å…¥æ§åˆ¶å°
        CREATE USER root WITH PASSWORD 'root';
        æ•°æ®åº“ä¸­åŠ å®Œ root åå°±å¯ä»¥åœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œpostsqlçš„æ“ä½œäº†.
        å°±ä¸éœ€è¦åœ¨åˆ‡æ¢åˆ°postgresç”¨æˆ·ä¸‹æ“ä½œäº†.
        
        rootç”¨æˆ·ä¸‹ ç›´æ¥ 
        psql + æ•°æ®åº“å å°±å¯ä»¥è¿›å…¥postgresqlçš„å‘½ä»¤è¡Œäº†
        å¦‚: psql postgres å°±è¿›å»äº†.

    






    ğŸ”¸ æ•°æ®åº“æ“ä½œ
        \?ï¼šæŸ¥çœ‹psqlå‘½ä»¤åˆ—è¡¨ã€‚

        \duï¼šåˆ—å‡ºæ‰€æœ‰ç”¨æˆ·ã€‚

        \lï¼šåˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ã€‚
        \dï¼šåˆ—å‡ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨æ ¼ã€‚

        \c [database_name]ï¼šè¿æ¥å…¶ä»–æ•°æ®åº“ã€‚
        \d [table_name]ï¼šåˆ—å‡ºæŸä¸€å¼ è¡¨æ ¼çš„ç»“æ„ã€‚


        \eï¼šæ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨ã€‚
        \conninfoï¼šåˆ—å‡ºå½“å‰æ•°æ®åº“å’Œè¿æ¥çš„ä¿¡æ¯ã€‚



        åŸºæœ¬çš„æ•°æ®åº“æ“ä½œï¼Œå°±æ˜¯ä½¿ç”¨ä¸€èˆ¬çš„SQLè¯­è¨€ã€‚
        # åˆ›å»ºæ–°è¡¨ 
        CREATE TABLE user_tbl(name VARCHAR(20), signup_date DATE);
        # æ’å…¥æ•°æ® 
        INSERT INTO user_tbl(name, signup_date) VALUES('å¼ ä¸‰', '2013-12-22');
        # é€‰æ‹©è®°å½• 
        SELECT * FROM user_tbl;
        # æ›´æ–°æ•°æ® 
        UPDATE user_tbl set name = 'æå››' WHERE name = 'å¼ ä¸‰';
        # åˆ é™¤è®°å½• 
        DELETE FROM user_tbl WHERE name = 'æå››' ;
        # æ·»åŠ æ ä½ 
        ALTER TABLE user_tbl ADD email VARCHAR(40);
        # æ›´æ–°ç»“æ„ 
        ALTER TABLE user_tbl ALTER COLUMN signup_date SET NOT NULL;
        # æ›´åæ ä½ 
        ALTER TABLE user_tbl RENAME COLUMN signup_date TO signup;
        # åˆ é™¤æ ä½ 
        ALTER TABLE user_tbl DROP COLUMN email;
        # è¡¨æ ¼æ›´å 
        ALTER TABLE user_tbl RENAME TO backup_tbl;
        # åˆ é™¤è¡¨æ ¼ 
        DROP TABLE IF EXISTS backup_tbl;










â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ä¸»ä»è®¾ç½®. å¯ä»¥çœ‹æˆä¸€ç§å¤‡ä»½. æœ¬åœ°æ²¡äº† æœåŠ¡å™¨ä¸Šæ•°æ®è¿˜åœ¨.
ä¸»ä»çš„æ•°æ®åº“ç‰ˆæœ¬æœ€å¥½ä¸€è‡´!!  æˆ‘ä»¬éƒ½æ˜¯ 9.6.3 
http://www.jianshu.com/p/2d07339774c0

Postgresql ä¸»ä»é…ç½®   Mac æœ¬åœ°ä¸ºä¸».  vps ä¸ºä»...

Mac æ˜¯å†…ç½‘IP, VPS æ˜¯å…¬ç½‘IP.
æ‰€ä»¥å¿…é¡»å…ˆç»™ Mac é…ç½®ä¸ªå¤–ç½‘ç«¯å£æ‰è¡Œ. è¿˜æ˜¯ç”¨ frp..
æŠŠ23.105.192.96:2345 è½¬åˆ°Macçš„ 5432ç«¯å£æ¥.

ğŸ”¸ FRP è®¾ç½®

    1. vpsæœåŠ¡å™¨å¯åŠ¨frps  nohup /root/frp/frps -c /root/frp/frps.ini &
    2. macæœ¬åœ°å¯åŠ¨frpc    nohup ./frpc -c ./frpc.ini &
    3. frp ç½‘é¡µæ§åˆ¶å°     http://www.0214.help:5500/

    4. æœåŠ¡å™¨é…ç½®frps.ini
        [postgresql]
        auth_token = 123
        listen_port = 2345

    5. å®¢æˆ·ç«¯é…ç½®frpc.ini
        [postgresql]
        auth_token = 123
        local_port = 5432

    6. é‡å¯ æœåŠ¡å™¨ frps:   
        âœ  pidof frps  
        âœ  kill xxx  
        âœ  nohup /root/frp/frps -c /root/frp/frps.ini &

    7. é‡å¯ å®¢æˆ·ç«¯ frpc:   
        âœ  pidof frpc  
        âœ  kill xxx 
        âœ  /Users/v/Desktop/frp/frpc -c /Users/v/Desktop/frp/frpc.ini &


    8. æµ‹è¯•
        ç”¨navicate æ¥æµ‹è¯•.
        æ–°å»ºpostgresqlçš„è¿æ¥.
        ip: 23.105.192.96
        ç«¯å£: 2345 
        username Macçš„æ•°æ®åº“ç”¨æˆ·
        password macçš„æ•°æ®åº“å¯†ç 

        ç„¶åæµ‹è¯•, èƒ½è¿ä¸Šå» è¯´æ˜frpé…ç½®æ˜¯æ²¡é—®é¢˜çš„!
        å…¶å®è¿æ¥æˆåŠŸåå» frp ç½‘é¡µæ§åˆ¶å° ä¼šçœ‹åˆ° 
        å«postgresqlçš„æœåŠ¡. æœ‰æµé‡çš„. è¯´æ˜æ­£åœ¨å·¥ä½œ



ğŸ”¸ Mac ä¸»æœåŠ¡å™¨è®¾ç½®

    â¦¿ è¿›å…¥ postgresql å‘½ä»¤è¡Œ
        psql -U postgres
        è¾“å…¥å¯†ç å°±è¿›å»äº†


    â¦¿ ç»ˆç«¯åˆ‡æ¢ç”¨æˆ·
        su PostgreSQL
            è¿™é‡Œç”¨æˆ·åè‡ªå·±å»ç³»ç»Ÿè®¾ç½® ä¸‹çš„ç”¨æˆ·é‡Œé¢çœ‹

    â¦¿ æœåŠ¡å‘½ä»¤
        å¿…é¡»è¿›å…¥ postgres ç”¨æˆ·ä¸‹æ“ä½œ 
        /Library/PostgreSQL/9.6/bin/pg_ctl restart -D /Library/PostgreSQL/9.6/data

        /Library/PostgreSQL/9.6/bin/pg_ctl stop -D /Library/PostgreSQL/9.6/data

    â¦¿ æ·»åŠ ç”¨æˆ· (Navicast) 


    â¦¿ é…ç½® pg_hba.confï¼Œ æ¥å…è®¸ç”¨æˆ·æ¥åŒæ­¥

        su postgres     åˆ‡æ¢ç”¨æˆ· éœ€è¦è¾“å…¥ postgresç”¨æˆ·çš„å¯†ç .ä¸æ˜¯rootçš„å¯†ç 
        vi /Library/PostgreSQL/9.6/data/pg_hba.conf
        æ·»åŠ ä¸‹é¢è¡Œ
        host    replication     postgres        0.0.0.0/0         md5
        æ„æ€å°±æ˜¯å…è®¸vpsçš„ip ä¸Šçš„ postgres ç”¨æˆ· æ¥æœ¬æœºè¿›è¡ŒåŒæ­¥...


    â¦¿ é…ç½® postgresql.conf

        vi /Library/PostgreSQL/9.6/data/postgresql.conf

        listen_addresses = '*'   # ç›‘å¬æ‰€æœ‰IP
        archive_mode = on  # å…è®¸å½’æ¡£
        archive_command = 'cp %p /opt/pgsql/pg_archive/%f'  # ç”¨è¯¥å‘½ä»¤æ¥å½’æ¡£logfile segment
        wal_level = hot_standby 
        max_wal_senders = 32 # è¿™ä¸ªè®¾ç½®äº†å¯ä»¥æœ€å¤šæœ‰å‡ ä¸ªæµå¤åˆ¶è¿æ¥ï¼Œå·®ä¸å¤šæœ‰å‡ ä¸ªä»ï¼Œå°±è®¾ç½®å‡ ä¸ªwal_keep_segments = 256 ï¼ƒ è®¾ç½®æµå¤åˆ¶ä¿ç•™çš„æœ€å¤šçš„xlogæ•°ç›®
        wal_sender_timeout = 60s ï¼ƒ è®¾ç½®æµå¤åˆ¶ä¸»æœºå‘é€æ•°æ®çš„è¶…æ—¶æ—¶é—´
        max_connections = 100 # è¿™ä¸ªè®¾ç½®è¦æ³¨æ„ä¸‹ï¼Œä»åº“çš„max_connectionså¿…é¡»è¦å¤§äºä¸»åº“çš„


    â¦¿ æµ‹è¯•
        ç„¶åå» vps ä¸Šçœ‹çœ‹èƒ½ä¸èƒ½è¿ä¸Š macçš„æ•°æ®åº“.
        æœåŠ¡å™¨ç»ˆç«¯åˆ‡æ¢åˆ° postgres ç”¨æˆ·
        psql -h 192.168.20.93 -p 2345 -U postgres
        è¿™æ ·å°±è¿›å…¥ Mac çš„æ•°æ®åº“äº†!!!

        æŸ¥çœ‹ psql å‘½ä»¤ç”¨æ³•.
        psql --help

        -p æŒ‡å®šç«¯å£
        -h æŒ‡å®šä¸»æœºå
        -U æŒ‡å®šç”¨æˆ·å


ğŸ”¸ vps ä»æœåŠ¡å™¨é…ç½®

    â¦¿ åŸºç¡€å¤‡ä»½: å…ˆä¸»æœåŠ¡å™¨ æ‹·è´æ•°æ®åˆ°ä»æœåŠ¡å™¨.

        1. åˆ‡æ¢ç”¨æˆ·  su postgres

        2. æ¸…ç©ºä»æœåŠ¡å™¨çš„æ‰€æœ‰æ•°æ®  rm -rf /opt/pgsql/data/*

        3. å¤åˆ¶ä¸»æœåŠ¡å™¨çš„æ•°æ®
        pg_basebackup -h 23.105.192.96 -p 2345 -U postgres -D /opt/pgsql/data -X stream -P

        ç„¶åè¾“å…¥macçš„ postgres è´¦æˆ·çš„å¯†ç  å°±å¼€å§‹åŒæ­¥äº†!

        pg_basebackup --help
        -h ä¸»æœº
        -p ç«¯å£
        -U æ•°æ®åº“ç”¨æˆ·å
        -D æ•°æ®åº“èµ„æ–™æ–‡ä»¶å¤¹ ä¸æ˜¯æ•°æ®æ¥æºæ–‡ä»¶å¤¹. æ˜¯æ•°æ®å¤‡ä»½æ–‡ä»¶å¤¹
        -X æ•°æ®ä¼ è¾“æ–¹æ³•??
        -P æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯



â¦¿ å¤‡ä»½æ–¹æ³•2 

pg_basebackup -h 23.105.192.96 -p 2345 -U postgres -F p -x -P -R -D /opt/pgsql/data -l replbackup2017

cd /opt/pgsql/data && ls

ä¸‹é¢ç®€å•åšä¸€ä¸‹å‚æ•°è¯´æ˜ï¼ˆå¯ä»¥é€šè¿‡pg_basebackup --helpè¿›è¡ŒæŸ¥çœ‹ï¼‰ï¼Œ-hæŒ‡å®šè¿æ¥çš„æ•°æ®åº“çš„ä¸»æœºåæˆ–IPåœ°å€ï¼Œè¿™é‡Œå°±æ˜¯ä¸»åº“çš„ipã€‚-UæŒ‡å®šè¿æ¥çš„ç”¨æˆ·åï¼Œæ­¤å¤„æ˜¯æˆ‘ä»¬åˆšæ‰åˆ›å»ºçš„ä¸“é—¨è´Ÿè´£æµå¤åˆ¶çš„replç”¨æˆ·ã€‚-FæŒ‡å®šäº†è¾“å‡ºçš„æ ¼å¼ï¼Œæ”¯æŒpï¼ˆåŸæ ·è¾“å‡ºï¼‰æˆ–è€…tï¼ˆtaræ ¼å¼è¾“å‡ºï¼‰ã€‚-xè¡¨ç¤ºå¤‡ä»½å¼€å§‹åï¼Œå¯åŠ¨å¦ä¸€ä¸ªæµå¤åˆ¶è¿æ¥ä»ä¸»åº“æ¥æ”¶WALæ—¥å¿—ã€‚-Pè¡¨ç¤ºå…è®¸åœ¨å¤‡ä»½è¿‡ç¨‹ä¸­å®æ—¶çš„æ‰“å°å¤‡ä»½çš„è¿›åº¦ã€‚-Rè¡¨ç¤ºä¼šåœ¨å¤‡ä»½ç»“æŸåè‡ªåŠ¨ç”Ÿæˆrecovery.confæ–‡ä»¶ï¼Œè¿™æ ·ä¹Ÿå°±é¿å…äº†æ‰‹åŠ¨åˆ›å»ºã€‚-DæŒ‡å®šæŠŠå¤‡ä»½å†™åˆ°å“ªä¸ªç›®å½•ï¼Œè¿™é‡Œå°¤å…¶è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯åšåŸºç¡€å¤‡ä»½ä¹‹å‰ä»åº“çš„æ•°æ®ç›®å½•ï¼ˆ/usr/local/postgresql/dataï¼‰ç›®å½•éœ€è¦æ‰‹åŠ¨æ¸…ç©ºã€‚-lè¡¨ç¤ºæŒ‡å®šä¸€ä¸ªå¤‡ä»½çš„æ ‡è¯†ï¼Œè¿è¡Œå‘½ä»¤åçœ‹åˆ°å¦‚ä¸‹è¿›åº¦æç¤ºå°±è¯´æ˜ç”ŸæˆåŸºç¡€å¤‡ä»½æˆåŠŸï¼š











    â¦¿ é…ç½® recovery.conf

        1.) å¤åˆ¶/usr/pgsql-9.6/share/recovery.conf.sample åˆ° /opt/pgsql/data/recovery.conf
        cp /usr/pgsql-9.6/share/recovery.conf.sample /opt/pgsql/data/recovery.conf

        2.) ä¿®æ”¹ recovery.conf
        vi /opt/pgsql/data/recovery.conf

        standby_mode = on    # è¯´æ˜è¯¥èŠ‚ç‚¹æ˜¯ä»æœåŠ¡å™¨

        primary_conninfo = 'host=23.105.192.96 port=2345 user=postgres password=postgres'

        recovery_target_timeline = 'latest'



    â¦¿ é…ç½®postgresql.conf
        vi /var/lib/pgsql/9.6/data/postgresql.conf

wal_level = hot_standby  åŠ è¿™è¡Œ
max_connections = 1000   æ”¹è¿™è¡Œ åŸæ¥æ˜¯100. æ”¹æˆå¤§äº100å°±è¡Œ 
hot_standby = on         åŠ è¿™è¡Œ ï¼ƒ è¯´æ˜è¿™å°æœºå™¨ä¸ä»…ä»…æ˜¯ç”¨äºæ•°æ®å½’æ¡£ï¼Œä¹Ÿç”¨äºæ•°æ®æŸ¥è¯¢
max_standby_streaming_delay = 30s    å»æ³¨é‡Š # æ•°æ®æµå¤‡ä»½çš„æœ€å¤§å»¶è¿Ÿæ—¶é—´
wal_receiver_status_interval = 10s   å»æ³¨é‡Š # å¤šä¹…å‘ä¸»æŠ¥å‘Šä¸€æ¬¡ä»çš„çŠ¶æ€ï¼Œå½“ç„¶ä»æ¯æ¬¡æ•°æ®å¤åˆ¶éƒ½ä¼šå‘ä¸»æŠ¥å‘ŠçŠ¶æ€ï¼Œè¿™é‡Œåªæ˜¯è®¾ç½®æœ€é•¿çš„é—´éš”æ—¶é—´

hot_standby_feedback = on åŠ è¿™è¡Œ # å¦‚æœæœ‰é”™è¯¯çš„æ•°æ®å¤åˆ¶ï¼Œæ˜¯å¦å‘ä¸»è¿›è¡Œåé¦ˆ



â¦¿ é‡å¯
su postgres 
pg_ctl stop -D /opt/pgsql/data
pg_ctl start -D /opt/pgsql/data

pg_ctl stop -D /var/lib/pgsql/9.6/data
pg_ctl start -D /var/lib/pgsql/9.6/data

åˆ°åº•æ˜¯å“ªä¸ªè·¯å¾„å‘¢ ...
postmaster.pid
æœåŠ¡æ­£å¸¸è¿è¡Œæ‰ä¼šç”Ÿæˆpostmaster.pid  å¦‚æœæœåŠ¡ä¸æ­£å¸¸æ˜¯æ²¡æœ‰.pidçš„ !!!
æ‰€ä»¥ç°åœ¨é—®é¢˜è‚¯å®šæ˜¯æœåŠ¡æ²¡èµ·æ¥!  é‚£ä¹ˆå°±å»å¯åŠ¨æœåŠ¡çœ‹çœ‹æœ‰ä»€ä¹ˆé”™è¯¯.
[postgres@mail]/opt/pgsql/data% pg_ctl start -D /opt/pgsql/data
server starting
[postgres@mail]/opt/pgsql/data% 2017-06-19 00:01:34 CST LOG:  could not bind IPv4 socket: Address already in use
2017-06-19 00:01:34 CST HINT:  Is another postmaster already running on port 5432? If not, wait a few seconds and retry.
2017-06-19 00:01:34 CST LOG:  could not bind IPv6 socket: Address already in use
2017-06-19 00:01:34 CST HINT:  Is another postmaster already running on port 5432? If not, wait a few seconds and retry.
2017-06-19 00:01:34 CST WARNING:  could not create listen socket for "*"
2017-06-19 00:01:34 CST FATAL:  could not create any TCP/IP sockets
2017-06-19 00:01:34 CST LOG:  database system is shut down

æ®è¯´.. å·²ç»æœ‰ä¸ªæœåŠ¡è¿è¡Œåœ¨ 5432ç«¯å£ä¸Šäº†... æˆ‘ä»¬çœ‹çœ‹
ps å‘ç°æœ‰ä¸ª postgre è¿›ç¨‹ killæ‰. å†å¯åŠ¨ å°±èµ·æ¥äº†..

ğŸ‘¹ incorrect checksum in control file
æ“..ä¸»æœåŠ¡å™¨æ˜¯64ä½çš„... ä»æœåŠ¡å™¨æ˜¯32ä½çš„.... éš¾é“æ˜¯è¿™ä¸ªåŸå› å‘.....

â—ï¸ google è¿™ä¸ªé—®é¢˜  Replication between 64/32bit systems?
https://www.postgresql.org/message-id/003401cc77d5%2484828f30%248d87ad90%24%40com.br

å‘ç°...ä¸»ä»åŒæ­¥, åŒæ–¹çš„ç³»ç»Ÿæœ€å¥½ä¸€æ ·,ç¯å¢ƒæœ€å¥½ä¸€æ ·.
ä¹Ÿå°±æ˜¯è¯´.ä¸»æ˜¯32ä½ç³»ç»Ÿ.ä»å°±ç»å¯¹ä¸èƒ½æ˜¯64ä½ç³»ç»Ÿ. 
ä¸»æ˜¯Mac os ä»å¥½åƒå°±ä¸èƒ½æ˜¯windows/linux...é™åˆ¶å¤š...

çœ‹æ¥ç”¨postgresql åœ¨mac å’Œ vps ä¹‹é—´ä¸»ä»æ˜¯æ²¡åŠæ³•å®ç°äº†. 
çœ‹æ¥... åšå®¢æ•°æ®è¿˜æ˜¯ç›´æ¥ç”¨sqliteå§. å¤‡ä»½ä¹ŸçœåŠ›. å¤åˆ¶æ–‡ä»¶å¤¹å°±å¯ä»¥äº†.

ä¸«çš„... éš¾é“æœ¬åœ°æ­å»ºä¸ª docker æ•´å¤©è¿è¡Œä¸æˆ... è¿™æ ·..mysql/postgre ä¸»ä»éƒ½èƒ½å®ç°äº†.
è¿˜æ˜¯ç”¨è™šæ‹Ÿæœº æ­å»ºä¸ª centos6 ..
docker ç©ç©å¯ä»¥ å®é™…è¦ç”¨.. éº»çƒ¦..
é‚£å°±è™šæ‹Ÿæœºå§.. å¼„ä¸ªcentos6 x86çš„é•œåƒ. æœ€å°åŒ–å®‰è£…...
æˆ–è€… å†ä¹°ä¸ªVPS!!!  åæ­£è‡ªå·±ä¸¤ä¸ªIP. 







â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
mysql ä¸»ä»...

Mac: mysql 5.7.14 x64
VPS: mysql 5.1.73 x86




















    ğŸ”¸ Mysql æ•°æ®åº“é…ç½® âœ—

        â¦¿ æ•°æ®åº“é…ç½®æµç¨‹: 
            âœ é€‰æ‹©æ•°æ®åº“: mysql 
            âœ åˆ›å»ºæ•°æ®åº“: djcmsDB > utf8 > utf8_bin 
                âœ é…ç½®settings.py 
                âœ åˆ›å»ºæ•°æ®è¡¨
                    âœ åˆ›å»ºç™»å½•ç”¨æˆ· 
                    âœ ç™»å½•æµ‹è¯•

        â¦¿ é€‰æ‹©æ•°æ®åº“.

            ç”¨mysql         å°±å…ˆå®‰è£…mysql.     ä¸ºäº†æ–¹ä¾¿Pythonä½¿ç”¨ mysqléœ€å®‰è£… pip install mysql-python
            ç”¨postgresql    å°±å…ˆå®‰è£…postgresql ä¸ºäº†æ–¹ä¾¿Pythonä½¿ç”¨ postgresqléœ€å®‰è£… pip install psycopg2
            ç”¨sqlite (é»˜è®¤è‡ªå¸¦) å°±ä»€ä¹ˆéƒ½ä¸ç”¨è®¾ç½®.

        â¦¿ åˆ›å»ºæ•°æ®åº“: djcmsDB
            å¦‚æœä½ ç”¨ sqlite è¿™ä¸ªé»˜è®¤çš„æ•°æ®åº“Django ä¼šè‡ªåŠ¨å¸®ä½ å»ºç«‹æ•°æ®åº“.
            å¦‚æœä½ ç”¨ sqlite ä¹‹å¤–çš„çš„æ•°æ®åº“å°±å¾—æ‰‹åŠ¨å»ºç«‹æ•°æ®åº“.


        â¦¿ å®‰è£…  MySQL-python
            è™šæ‹Ÿç¯å¢ƒéœ€è¦é‡æ–°å®‰è£… MySQL-python !!! 
            ä½†æ˜¯ macç”µè„‘åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ç›´æ¥å®‰è£…MySQL-pythonä¼šæŠ¥é”™.
            éœ€è¦å…ˆè¿è¡Œ  xcode-select --install
            å†          pip install MySQL-python



        â¦¿ é…ç½®settings.py
            å¦‚æœä½ ç”¨ sqlite è¿™ä¸ªé»˜è®¤çš„æ•°æ®åº“Django ä¼šè‡ªåŠ¨å¸®ä½ é…ç½®æ•°æ®åº“ä¿¡æ¯.
            å¦‚æœä½ ç”¨ sqlite ä¹‹å¤–çš„çš„æ•°æ®åº“å°±å¾—æ‰‹åŠ¨å»settings.py ä¸­é…ç½®æ•°æ®åº“ä¿¡æ¯.


            - é…ç½® /CMS/mycms/settings.py é‡Œçš„DATABASES æˆå¦‚ä¸‹:
                ğŸ‘â€ğŸ—¨ æ³¨æ„'HOST': '127.0.0.1' ç»å¯¹ä¸èƒ½ç”¨  'HOST': 'localhost' ä¸€ä¸ªæ˜¯åŸŸåä¸€ä¸ªæ˜¯ip.
                ğŸ‘â€ğŸ—¨ å…ˆåœ¨ç»ˆç«¯ç”¨ mysql -u root -p  æµ‹è¯•mysqlç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®.

                vi /CMS/mycms/settings.py
                            DATABASES = {
                                'default': {
                                    'CONN_MAX_AGE': 0,
                                    'ENGINE': 'django.db.backends.mysql',
                                    'HOST': '127.0.0.1',
                                    'NAME': 'djcmsDB',
                                    'USER': 'root',
                                    'PASSWORD': 'xxxxxxxxxxxx',
                                    'PORT': '3306',
                                }
                            

        â¦¿ åˆ›å»ºæ•°æ®è¡¨
            cd /CMS && python manage.py migrate

            æ•°æ®åº“å¿…é¡»å…ˆå»ºç«‹ä¸€ç³»åˆ—æ•°æ®è¡¨åæ‰èƒ½ç”¨.
            å»ºç«‹æ•°æ®è¡¨å. å°±èƒ½ç”¨æµè§ˆå™¨è®¿é—® 23.105.192.96:8000 äº†. ä¼šè‡ªåŠ¨è·³è½¬åˆ°åå°ç™»å½•é¡µé¢.
            æƒ³è¦ç™»å½•å°±å¿…é¡»å…ˆåˆ›å»ºç™»å½•å¸å·.


        â¦¿ åˆ›å»ºç™»å½•ç”¨æˆ·.
            cd /CMS && python manage.py createsuperuser


        â¦¿ ç™»å½•æµ‹è¯• 23.105.192.96:8000








    ğŸ”¸ è®¾ç½®æ—¶åŒº
        sudo vi mycms/settings.py 
        TIME_ZONE = 'xxx'   æ”¹æˆ  TIME_ZONE = 'Asia/Shanghai'





    ğŸ”¸ ALLOWED_HOSTS è®¾ç½®
        é¡¹ç›®åˆ›å»ºå¥½å°±å¯ä»¥è¿è¡Œé¡¹ç›®äº†. 
        ç”±äºæˆ‘ä»¬æ˜¯sshåˆ°æœåŠ¡å™¨æ­å»ºçš„Djangoé¡¹ç›®. ä¸æ˜¯åœ¨æœ¬åœ°æ­å»ºçš„. æ‰€ä»¥æœ‰é¢å¤–å¤šäº†è¿™ä¸€æ­¥.
        æœ¬åœ°æ­å»ºé¡¹ç›®çš„ å¯ä»¥çœç•¥ è¿™ä¸€æ­¥.


        sudo vi /CMS/mycms/settings.py 
            ALLOWED_HOSTS = [] è¡Œæ”¹æˆ:
            ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] 

        ğŸ‘â€ğŸ—¨ sed ä¸€é”®ä¿®æ”¹å‘½ä»¤:
        sed -i '/ALLOWED_HOSTS/c ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] ' /CMS/mycms/settings.py




    ğŸ”¸ å¯åŠ¨å¼€å‘æœåŠ¡å™¨

        cd /CMS/mycms && python manage.py runserver 0.0.0.0:8000

        æ‰§è¡Œä¸Šé¢å‘½ä»¤.ç„¶åæµè§ˆå™¨è®¿é—® 23.105.192.96:8000  å°±ä¼šå‡ºç° django CMSçš„ç™»å½•é¡µé¢äº†.
        å½“ç„¶ç°åœ¨ä½ è¿˜ç™»å½•ä¸äº†. ä¸è¦æ€¥.å¾—åˆ›å»ºç”¨æˆ·.
        è‡³äºæ€ä¹ˆåˆ›å»ºç”¨æˆ· å°±å’ŒDjango åˆ›å»ºç”¨æˆ·çš„æ–¹æ³•ä¸€æ¨¡ä¸€æ ·äº†. 
        ç”±äºæˆ‘ä»¬è¦ä½¿ç”¨mysql.è€Œä¸æ˜¯Djangoè‡ªå¸¦çš„ sqlite. 
        æˆ‘ä»¬å¾—å…ˆåˆ›å»ºMysqlæ•°æ®åº“.ç„¶åé…ç½® /CMS/mycms/settings.py ä¸­çš„æ•°æ®åº“é…ç½®.










ğŸ”µ å¸¸ç”¨å‘½ä»¤

    â¦¿ åˆ›å»ºé¡¹ç›®:  cd /home && django-admin startproject djSite
    â¦¿ åˆ›å»ºæ¨¡å—:  python manage.py startapp polls

    â¦¿ settings.py mysql æ•°æ®åº“é…ç½®:
            sed -i "s/django.db.backends.sqlite3/django.db.backends.mysql/g; s/'NAME': os.path.join(BASE_DIR, 'db.sqlite3')/'NAME': 'djSiteDB'/g" /home/djSite/djSite/settings.py &&  sed -i "/'NAME': 'djSiteDB'/a \ \n\t'USER': 'root',\n\t'PASSWORD': 'xujian0219',\n\t'HOST': '127.0.0.1',\n\t'PORT': '3306', " /home/djSite/djSite/settings.py


    â¦¿ å¼€å¯å¤–ç½‘æƒé™:
        sed -i '/ALLOWED_HOSTS/c ALLOWED_HOSTS = ["23.105.192.96", "www.0214.help"] ' /home/djSite/djSite/settings.py


    â¦¿ å»ºç«‹æ•°æ®åº“è¡¨          cd /home/djSite/ && python manage.py migrate


    â¦¿ Admin åˆ›å»ºè´¦æˆ·:       python manage.py createsuperuser
    â¦¿ è¿è¡Œå¼€å‘æœåŠ¡å™¨:       python manage.py runserver 0.0.0.0:8000
    â¦¿ æŸ¥çœ‹ç½‘ç«™é¦–é¡µ:         127.0.0.1:8000 


    â¦¿ æ¸…ç©ºæ•°æ®åº“,åªç•™è¡¨     python manage.py flush
    â¦¿ Django API:           python manage.py shell
    â¦¿ Django ç‰ˆæœ¬æŸ¥çœ‹:      python -m django --version  æˆ–è€… pip list django


    






ğŸ”µ æœ¬æ–‡ç›®çš„:

    â¦¿ é—²èŠ
            çœ‹äº† 127.0.0.1:8000 æ˜¾ç¤ºå‡ºæ¥çš„é¡µé¢. å¥½ä¸‘. 
            è‚¯å®šæƒ³è¦å¤§ä¿®å¤§æ¦‚é‡æ–°è®¾è®¡ä¸€ä¸ªç½‘ç«™.è¿™å°±æ˜¯åŸºäºdjangocmsçš„äºŒæ¬¡å¼€å‘.

            æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åŸºäºdjangocmsæ¥è®¾è®¡ä¸€ä¸ªç½‘ç«™. è€Œä¸æ˜¯å®Œå…¨ä»é›¶å¼€å§‹è®¾è®¡ä¸€ä¸ªç½‘ç«™å‘¢.è¿™æ˜¯ä¸ºäº†å‡å°‘å¼€å‘éš¾åº¦. 
            ä»0å¼€å§‹è®¾è®¡ç½‘ç«™å¾ˆéº»çƒ¦çš„. å‰ç«¯æŠ€æœ¯èŒƒå›´éå¸¸å¹¿,è¦å­¦çš„ä¸œè¥¿éå¸¸éå¸¸å¤š.
            æˆ‘ä¹‹å‰å¹²çš„è¿ç»´.å‰ç«¯å®Œå…¨æ˜¯è‡ªå­¦çš„.èŠ±è´¹äº†æˆ‘å‡ ä¹åŠå¹´æ—¶é—´æ‰æœ‰äº†è¿™ä¸ªç½‘ç«™: www.0214.live ,
            çœ‹ç€æ²¡å•¥åŠŸèƒ½,ä½†æ˜¯ä»»ä½•åŠŸèƒ½çš„å®ç°éƒ½æ˜¯è‡ªå·±æƒ³å‡ºæ¥çš„.è€Œä¸æ˜¯å¼•ç”¨ç°æˆçš„æ¨¡å—ä»€ä¹ˆçš„.
            å…¶å®æ²¡æœ‰å¤ªå¤§çš„å¿…è¦è¿™æ ·åš.å¤ªè´¹æ—¶é—´äº†.æˆ‘ä¼°è®¡ä½ ä¹Ÿä¸æƒ³èŠ±åŠå¹´æ—¶é—´æ‰èƒ½åšå‡ºä¸€ä¸ªä¸æ€ä¹ˆæ ·çš„ç½‘ç«™å§.

            ç”¨ Python æ­å»ºç½‘ç«™çš„å¥½å¤„å°±æ˜¯ æœ‰ç€éå¸¸éå¸¸å¤šçš„å¾ˆä¼˜ç§€çš„æ¨¡å—.
            è¿™äº›æ¨¡å—éƒ½æ˜¯å¾ˆå¤šé«˜æ‰‹è®¾è®¡å‡ºæ¥çš„,è‚¯å®šæ¯”ä½ è‡ªå·±è®¾è®¡å‡ºæ¥çš„å¥½å¾ˆå¤šå¾ˆå¤š.
            æˆ‘ä»¬è¦åšçš„å°±æ˜¯å¼•ç”¨è¿™äº›ä¼˜ç§€çš„æ¨¡å—.ç„¶åç¨åŠ ä¿®æ”¹å°±å¯ä»¥åšå‡ºä¸€ä¸ªéå¸¸ä¼˜ç§€çš„ç½‘ç«™.
            è¿™å°±æ˜¯æ‰€è°“çš„ ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š.... .... 

            åºŸè¯ä¸å¤šè¯´.. æˆ‘ä»¬å…ˆæŒ‘ä¸€ä¸ªå¥½çœ‹ç‚¹çš„ç½‘ç«™æ¥åšå‚ç…§.çœ‹çœ‹æˆ‘ä»¬èƒ½ä¸èƒ½ä½œå‡ºä¸€æ ·çš„æ•ˆæœ.
            è¿™æ˜¯æˆ‘é€‰çš„å‚ç…§ç½‘ç«™: https://blackrockdigital.github.io/startbootstrap-modern-business/
            æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯æŠŠdjangocms é»˜è®¤æ˜¾ç¤ºçš„ç½‘ç«™æ”¹æˆç±»ä¼¼ä¸Šé¢çš„.

    â¦¿ å‚è€ƒç½‘ç«™ æ¶æ„åˆ†æ
        é¦–å…ˆæˆ‘ä»¬å¾—åˆ†æå‚è€ƒç½‘ç«™çš„æ¶æ„. çœ‹çœ‹å‚è€ƒç½‘ç«™æ˜¯æ€ä¹ˆè®¾è®¡å‡ºæ¥çš„.
        æ‰“å¼€è¿™ä¸ªç½‘ç«™ âœ  https://builtwith.com/  âœ è¾“å…¥å‚è€ƒç½‘ç«™çš„ç½‘å€ âœ lookup âœ å°±ä¼šå‡ºæ¥è¿™ä¸ªç½‘ç«™çš„æ¶æ„
        æˆ‘ä»¬ç®€å•åˆ†æä¸‹è¿™ä¸ªå‚è€ƒç½‘ç«™.
        ä¸»è¦å°±æ˜¯ç”¨äº†: HTML5ã€jQueryã€CSSã€Bootstrap...


    â¦¿ å‚è€ƒç½‘ç«™ æºç åˆ†æ
        ä¸€ä¸ªç½‘ç«™. æœ€é‡è¦çš„å°±æ˜¯ htmlæºç .
        æˆ‘ä»¬æƒ³è¦è®¾è®¡å‡ºç±»ä¼¼å‚è€ƒç½‘ç«™æ•ˆæœçš„ç½‘é¡µ. å°±å¿…é¡»ç ”ç©¶ä¸‹ç½‘é¡µæºç .
        æµè§ˆå™¨ F12 å°±å¯ä»¥æŸ¥çœ‹æºç .  æˆ‘ä»¬å…ˆæ¥çœ‹ index.html é¦–é¡µçš„æºç .ä¸å¤šä¹Ÿå°±300å¤šè¡Œ.


    â¦¿ å‚è€ƒç½‘ç«™ æºç ä¸‹è½½
        https://startbootstrap.com/template-overviews/modern-business/

        è§£å‹åä¼šå‘ç°æœ‰å¾ˆå¤šæ–‡ä»¶:
        js/css/fonts/font-awesone/404.htmlã€about.htmlã€index.html....



â¦¿ Djangocms æºç åˆ†æ
    Djamgocms ç”¨çš„æ˜¯æ¨¡æ¿!
    é‚£ä¹ˆ 127.0.0.1:8000/en/?edit è¿™ä¸ªdjangocmsé¦–é¡µè‚¯å®šæ˜¯å¥½å‡ ä¸ªæ¨¡æ¿.html + æ•°æ®åº“ä¸­æ•°æ® ç»„åˆæ‰å½¢æˆçš„
    æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹æœ‰å¾ˆå¤š htmlæ–‡ä»¶. é‚£ä¹ˆå…·ä½“ç”¨äº†å“ªå‡ ä¸ªhtml å°±è¦åˆ†æ views.pyäº†





ğŸ”µ ç¬¬ä¸‰æ–¹æ¨¡å—å®‰è£…



    ğŸ”¸ bootstrap3 å®‰è£…æ•™ç¨‹
        http://aldryn-boilerplate-bootstrap3.readthedocs.io/en/latest/

        1. pip install aldryn-bootstrap3
        2. æ·»åŠ  'aldryn_bootstrap3', åˆ° INSTALLED_APPS
        3. åˆ›å»ºæ•°æ®è¡¨  python manage.py migrate
        4. éšä¾¿æ‰¾ä¸ª å‰ç«¯é¡µé¢. è¿›å…¥ structureæ¨¡å¼. æ·»åŠ æ’ä»¶. å°±ä¼šå¤šå‡ºbootstrapäº†.



    ğŸ”¸ news & blog å®‰è£…æ•™ç¨‹
        http://aldryn-newsblog.readthedocs.io/en/latest/

        â¦¿ pip install aldryn-newsblog

        â¦¿ å»settings.py æ·»åŠ ä¸€ç³»åˆ—çš„ æ’ä»¶å.

            'aldryn_apphooks_config',
            'aldryn_categories',
            'aldryn_common',
            'aldryn_newsblog',
            'aldryn_people',
            'aldryn_reversion',
            'aldryn_translation_tools',
            'parler',
            'sortedm2m',
            'taggit',
            'reversion',


        â¦¿ åŒæ­¥æ•°æ®åº“..python manage.py migrate
            ğŸ‘¹ django.db.utils.OperationalError: (1553, "Cannot drop index 'aldryn_peopl_group_id_3944d5eea384fb80_fk_aldryn_people_group_id': needed in a foreign key constraint")

            ä¸èƒ½åˆ é™¤æŸä¸ªç´¢å¼•index   å› ä¸ºè¿™ä¸ªç´¢å¼•è¢«æŸä¸ªä¸œè¥¿å½“æˆforeign key äº†.

            é—®é¢˜å¤„ç†æ–¹æ³•: https://code.djangoproject.com/ticket/24653
            å¤ªéº»çƒ¦..ç®—äº†.. ä¸ç”¨mysqläº†.  è¿˜æ˜¯ç”¨è‡ªå¸¦çš„ sqliteå§.
            è¦ä¸è¯•è¯• postsql




ğŸ”µ  
ç¯å¢ƒæ­å»ºå¥½äº†. æ’ä»¶ä¹Ÿå®‰è£…å¥½äº†. ä¸‹é¢å°±æ¥



        â¦¿ ä½¿ç”¨
        å®‰è£…å¥½å..éœ€è¦è‡³å°‘æœ‰ä¸€é¡µçš„ page > advance settings > application settings >é€‰æ‹© newsblog

        ç„¶ååœ¨è¿™ä¸ªé¡µé¢åˆ›å»º news/blog article
        å°±å¯ä»¥å»ºç«‹åšå®¢äº†.  ç„¶åç½‘å€ä»€ä¹ˆçš„ éƒ½ä¸ç”¨ä½ æ“å¿ƒ.
        åšå®¢æ˜¯å¥½äº†.ä½†æ˜¯... ç½‘ç«™å¿…é¡»æœ‰é¦–é¡µå•Š. è”ç³»é¡µé¢ä»€ä¹ˆçš„! 
        æˆ‘ä»¬å…ˆæ¥çœ‹é¦–é¡µ.. 
        æ–°çš„ djangocms é¡¹ç›® é¦–é¡µæ˜¯ç©ºç©ºè¡è¡çš„. æ€ä¹ˆæ‰èƒ½æ”¹é¦–é¡µå‘¢.
        å°±è¦å» mycms/templates æ–‡ä»¶å¤¹é‡Œé¢çœ‹äº†.
        é»˜è®¤æœ‰ 4ä¸ª html.
        base ã€fullwidthã€sidebar_leftã€sidebar_right.
        å…¶ä¸­ base æ˜¯æœ€æœ€åŸºç¡€çš„æ¨¡æ¿. ä»»ä½•ç½‘é¡µéƒ½ä¼šåŠ è½½è¿™ä¸ªæ¨¡æ¿é‡Œçš„å†…å®¹.
        å¦‚æœä½ åœ¨baseçš„bodyé‡Œé¢ æ·»åŠ  å“ˆå“ˆä¸¤ä¸ªå­—. é‚£ä¹ˆæ‰€æœ‰çš„ç½‘é¡µéƒ½ä¼šå¤šå‡ºå“ˆå“ˆä¸¤ä¸ªå­—.

        fullwidthã€sidebar_leftã€sidebar_right è¿™ä¸‰ä¸ªæ˜¯äºŒçº§æ¨¡æ¿! å¯ä»¥çœ‹æˆåŸºç¡€æ¨¡æ¿ä¸Šå†å¥—ç”¨æ¨¡æ¿
        åŸºç¡€æ¨¡æ¿: base.html é€‚åˆç”¨ ç½‘é¡µç‰ˆæƒ! è¿˜æœ‰ç½‘é¡µé¡¶éƒ¨çš„å¯¼èˆªæ ç›®.
        äºŒçº§æ¨¡æ¿: å¯ä»¥çœ‹æˆç½‘ç«™çš„ä¸»é¢˜. æ¢æ¨¡æ¿å°±æ˜¯æ¢ç½‘ç«™é£æ ¼
        æ¯ä¸ªé¡µé¢éƒ½å¯ä»¥è®¾ç½®å•ç‹¬çš„æ¨¡æ¿.

        djangocmsè‡ªå¸¦çš„ åŸºç¡€æ¨¡æ¿å¤ªä¸‘..  æˆ‘ä»¬æ¢æ‰..
        è¿™ä¸ªæ¶‰åŠå‰ç«¯çŸ¥è¯†.  æˆ‘ä»¬ç›´æ¥ç”¨åˆ«äººç°æˆçš„ç½‘ç«™. ç„¶åä¿®æ”¹ä¸‹å°±å¯ä»¥äº†.

å‚è€ƒè¿™ä¸ªç½‘ç«™çš„å¸ƒå±€.
https://blackrockdigital.github.io/startbootstrap-modern-business/index.html

ç½‘ç«™æºç ä¸‹è½½:
https://startbootstrap.com/template-overviews/modern-business/


é™æ€æ–‡ä»¶: 

        â¦¿ cssã€font-awesoneã€fontsã€js æ–‡ä»¶å¤¹ âœ ç§»åŠ¨åˆ° desktop/mycms/mycms/staticä¸‹
            ğŸ‘â€ğŸ—¨ è¿™é‡Œæ³¨æ„. ä¸æ˜¯ç§»åŠ¨åˆ°desktop/mycms/staticæ–‡ä»¶å¤¹ä¸‹!!!

â¦¿ æŠŠ full-width.html ç§»åŠ¨åˆ° desktop/mycms/mycms/templates ä¸‹
â¦¿ åˆ é™¤ desktop/mycms/mycms/templates ä¸‹çš„ sidebar_left å’Œ sidebar_right å’Œbase.html
â¦¿ æŠŠ full-width æ”¹æˆ base.html

æ¥ä¸‹æ¥çš„ä¸œè¥¿ éœ€è¦äº†è§£ç‚¹ djangocmsçš„æ¨¡æ¿çŸ¥è¯†. ä¸çŸ¥é“è·Ÿç€åšå°±å¯ä»¥äº†..

æ•´ä¸ªbase.html æ”¹æˆä¸‹é¢è¿™æ ·

{% load cms_tags menu_tags sekizai_tags staticfiles i18n %}
<!--ä¸ºäº†ä½¿ç”¨æ¨¡æ¿çš„åŸºæœ¬åŠŸèƒ½. é¦–å…ˆéœ€è¦åœ¨æœ€ä¸Šæ–¹æ·»åŠ è¿™è¡Œ-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- æ¨¡æ¿é‡Œè°ƒç”¨é™æ€æ–‡ä»¶ ç”¨ä¸‹é¢çš„æ ¼å¼.-->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/modern-business.css' %}" rel="stylesheet">
    <link href="{% static 'font-awesome/css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">

    <!--å¼•å…¥ djangocms ä»¥åŠå„ç§æ’ä»¶ æ‰€ä¾èµ–çš„cssæ–‡ä»¶-->
    {% render_block "css" %}

    <!--æ¨¡æ¿çš„æ ‡é¢˜-->
    <title>{% page_attribute 'page_title' %} - Xu.Jian </title>
</head>

<body>
    <!--cms éšè—å·¥å…·æ¡-->
    {% cms_toolbar %}


    <!-- ç½‘é¡µå¯¼èˆªæ¡ -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">

            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <!--home æŒ‰é’®-->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Home</a>
            </div>

            <!--å¯¼èˆªæ¡ä¸­çš„ homeä¹‹å¤–çš„æŒ‰é’®.-->
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                {% show_menu 0 100 100 100 %}
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>


    <!--ä¸‹é¢æ˜¯ç½‘é¡µçš„å†…å®¹åŒºåŸŸ.  block xxx å°±ä»£è¡¨æ¨¡å—,  å¯ä»¥åœ¨æ¨¡æ¿é‡Œé¢ç”¨åˆ«çš„æ¨¡æ¿-->
    {% block content %}{% endblock %}

 
    <!--å¯ä»¥åœ¨ ç»“æ„ä¸­ æ·»åŠ ä¸€ä¸ªcate åŒºåŸŸ.-->
    {% placeholder Cate %}
    {% placeholder Tage %}
    {% placeholder File %}



    <!-- Footer -->
    <footer>
        {% static_placeholder "Footer"%}
    </footer>
        
    <!-- jQuery -->
    <script src="{% static 'js/jquery.js' %}"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
        {% render_block "js" %}

</body>

</html>





ğŸ”¸ é‡å¯å¼€å‘æœåŠ¡å™¨.
ç°åœ¨ä½ çœ‹åˆ°çš„é¦–é¡µå°±å˜äº†!!  ä»€ä¹ˆå†…å®¹éƒ½æ²¡æœ‰.ä½†æ˜¯æœ‰ä¸ªæ¼‚äº®çš„å¯¼èˆªæ¡.
ç°åœ¨ä½ ç‚¹å¯¼èˆªæ¡ä¸­ æ‰€æœ‰çš„é“¾æ¥éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ç½‘é¡µ. é™¤äº†nb é¡µé¢.
è¿™ä¸ªé¡µé¢æ˜¯å’Œ news&blog ç¬¬ä¸‰æ–¹æ’ä»¶ç»‘å®šçš„. è¿™é‡Œå¯ä»¥åˆ›å»ºåšå®¢. æˆ‘ä»¬å…ˆä¸ç®¡.
æˆ‘ä»¬å…ˆåšä¸€ä¸ªæ’åˆ—çš„ home é¡µé¢å‡ºæ¥.
home é¡µé¢æ˜¯ç”± base.html + æ¨¡æ¿ ç»„æˆçš„.
æ¨¡æ¿é»˜è®¤ä½¿ç”¨ settings.py > CMS_TEMPLATES ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ .
CMS_TEMPLATES = (
    ('fullwidth.html', 'Fullwidth'),
    ('sidebar_left.html', 'Sidebar Left'),
    ('sidebar_right.html', 'Sidebar Right')
)
ä¹Ÿå°±æ˜¯åä¸º fullwidth æ¨¡æ¿. æºæ–‡ä»¶æ˜¯ fullwidth.html
æˆ‘ä»¬æ¥çœ‹ fullwidth.html
{% extends "base.html" %}
{% load cms_tags %}

{% block title %}{% page_attribute "page_title" %}{% endblock title %}

{% block content %}
	{% placeholder "content" %}
{% endblock content %}


å°±è¿™ä¹ˆå‡ è¡Œ.  
{% extends "base.html" %} å¤§æ¦‚æ„æ€è¿™ä¸ªæ˜¯åŸºç¡€æ¨¡æ¿çš„æ‰©å±•.
{% block content %}  æ˜¯å’Œ baseé‡Œçš„ {% block content %}  å¯¹åº”çš„.
ä¹Ÿå°±æ˜¯è¯´. äºŒæ¬¡æ¨¡æ¿é‡Œçš„{% block content %} é‡Œçš„å†…å®¹ä¼šå¡«å……åˆ° åŸºç¡€æ¨¡æ¿çš„{% block content %}é‡Œé¢.

å¤§æ¦‚æ„æ€å°±æ˜¯.  åŸºç¡€æ¨¡æ¿ æ”¾ä¸€ä¸ª  {% block content %} æ ‡è®°.è¿™æ ‡è®°é‡Œé¢ä»€ä¹ˆå†…å®¹éƒ½æ²¡æœ‰.
ç„¶åä½ å¯ä»¥æœ‰å¾ˆå¤šäºŒçº§æ¨¡æ¿.
æ¯”å¦‚ left.html  right.html top.html
ç„¶åæ¯ä¸ªäºŒçº§æ¨¡æ¿é‡Œé¢éƒ½å¯ä»¥æœ‰ {% block content %} æ ‡è®°. ä½†æ˜¯è¿™é‡Œçš„æ ‡è®°é‡Œé¢æ˜¯æœ‰å†…å®¹çš„!
è€Œä¸”æ¯ä¸ªäºŒçº§æ¨¡æ¿é‡Œçš„ {% block content %} é‡Œçš„å†…å®¹å¯ä»¥ä¸ä¸€æ ·.
è¿™æ · åŒæ ·çš„é¦–é¡µ. 
å½“ä½ ä½¿ç”¨ left.html æ¨¡æ¿æ—¶å€™å°±ä¼šæ˜¾ç¤º left.html é‡Œçš„å†…å®¹.
å½“ä½ ä½¿ç”¨ right.html æ¨¡æ¿æ—¶å€™å°±ä¼šæ˜¾ç¤º right.html é‡Œçš„å†…å®¹.
è¿™æ ·å°±è¾¾åˆ°ç›®çš„äº†...

å½“ç„¶ä½ å¯ä»¥ç»™ home å•ç‹¬è®¾ç½®ä¸€ä¸ª home.html æ¨¡æ¿. ç„¶å home çš„pageè®¾ç½®é‡Œé¢é€‰æ‹©homeè¿™ä¸ªæ¨¡æ¿. è¿™æ ·ä½ çš„home å°±è¾¾åˆ°è‡ªå®šä¹‰çš„æ•ˆæœäº†. è™½ç„¶è¿™ä¸ªhome.html åªç”¨åœ¨ä¸€é¡µä¸Š(homeé¡µ)


ğŸ”¸ home.html
{% extends "base.html" %}
{% load cms_tags %}

{% block content %}
xx
	{% placeholder "content" %}
{% endblock content %}

ç„¶å å»settings.py  CMS_TEMPLATES æ·»åŠ   ('home.html', 'Home'),

ç„¶åå»é¦–é¡µ page æ¨¡æ¿ é€‰æ‹© home  ç„¶ååˆ·æ–°homeé¡µ.
æ˜¯ä¸æ˜¯å‡ºç° xx ä¸¤ä¸ªå­—äº†. è¯´æ˜æˆåŠŸäº†.

ä¸‹é¢æˆ‘ä»¬æ¥å®Œå–„homepage.
è¿™é‡Œä»‹ç»ä¸‹placeholder è¿™æ˜¯ä¸ªåŒºåŸŸ! è¿™ä¸ªåŒºåŸŸé‡Œä½ å¯ä»¥æ·»åŠ å„ç§æ’ä»¶ 
éå¸¸å¼ºå¤§..  æˆ‘ä»¬ç°åœ¨çš„ home.html é‡Œé¢æœ‰ä¸ª å« contentçš„placeholder
æ‰€æœ‰æˆ‘ä»¬å¯ä»¥åœ¨ ç»“æ„æ é‡Œé¢çœ‹åˆ°ä¸€ä¸ª Contentçš„æ¨¡å—.
è¿™é‡Œå¯ä»¥æ·»åŠ å„ç§æ’ä»¶...

ğŸ”¸ style 
    æ·»åŠ å®¹å™¨ container.  
    style âœ container + div âœ save


ğŸ”¸ row 
    è¡Œ.  ä¸€èˆ¬æ˜¯åˆ†æˆä¸€åˆ—.
    ä½†æ˜¯ä¸‹é¢çš„ è®¾å¤‡ä»€ä¹ˆæ„æ€. 
    æŠŠå±å¹•å®½åº¦ ç­‰åˆ†æˆ12åˆ†. 
    å¡«12 å°±è¯´æ˜è¿™row ä¼šå æ®æ•´ä¸ªå±å¹•å®½åº¦çš„ å…¨éƒ¨.
    å¡«6  å°±è¯´æ˜è¿™row ä¼šå æ®æ•´ä¸ªå±å¹•å®½åº¦çš„ 1/2.  è¿™æ—¶å€™ä¸€è¡Œå°±å¯ä»¥å¹¶åˆ—æ”¾ä¸¤ä¸ªrowäº†.

    å½“ä½ ç”¨æ‰‹æœºæ—¶ ä¸€èˆ¬ä¸€è¡Œä¸€ä¸ªrow
    å½“ä½ ç”¨ç”µè„‘æ—¶ ä¸€è¡Œå¯ä»¥æ”¾å¥½å‡ ä¸ªrow. å……åˆ†åˆ©ç”¨ç©ºé—´.


ğŸ”¸ image
å›¾ç‰‡


ğŸ”¸ text 
æ–‡æœ¬





è¿™äº›è®¾è®¡ä¸é‡è¦ . é‡è¦çš„æ˜¯ è¿™äº›æ•°æ®.
é¡¹ç›®æ”¹æ¥æ”¹å» å¾ˆä»»æ„å‡ºé”™ å°±éœ€è¦æ–°å»ºé¡¹ç›®.. é‡Œé¢çš„æ•°æ®éƒ½æ˜¯åœ¨æ•°æ®åº“ä¸­ è‚¯å®šæœ‰åŠæ³•
å¯ä»¥å¿«é€Ÿçš„ä»ä¹‹å‰çš„æ•°æ®åº“ å¯¼å‡ºæ•°æ®.. å¹¶æ–°å»ºé¡¹ç›®..

ğŸ”µ æ•°æ®åº“è¿ç§».

ğŸ”¸ æ•°æ®è¿ç§» ç®€å•.
django é¡¹ç›®æä¾›äº†ä¸€ä¸ªå¯¼å‡ºçš„æ–¹æ³• python manage.py dumpdata, 

ä¸æŒ‡å®š appname æ—¶é»˜è®¤ä¸ºå¯¼å‡ºæ‰€æœ‰çš„app
python manage.py dumpdata [appname] > appname_data.json

æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªé¡¹ç›®å« mysite, é‡Œé¢æœ‰ä¸€ä¸ª app å« blog ,æˆ‘ä»¬æƒ³å¯¼å‡º blog çš„æ‰€æœ‰æ•°æ®
python manage.py dumpdata blog > blog_dump.json

æ•°æ®å¯¼å…¥,ä¸éœ€è¦æŒ‡å®š appname
python manage.py loaddata blog_dump.json



ğŸ”¸ æ•°æ®è¿ç§» å¤æ‚ 






ğŸ”µ  åšå®¢ç½‘é¡µè®¾è®¡
è‡ªå¸¦çš„åšå®¢å¤ªä¸‘äº†..  news&blog çš„æ¨¡æ¿åœ¨å“ªå‘¢...
åœ¨è™šæ‹Ÿç¯å¢ƒé‡Œ
env/lib/python2.7/site-packages/aldryn_newsblog/templates/include ä¸‹é¢.
è¿™ä¸ª å°±è¦çœ‹å®˜æ–¹çš„æ•™ç¨‹äº†. http://www.mumuo.cn/2017/03/18/124/

é¦–å…ˆæ˜¯ article.html

ç”¨ä¸‹é¢çš„ 
<div class="post-preview">
    <a href="post.html">
        <h2 class="post-title">
            Man must explore, and this is exploration at its greatest
        </h2>
        <h3 class="post-subtitle">
            Problems look mighty small from 150 miles up
        </h3>
    </a>
    <p class="post-meta">Posted by <a href="#">Start Bootstrap</a> on September 24, 2014</p>
</div>
<hr>

ä»£æ›¿ 
{% if not article.published %} unpublished{% endif %}">
å’Œ
{% if detail_view %}
é‡Œé¢çš„å†…å®¹












ğŸ”µ é¦–é¡µ æ·»åŠ æœ€æ–°åšå®¢æ’ä»¶
latest articles è¿™ä¸ªæ’ä»¶ å¯ä»¥ç›´æ¥åœ¨é¦–é¡µ æ˜¾ç¤ºæœ€æ–°åšå®¢.

è¿˜å¯ä»¥æ·»åŠ åˆ†ç±»!!!  æ ‡ç­¾ç­‰ç­‰.... 


åˆ°è¿™é‡Œ åšå®¢å°±å·®ä¸å¤šäº†... å¯ä»¥æ­£å¼æ¥äº†..
ä¸ºäº†ä¿è¯æ•°æ®... 
é¡¹ç›®å®šæœŸå¤‡ä»½ åŠ ä¸Š æ•°æ®åº“å®šæœŸå¤‡ä»½ å°±æ²¡é—®é¢˜. 

é—®é¢˜æ˜¯æ­å»ºåœ¨æœ¬åœ°ä¸Šé¢ è¿˜æ˜¯æ­å»ºåˆ°æœåŠ¡å™¨ä¸Š.è¿˜æ˜¯ä¸¤è¾¹éƒ½æ­å»º...
æˆ–è€…å…ˆåœ¨æœ¬åœ°... ç„¶åæ•°æ®åŒæ­¥åˆ°æœåŠ¡å™¨..
é¡¹ç›®åŒæ­¥...ä¸éš¾..ä½†æ˜¯æ•°æ®åº“åŒæ­¥...å¥½åƒå¯ä»¥å®ç°.. 

æœåŠ¡å™¨ä¸Š mysqlæ˜¯ 5.1.73  æœ¬åœ°æ˜¯5.7.14 ...
æ®è¯´è·¨ç‰ˆæœ¬ä¹Ÿæ˜¯å¯ä»¥å®ç°çš„.




















â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸



ğŸ”µ  æ–°å»ºç®€å•æ¨¡å—

ğŸ”¸ æ–°å»ºæ¨¡å—  python manage.py startapp Module1

ğŸ”¸ é…ç½®æ¨¡å— INSTALLED_APPS æ·»åŠ  'Moudule1'



ğŸ”¸ é…ç½® Module1/views.py
ç›®çš„: åœ¨ç½‘é¡µä¸­æ˜¾ç¤º æ¬¢è¿å…‰ä¸´ å››ä¸ªå­—.

# -*- coding: utf-8 -*-

from django.shortcuts import render

from django.http import HttpResponse


def index(request):
    return HttpResponse(u"æ¬¢è¿å…‰ä¸´")



ğŸ”¸ é…ç½® mycms/urls.py
    ç›®çš„: æŠŠ module1 æ¨¡å—é‡Œé¢çš„views å¯¼å…¥åˆ°é¡¹ç›®æ€»urlé‡Œ.

    1. æ·»åŠ è¡Œ  from Module1 import views as Module1_views 
    2. urlpatterns é‡Œæ·»åŠ   url(r'^en/Module1', Module1_views.index), 
    3. æµè§ˆå™¨è®¿é—® http://127.0.0.1:8000/en/Module1/  å°±å¯ä»¥çœ‹åˆ° æ¬¢è¿å…‰ä¸´äº†.

æ‰€ä»¥è¦æ·»åŠ ä¸€ä¸ªç½‘é¡µ. ä¹Ÿå°±æ˜¯ å…ˆå†™view.  ç„¶åé…ç½®urls å°±å·®ä¸å¤šäº†.
è¿™åªæ˜¯ æœ€ç®€å•çš„æ¨¡å—. ä¸‹é¢æ¥å¤æ‚ä¸€ç‚¹çš„.


ğŸ”µ æ–°å»ºå¤åˆ¶æ¨¡å—.
å°±æ¯”å¦‚è¯´åšå®¢æ¨¡å—å§.

ğŸ”¸ åˆ›å»ºæ¨¡å—  python manage.py startapp blog

ğŸ”¸ é…ç½®æ¨¡å— INSTALLED_APPS æ·»åŠ  'blog',

ğŸ”¸ é…ç½®æ¨¡å‹ blog/models.py
å…¨éƒ¨æ”¹æˆå¦‚ä¸‹

from django.db import models
from django.utils import timezone

class Post(models.Model):
    author = models.ForeignKey('auth.User')
    title = models.CharField(max_length=200)
    text = models.TextField()
    created_date = models.DateTimeField(
            default=timezone.now)
    published_date = models.DateTimeField(
            blank=True, null=True)

    def publish(self):
        self.published_date = timezone.now()
        self.save()

    def __str__(self):
        return self.title


ğŸ”¸ åˆ›å»ºæ¨¡å‹æ•°æ®è¡¨
    ç±»ä¼¼git å…ˆcommot å†åŒæ­¥

    python manage.py makemigrations && python manage.py migrate


ğŸ”¸ ç®¡ç†åå° blog/admin.py
æ¯ä¸ªæ¨¡å— éƒ½æœ‰è‡ªå·±çš„ åå°!

# -*- coding: utf-8 -*-
from __future__ import unicode_literals

from django.contrib import admin
from .models import Post

admin.site.register(Post)

ğŸ”¸ ç™»å½•åå°  http://127.0.0.1:8000/en/admin/
å°±å¯ä»¥çœ‹åˆ°å¤šå‡ºäº†ä¸€ä¸ª Blog Posts 
åœ¨è¿™åå°é‡Œé¢å¯ä»¥æ·»åŠ  å„ç§åšå®¢..
å½“ç„¶æœ€å¥½æ˜¯åœ¨å‰ç«¯å¯ä»¥æ·»åŠ åšå®¢. 
å¦‚æœè¿™ä¸ªæ˜¯djangoé¡¹ç›®.è€Œä¸æ˜¯ djangocmsé¡¹ç›®.
é‚£ä¹ˆæµè§ˆå™¨è®¿é—® 127.0.0.1:8000 å°±å¯ä»¥æ·»åŠ åšå®¢äº†.
ä½†æ˜¯ç°åœ¨çš„ 127.0.0.1:8000 æ˜¯djangocmsçš„é¦–é¡µ. ä¸æ˜¯blogè¿™ä¸ªappçš„é¦–é¡µ.

ğŸ”¸ åå°åˆ›å»ºå‡ ç¯‡æ–‡ç« 
post1ã€post2...
åˆ›å»ºå¥½å æ€ä¹ˆæ‰èƒ½åœ¨å‰ç«¯ç½‘é¡µçœ‹åˆ° æ–°å»ºçš„postå‘¢..
å¥½åƒéœ€è¦ç”¨åˆ° apphook.. æŠŠappå’Œdjangocmsç»“åˆèµ·æ¥..

æœç´¢ django cms app integration





















â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸------â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸


ğŸ”¸ mycms/settings.py 

    â¦¿ CMS_TEMPLATES = (
        ## Customize this
        ('fullwidth.html', 'Fullwidth'),
        ('sidebar_left.html', 'Sidebar Left'),      âœ æˆ‘ä»¬åˆ é™¤è¿™è¡Œ. åªç•™ä¸€ä¸ªfullwidthæ¨¡æ¿å°±å¤Ÿäº†
        ('sidebar_right.html', 'Sidebar Right')     âœ æˆ‘ä»¬åˆ é™¤è¿™è¡Œ. åªç•™ä¸€ä¸ªfullwidthæ¨¡æ¿å°±å¤Ÿäº†
    )

    è¿™é‡Œå°±æ˜¯ æ¨¡æ¿äº†!!!  æ¨¡æ¿ä»€ä¹ˆæ„æ€å‘¢. å°±æ˜¯ä¸€ä¸ªç½‘ç«™å¯ä»¥æœ‰å¥½å‡ ç§é¡µé¢æ’ç‰ˆ! ä¸€ä¸ªæ¨¡æ¿å¯ä»¥çœ‹æˆä¸€ä¸ªä¸»é¢˜!!!
    ç”¨åˆ°çš„æ¨¡æ¿éƒ½éœ€è¦å†™åˆ°è¿™é‡Œ ç„¶åå°±å¯ä»¥åœ¨é¦–é¡µçš„ edit page âœ page âœ templates âœ æœ‰ä¸‰ç§æ¨¡æ¿å¯é€‰.(åˆ é™¤ä¸Šé¢ä¸¤è¡Œä¹‹åå°±åªæœ‰ä¸€ç§é€‰æ‹©äº†)
    æˆ‘ä»¬ä¸ºäº†ç®€å•. åªç”¨ä¸€ç§æ¨¡æ¿. å°±æ˜¯å…¨å±æ¨¡æ¿. æ¨¡æ¿è®¾è®¡ä¸ç®€å•çš„.è®¾è®¡ä¸€ä¸ªæ¨¡æ¿å‡ ä¹å°±æ˜¯é‡æ–°è®¾è®¡ç½‘ç«™äº†.
    å¦‚æœè¿™é‡Œæœ‰å¤šä¸ªæ¨¡æ¿. djangocms ä¼šé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªå½“æˆé»˜è®¤çš„æ¨¡æ¿!!!




    æˆ‘ä»¬å»çœ‹çœ‹mycmsçš„æ¨¡æ¿æ–‡ä»¶å¤¹ä¸‹ åˆ°åº•æœ‰ä»€ä¹ˆæ–‡ä»¶: 

    âœ˜âœ˜âˆ™ğ’— mycms tree templates
    templates
    â”œâ”€â”€ base.html
    â”œâ”€â”€ fullwidth.html
    â”œâ”€â”€ sidebar_left.html  âœ åˆ é™¤è¿™ä¸ªæ–‡ä»¶. å› ä¸ºæˆ‘ä»¬ç”¨ä¸åˆ°è¿™ä¸ªæ¨¡æ¿
    â””â”€â”€ sidebar_right.html âœ åˆ é™¤è¿™ä¸ªæ–‡ä»¶. å› ä¸ºæˆ‘ä»¬ç”¨ä¸åˆ°è¿™ä¸ªæ¨¡æ¿

    æ³¨æ„ base.html æ˜¯æ‰€æœ‰æ¨¡æ¿éƒ½ç”¨åˆ°çš„åŸºç¡€æ–‡ä»¶.  


ğŸ”¸ fullwidth.html æ–‡ä»¶å†…å®¹: 
        {% extends "base.html" %}
        {% load cms_tags %}

        {% block title %}{% page_attribute "page_title" %}{% endblock title %}

        {% block content %}
            {% placeholder "content" %}
        {% endblock content %}

    - sidebar_left.html å’Œ sidebar_right.html å’Œfullwidth.html å·®ä¸å¤šéƒ½æ˜¯ {% extends "base.html" %} å¼€å¤´çš„.
    è¿™è¯´æ˜ fullwidthã€sidebar_leftã€sidebar_right éƒ½æ˜¯åŸºäº base.html çš„.
    å¦‚æœè¯´ base.html æ˜¯ä¸ªäºº. é‚£ä¹ˆæ¨¡æ¿å°±æ˜¯é¢å…·. å¸¦ä¸åŒçš„é¢å…· å°±æœ‰äº†ä¸åŒçš„æ ·å­. å°±è¿™ä¸ªæ„æ€





ğŸ”µ ç”¨å‚è€ƒç½‘ç«™ä¸­çš„ full-width.html ä»£æ›¿djangcmsè‡ªå¸¦çš„ base.html
æ›¿ä»£å. å†ç¨å¾®ä¿®æ”¹ä¸‹ æˆ‘ä»¬çš„djangocmsé¦–é¡µå°±ä¼šçœ‹èµ·æ¥å’Œå‚è€ƒç½‘ç«™å·®ä¸å¤šäº†.
ç°åœ¨å°±å¾—åˆ†æ base.htmläº†.  æˆ‘ä»¬è¦æŠŠ base.htmlä¸­ å±äºæ¨¡æ¿çš„ä»£ç éƒ½æŒ‘å‡ºæ¥ æ”¾åˆ° full-width.htmlä¸­.









â¦¿ åˆ é™¤æ–‡ä»¶: base.html ç›´æ¥åˆ é™¤
â¦¿ é‡å‘½å:   full-width.html æ”¹æˆ base.html
ç°åœ¨æˆ‘ä»¬ç”¨çš„æ¨¡æ¿/ä¸»é¢˜æ˜¯ fullwidth.html . è€Œfullwidth.html ç¬¬ä¸€è¡Œå¼•å…¥çš„æ–‡ä»¶åæ˜¯ {% extends "base.html" %}
æˆ‘ä»¬æƒ³è¦ç”¨ æ¨¡æ¿ç½‘ç«™çš„full-width.html ä»£æ›¿é»˜è®¤çš„base.html  å°±éœ€è¦æŠŠ full-width.html æ”¹åæˆbase.html

â¦¿ ç°åœ¨æˆ‘ä»¬å¯ä»¥åˆ·æ–° 127.0.0.1:8000 ç½‘é¡µäº†
åº”è¯¥å’Œä¹‹å‰çš„ç½‘é¡µå˜åŒ–å¾ˆå¤šäº†. 
è¿™æ­¥å¦‚æœå‡ºé”™. ç”¨æµè§ˆå™¨çš„F12 æ¥æ’é”™. 


ç°åœ¨ ç‚¹å‡»ç½‘é¡µå³ä¸Šè§’çš„ä¸‰è§’å½¢ å°±å¯ä»¥æ˜¾ç¤ºéšè— djangoè‡ªåˆ°çš„å·¥å…·æ äº†.
ä¸‹é¢æˆ‘ä»¬ç”¨ django å·¥å…·æ ä¸­çš„ create æ·»åŠ å‡ ç¯‡æ–‡ç«  å¦‚: home about 
ç„¶åè¿™ä¸ª home about å°±ä¼šæ˜¾ç¤ºåœ¨ bootstrapçš„å·¥å…·æ ç›®ä¸­.


å…¶å® bootstrap å·¥å…·æ ä¸Šæ˜¾ç¤ºçš„å†…å®¹æ˜¯åœ¨ djangoå·¥å…·æ âœ example.com âœ pages âœ æœ‰ä¸ª menu é€‰é¡¹.
æ‰“å‹¾ å°±æ˜¾ç¤ºåœ¨ å·¥å…·æ ä¸Š.  ä¸æ‰“å‹¾å°±ä¸æ˜¾ç¤ºåœ¨å·¥å…·æ ä¸Š.



ğŸ”¸ ä¿®å¤ å·¥å…·æ ä¸Šçš„ start bootstrap æŒ‰é’®çš„é“¾æ¥.
é»˜è®¤æ˜¯é“¾æ¥åˆ° /en/index.htmlçš„. ä½†æ˜¯æˆ‘ä»¬djangoçš„ä¸»é¡µ é»˜è®¤æ˜¯

ç¼–è¾‘æ¨¡æ¿ä¸‹çš„ base.html
                <a class="navbar-brand" href="index.html">Start Bootstrap</a>
âœ                 <a class="navbar-brand" href="/">Start Bootstrap</a>





ğŸ”¸ æ¨¡æ¿é¦–é¡µ.
https://blackrockdigital.github.io/startbootstrap-modern-business/index.html
æˆ‘ä»¬å‘ç° æ¨¡æ¿é¦–é¡µå’Œ æ¨¡æ¿å…¶ä»–é¡µé¢æ˜¯æœ‰æ˜æ˜¾åŒºåˆ«çš„!!!
æ¨¡æ¿é¦–é¡µä¼°è®¡æ²¡æœ‰ç”¨åŸºç¡€æ¨¡æ¿, æ˜¯å•ç‹¬çš„ä¸€ä¸ªç½‘é¡µ.
è€Œæˆ‘ä»¬ç°åœ¨çš„ é¡¹ç›®ç½‘ç«™ æ‰€æœ‰ç½‘é¡µéƒ½æ˜¯ä¸€ä¸ªæ¨¡æ¿çš„.

è¦ç»™home å•ç‹¬ä¸€ä¸ªé¡µé¢. æˆ‘ä»¬å°±å¾—å¤§æ¦‚äº†è§£ä¸‹ djangoæ¨¡æ¿çš„è¿è¡ŒåŸç†.

é¦–å…ˆçœ‹mycmsç½‘ç«™çš„ç»„æˆå§

é¡¶éƒ¨å¯¼èˆªæ (Nav) + å†…å®¹(page content) + é¡µè„š(footer)



é¦–å…ˆ mycmsé¡¹ç›® æ‰€æœ‰ç½‘é¡µéƒ½éœ€è¦é¡¶éƒ¨çš„å·¥å…·æ +é¡µè„š. è¿™ä¸ªæ˜¯è‚¯å®šçš„.
ä½†æ˜¯ å†…å®¹è¿™å—å°±ä¸ä¸€å®šäº†.  é¦–é¡µçš„å†…å®¹å’Œéé¦–é¡µçš„å†…å®¹è‚¯å®šä¸ä¸€æ ·.
base.html ä¸­çš„ footer æ˜¯åŒ…å«åœ¨ page content æ ‡ç­¾ä¸­çš„. 
é¦–å…ˆæˆ‘ä»¬å°±è¦æŠŠfooter ä» page content ä¸­ç§»å‡ºæ¥.

ğŸ”¸ é¡µè„š ç§»å‡º <page content> å¤–.  


æ‰€ä»¥ å†…å®¹è¿™å—å°±ä¸èƒ½å†™åˆ°åŸºç¡€æ¨¡æ¿(base.html)é‡Œ.å› ä¸ºbase.html æ‰€æœ‰ç½‘é¡µéƒ½ä¼šè½½å…¥çš„æ¨¡æ¿.

é‚£ä¹ˆå†…å®¹è¿™å—æ€ä¹ˆåŠå‘¢! 




ğŸ”¸ æ›¿æ¢ page content 

æŠŠ <!-- Page Content --> é‡Œçš„æ‰€æœ‰å†…å®¹æ›¿æ¢æˆ:
{% block content %}{% endblock %}
ğŸ‘â€ğŸ—¨ è¿™è¡Œçš„æ„æ€å°±æ˜¯.  æ— è®ºä½ ä»€ä¹ˆæ—¶å€™çœ‹åˆ° ä¸€ä¸ªè„š contentçš„ block. 
å°±ç”¨ ä¸€ä¸ªäºŒçº§åŸºç¡€æ¨¡æ¿ æ¥ä»£æ›¿ {% block content %}{% endblock %} .
ä¹Ÿå°±æ˜¯è¯´ {% block content %}{% endblock %} å¯ä»¥çœ‹æˆä¸€ä¸ªäºŒçº§åŸºç¡€æ¨¡æ¿.
base.html æœ¬èº«å°±æ˜¯ä¸€ä¸ªåŸºç¡€æ¨¡æ¿


fullwith.html é‡Œé¢ä¹Ÿæœ‰ ä¸€ä¸ª block content.  

{% block content %}
	{% placeholder "content" %}
{% endblock content %}


ç®€å•è¯´. 	{% placeholder "content" %} 
base.html ä¸­  {% block content %}{% endblock %} è¿™è¡Œä¼šè¢« fullwidth.htmlä¸­çš„ {% placeholder "content" %} å–ä»£.

{% placeholder "content" %} åˆ°åº•æ˜¯ä»€ä¹ˆ ä»¥åå†è¯´...









    </nav>

    {% block content %}{% endblock %}
    
    <!-- Footer -->
    <footer>







=====
åŸºç¡€æ¨¡æ¿æ˜¯ base.html!!!!!!





ğŸ”µ æ¨¡æ¿
http://docs.django-cms.org/en/latest/how_to/templates.html


æ‰€æœ‰django cms ç½‘é¡µçš„åŸºç¡€æ¨¡æ¿å°±æ˜¯ base.html
æ‰€æœ‰ç½‘é¡µé¦–å…ˆåŠ è½½çš„è‚¯å®šæ˜¯ base.html








é»˜è®¤ä½¿ç”¨ settings.py cms_templates ä¸­çš„ç¬¬ä¸€ä¸ªå½“æ¨¡æ¿!!!

ä¸¤ç§æ¨¡æ¿æ ‡è®°:
placeholder 


ç°åœ¨ about å’Œ home é¡µé¢ä¸ä¸€æ ·äº†.. 





ğŸ”¸ æ¨¡æ¿ç»§æ‰¿
http://support.divio.com/academy/bonus-topics/understanding-template-inheritance

â—ï¸â—ï¸â—ï¸ å…¶å®ä¸€ä¸ªæ¨¡æ¿é‡Œé¢è¿˜å¯ä»¥ç”¨ å¦å¤–ä¸€ä¸ªæ¨¡æ¿. ç”¨blockæ¥æ‰©å±•å°±å¯ä»¥äº†.

æ‰€æœ‰çš„ç½‘é¡µ éƒ½ä¼šæœ‰ä¸€æ ·çš„å¤´å’Œè„š. ä½†æ˜¯å†…å®¹è‚¯å®šæ˜¯ä¸ä¸€æ ·çš„.
ä½†æ˜¯ä½œä¸ºåšå®¢. æ‰€æœ‰æ–‡ç« çš„å†…å®¹æ ¼å¼éƒ½ç´ ä¸€æ ·çš„. åª
åªæœ‰ä¸ªåˆ«homeã€aboutã€ç­‰ç­‰é¡µé¢çš„æ ¼å¼ å’Œ æ–‡ç« çš„å†…å®¹æ ¼å¼ä¸ä¸€æ ·.

æˆ‘ä»¬è¿˜æ˜¯æœ‰å¿…è¦å†™ä¸ª content.html æ¨¡æ¿ç»™æ–‡ç« ç”¨!!! 
è‡³äºhomeã€abouté¡µçš„å†…å®¹ åªèƒ½å•ç‹¬å†™ä¸€ä¸ªhtmlé¡µé¢äº†.



base.html ä¸€èˆ¬å†™ç½‘é¡µçš„ å¤´å’Œè„š.  é‚£ä¹ˆå†…å®¹æ€ä¹ˆåŠå‘¢.
content.html ä¸‹é¢è¿™æ ·å†™å°±å¯ä»¥äº†

{% extends "base.html" %}
{% load cms_tags %}

{% block content %}    
    {% placeholder content or %}        
        <p>This page has no content yet. Make sure you are in 
        <em>Edit</em> mode (hit the <strong>Edit page</strong>  
        button if required). Then switch to <em>Structure</em> mode.</p>
{% endplaceholder %}{% endblock content %}








ğŸ”µ  DjangoCMS å‚¨å¤‡çŸ¥è¯†

    ğŸ”¸ æ¨¡æ¿æ ‡è®°

    â¦¿ {% load cms_tags menu_tags sekizai_tags staticfiles %} 
                                âœ å¿…é¡»æ”¾æ¨¡æ¿æ–‡ä»¶ç¬¬ä¸€è¡Œ! è¯´æ˜è¿™æ˜¯ä¸€ä¸ªæ¨¡æ¿
                                âœ æ³¨æ„ staticfiles è¡¨ç¤ºæ¨¡æ¿é‡Œå¯ä»¥ç”¨é™æ€æ–‡ä»¶

    â¦¿  <title>{% page_attribute 'page_title' %} - Xu.Jian </title>
        ç½‘ç«™æ ‡é¢˜

    â¦¿ {% cms_toolbar %}         âœ é¡¶éƒ¨å·¥å…·æ .
                                âœ ä¸€èˆ¬æ”¾åˆ° <body> ä¸‹é¢ä¸€è¡Œ


    â¦¿ {% show_menu 0 100 100 100 %}  âœ èœå•æ¡ 
                ä¸€èˆ¬æ”¾åœ¨å¯¼èˆªæ é‡Œé¢çš„<ul></ul> æ ‡ç­¾é‡Œé¢

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                {% show_menu 0 100 100 100 %}
                </ul>
            </div>         



    â¦¿ {% render_block "css" %}  âœ åŠ è½½ djangocms ä»¥åŠæ‰€æœ‰æ’ä»¶ä¾èµ–çš„ css 
                                âœ ä¸€èˆ¬æ”¾åˆ° <head> ä¸Šé¢ä¸€è¡Œ

    â¦¿ {% render_block "js" %}   âœ åŠ è½½ djangocms ä»¥åŠæ‰€æœ‰æ’ä»¶ä¾èµ–çš„ js
                                âœ ä¸€èˆ¬æ”¾åˆ° </body> ä¸Šé¢ä¸€è¡Œ




    ğŸ”¸ é™æ€æ–‡ä»¶è·¯å¾„





    ğŸ”¸ é™æ€æ–‡ä»¶å¼•ç”¨
        cssã€js éƒ½éœ€è¦æ”¹æˆæ¨¡æ¿æ ‡è®° ç„¶åDjangocms æ¨¡æ¿æ‰èƒ½æ­£å¸¸å¼•ç”¨è¿™äº›æ–‡ä»¶.

        <link href="css/bootstrap.min.css" rel="stylesheet"> 
        âœ <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">

        <script src="js/jquery.js"></script>
        âœ <script src="{% static "js/jquery.js" %}"></script>






ğŸ”µ æ¨¡å—.

    ğŸ”¸ æ¨¡å—ç®€ä»‹
        djangocms æä¾›å¾ˆå¤šéå¸¸æœ‰ç”¨çš„æ¨¡å—å¦‚: bootstrap3 å’Œ news & blogs
        è¿™äº›æŸ¥çœ‹éƒ½å¯ä»¥åœ¨ DjangoCMS å®˜æ–¹å¸‚åœºé‡Œæ‰¾åˆ°:    https://marketplace.django-cms.org/en/addons/

        æ¯ä¸ªæ¨¡å—æœ‰è¯¦ç»†çš„å®‰è£…æ•™ç¨‹.
        ä¸€èˆ¬éƒ½æ˜¯ç”¨ pip install xxx æ¥å®‰è£…. 
        ç„¶åæ·»åŠ åˆ° INSTALLED_APPS ä¸­.
        ç„¶åé‡æ–°ç”Ÿæˆæ•°æ®è¡¨.
            python manage.py makemigrations
            python manage.py migrate

        è¿™äº›æ’ä»¶å…¶å®å°±æ˜¯ åˆ«äººå†™å¥½çš„æ¨¡å—. å’Œä½ è‡ªå·±æ–°å»ºæ¨¡å—ä¸€æ ·çš„ç”¨æ³•.



        â—ï¸ æ¯ä¸€é¡µéƒ½å¯ä»¥å•ç‹¬è®¾ç½®çš„!! åœ¨ page é‡Œé¢.   å¯ä»¥é€‰æ‹©å•ç‹¬æ¨¡æ¿,...ç­‰ç­‰!!!
        ä¸€ä¸ªæ¨¡æ¿å¥½åƒåªèƒ½ç”¨åœ¨ä¸€ä¸ªé¡µé¢ä¸Š..










    ğŸ”¸ æ’ä»¶   Aldryn Forms
        https://github.com/aldryn/aldryn-forms


        â¦¿ ä½œç”¨ ? åˆ›å»ºè¡¨æ ¼çš„???

        â¦¿ å®‰è£…: pip install aldryn-forms

        â¦¿ é…ç½® indtalled_apps
            â€¦
            'absolute',
            'aldryn_forms',
            'aldryn_forms.contrib.email_notifications',
            'captcha',
            'emailit',
            'filer',
            â€¦

        â¦¿ æ›´æ–°æ•°æ®åº“  python manage.py migrate

        â¦¿ ä½¿ç”¨


    ğŸ”¸ djangocms-blog
        ä¸€ä¸ªåšå®¢æ¨¡å—.
        å®˜ç½‘: https://www.nephila.it/it/blog/2014/02/07/blogging-django-cms-djangocms-blog/
        Github:  https://github.com/nephila/djangocms-blog
        å®‰è£…æ‰‹å†Œ: http://djangocms-blog.readthedocs.io/en/latest/installation.html


        â¦¿ pip install djangocms-blog

        â¦¿ INSTALLED_APPS = [
            ...
            'filer',
            'easy_thumbnails',
            'aldryn_apphooks_config',
            'cmsplugin_filer_image',
            'parler',
            'taggit',
            'taggit_autosuggest',
            'meta',
            'djangocms_blog',
            ...
            ]

        â¦¿ ./manage.py cms check

        â¦¿ python manage.py migrate







