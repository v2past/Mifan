


è™šæ‹Ÿä¸»æœº:
æ²¡æœ‰åŸŸåå¯ä»¥è·³è¿‡.



æ•°æ®åº“é…ç½®:

å…ˆGitHub ä¸‹è½½ss-panel æœ€æ–°é¢æ¿æ–‡ä»¶. dowload zip å°±å¯ä»¥äº†.
ç„¶åè§£å‹  é‡Œé¢æœ‰5ä¸ªsqlæ–‡ä»¶.

æƒ³åŠæ³•è¿åˆ°vpsä¸Šçš„æ•°æ®åº“. ç”¨è¿™å‡ ä¸ªæ–‡ä»¶.æ¥å»ºç«‹æ•°æ®åº“.
å°±ä¼šå»ºç«‹ä¸€ä¸ªæ•°æ®åº“ + 5ä¸ªè¡¨.










å®‰è£…è·¯å¾„:
    find / -name nginx.conf
    find / -name php.ini
    find / -name my.cnf
    find / -name httpd.conf
    è¿™ç§æ–¹æ³•ä¼šæ‰¾å‡ºå¥½å‡ ä¸ªæ–‡ä»¶. è¦ç¨å¾®åˆ¤æ–­ä¸‹å“ªä¸ªæ˜¯.

    [root@localhost ~]# find / -name nginx.conf
    /root/lnmp1.4/conf/nginx.conf
    /root/lnmp1.4/lnmp1.3-full/conf/nginx.conf
    /usr/local/nginx/conf/nginx.conf
    [root@localhost ~]#





â¤ï¸ PHPæ“ä½œå‘½ä»¤.

service php-fpm restart //é‡æ–°å¯åŠ¨php
chkconfig php-fpm on //è®¾ç½®phpå¼€æœºå¯åŠ¨




chattr +i .user.ini
ä¼šè®©ä½ åˆ é™¤ä¸äº†æ–‡ä»¶. å…ˆ
chattr -i .user.ini
å†åˆ é™¤.













â¤ï¸ VPS åŸºæœ¬ä¿¡æ¯.
çœ‹å†…å­˜:  free -m

ğŸ“Œ ç£ç›˜IOæµ‹è¯•: 
    [root@localhost ~]ğŸ”… dd if=/dev/zero of=test bs=64k count=4k oflag=dsync
    è®°å½•äº†4096+0 çš„è¯»å…¥
    è®°å½•äº†4096+0 çš„å†™å‡º
    268435456å­—èŠ‚(268 MB)å·²å¤åˆ¶ï¼Œ0.612572 ç§’ï¼Œ438 MB/ç§’

    [root@localhost ~]ğŸ”… dd if=/dev/zero of=test bs=8k count=256k conv=fdatasync
    è®°å½•äº†262144+0 çš„è¯»å…¥
    è®°å½•äº†262144+0 çš„å†™å‡º
    2147483648å­—èŠ‚(2.1 GB)å·²å¤åˆ¶ï¼Œ8.78009 ç§’ï¼Œ245 MB/ç§’


ğŸ“Œ ç½‘é€Ÿ: ä¸Šä¼ /ä¸‹è½½/ping

æœåŠ¡å™¨ä¸‹è½½é€Ÿåº¦: 
    æˆ–è€…ç”¨ä¸€é”®æµ‹è¯•è„šæœ¬æ¥æµ‹è¯•ä¸‹è½½ç­‰é€Ÿåº¦,ç›´æ¥è¿è¡Œå°±å¯ä»¥äº†:
    ğŸ”… wget freevps.us/downloads/bench.sh -O - -o /dev/null | bash

    ä¸‹è½½ä¸ªæ–‡ä»¶åˆ°æœåŠ¡å™¨è¯•è¯•å°±èƒ½çŸ¥é“ä¸‹è½½é€Ÿåº¦æ˜¯å¤šå°‘.
        [root@localhost ~]ğŸ”… wget https://cachefly.cachefly.net/100mb.test
        --2017-04-01 08:51:36--  https://cachefly.cachefly.net/100mb.test
        æ­£åœ¨è§£æä¸»æœº cachefly.cachefly.net... 205.234.175.175
        æ­£åœ¨è¿æ¥ cachefly.cachefly.net|205.234.175.175|:443... å·²è¿æ¥ã€‚
        å·²å‘å‡º HTTP è¯·æ±‚ï¼Œæ­£åœ¨ç­‰å¾…å›åº”... 200 OK
        é•¿åº¦ï¼š104857600 (100M) [application/octet-stream]
        æ­£åœ¨ä¿å­˜è‡³: â€œ100mb.testâ€

        100%[====================================>] 104,857,600 79.9M/s   in 1.3s

        2017-04-01 08:51:37 (79.9 MB/s) - å·²ä¿å­˜ â€œ100mb.testâ€ [104857600/104857600])


ğŸ“Œ æœåŠ¡å™¨å‡ºå£é€Ÿåº¦: ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»æœåŠ¡å™¨ä¸Šä¸‹è½½æ–‡ä»¶çš„é€Ÿåº¦.








ğŸ“Œ Ping å€¼














â¤ï¸  æ­å»º & é…ç½® SS

å¸®ç“¦å·¥çš„æ§åˆ¶å°é‡Œå°±å¯ä»¥å¿«æ·çš„å®‰è£…ss. è¿™æ­¥å°±ä¸è¯´äº†
å®‰è£…ss çœ‹è¿™ä¸ªæ•™ç¨‹ http://www.jianshu.com/p/36e55c289d65
æˆ‘ä»¬ä» å®‰è£…å¥½åå¼€å§‹è¯´.ä¹Ÿå°±æ˜¯è¿›è¡Œssé…ç½®.


ğŸ“Œ é…ç½®
  vi /etc/shadowsocks.json
  ä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªç©ºç™½æ–‡ä»¶.
  è¿™ä¸ªå°±æ˜¯ ss çš„ä¸»è¦é…ç½®æ–‡ä»¶.
  å¸å·ã€å¯†ç ã€ç«¯å£ã€åŠ å¯†æ–¹å¼ éƒ½æ˜¯è¿™é‡Œä¿®æ”¹çš„.

  å¤åˆ¶ä¸‹é¢çš„æ¨¡æ¿ ç¨å¾®ä¿®æ”¹ä¸‹å°±å¯ä»¥äº†.
  {
  "server":"0.0.0.0",
  "local_address": "127.0.0.1",
  "local_port":1080,
  "port_password":{
    "443":"mima12345",
    "6666":"mima12345"
  },
  "timeout":600,
  "method":"aes-256-cfb"
  }

  Server:         è‡ªå·±æœåŠ¡å™¨çš„å…¬ç½‘IPåœ°å€
  Port_password:  ç«¯å£(1-65535) æ¨è443;  åé¢æ˜¯å¯†ç .
  method          åŠ å¯†æ–¹å¼. 


ğŸ“Œ å¯åŠ¨/æš‚åœæœåŠ¡

    å‰å°å¯åŠ¨:  å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„æ—¥å¿—.
        ssserver -c /etc/shadowsocks.json

    åå°å¯åŠ¨:  
        å¼€å§‹ï¼šssserver -c /etc/shadowsocks.json -d start
        ç»“æŸï¼šssserver -c /etc/shadowsocks.json -d stop
        æœ‰é—®é¢˜ å°±å…ˆstop åœ¨start. 


ğŸ“Œ è®¾ç½®å¼€æœºå¯åŠ¨
    vi /etc/rc.localï¼Œ
    å°†é‡Œé¢çš„æœ€åå¸¦æœ‰ssserverçš„åˆ é™¤ï¼ˆåŒå‡»å­—æ¯dï¼‰ï¼Œ
    åŠ å…¥ssserver -c /etc/shadowsocks.json -d start,
    å†wqä¿å­˜é€€å‡ºã€‚

æŸ¥çœ‹å½“å‰ç‰ˆæœ¬: sslocal --version






ss å…è´¹æœåŠ¡ç½‘ç«™. æµé‡ç”¨ä¸æ‰. é‚£å°±åˆ†äº«å‡ºå».
ç®¡ç†å¸å· ä½ éœ€è¦ä¸€ä¸ª ç”¨æˆ·ç®¡ç†é¢æ¿: ss panerl




ss ç¼–è¾‘PAC ç½‘å€è§„åˆ™.
æœ‰æ—¶å€™è®¿é—®æŸä¸ªç½‘ç«™. ç”¨pac å‘ç°æ‰“ä¸å¼€. 
æœ‰æ‡’å¾—å»å¼€å…¨å±€.
è¿™æ—¶å€™å°±å¯ä»¥ ç”¨pacäº†.



















â¤ï¸ æœ¬åœ° SS å®¢æˆ·ç«¯
å¯é€‰å€¼:
Surge ç¥å™¨. æ”¶è´¹å‡ ç™¾å—.ä½†æ˜¯ç¡®å®æ˜¯æœ€å¥½çš„.æœ€ç¨³å®šæœ€å¿«çš„.
SpechtLite: Surgeé˜‰å‰²ç‰ˆæœ¬.å…è´¹,é…ç½®ç¨éº»çƒ¦ æ¯”å…¶ä»–å®¢æˆ·ç«¯å¿«å¾ˆå¤š!!!!
Shadowsocks  æœ€å¸¸è§äº†. ä¸æ€ä¹ˆå¥½, ä½†æ˜¯é…ç½®ç®€å•.



ğŸ“Œ Spechtlite æ•™ç¨‹: (Mac OS)

    1. open profile folder 
      .yamlåç¼€çš„æ–‡ä»¶å°±æ˜¯é…ç½®æ–‡ä»¶.
      ä½ å¯ä»¥ç»™ä¸€ä¸ªé…ç½®æ–‡ä»¶ è®¾ç½®ä¸€ä¸ªå¸å·.
      ä¹Ÿå¯ä»¥ç»™ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸‹è®¾ç½®å¤šä¸ªå¸å·.
      æˆ‘ä»¬é€‰ä¸€å¯¹ä¸€çš„.

    apdpter å»ºè®®ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªå¸å·.æ²¡ç”¨çš„adapteråˆ é™¤. 
    - id: adapter1
        type: ss
        host: hk02-14.ssv7.net
        port: 23192
        method: AES-256-CFB
        password: subWfpPAbchP

    2. Speed adapter 
      æŒ‡å®šçš„å»¶è¿Ÿæ—¶é—´å¯ä»¥æŒ‡å®šç”¨é‚£ä¸ªå¸å·
    åœ¨è®¾ç½®çš„ delay ï¼ˆå•ä½æ¯«ç§’ï¼‰åå‘é€è¯·æ±‚ï¼Œ
    å“ªä¸ªèŠ‚ç‚¹ç‡å…ˆå“åº”ï¼Œé‚£ç½‘ç»œè¯·æ±‚å°±èµ°å“ªä¸ªèŠ‚ç‚¹ï¼Œ

    3. é‡å¯è½¯ä»¶  é€‰æ‹©ä¸€ä¸ªé…ç½®æ–‡ä»¶å°±å¯ä»¥äº†.ä¹Ÿç®€å•çš„.




    è½¯ä»¶ä½¿ç”¨:
    Set as system proxy ï¼šè®¾ç½®ä¸ºç³»ç»Ÿä»£ç†ï¼Œæ­£å¸¸ä½¿ç”¨å¿…é¡»æ‰“å¼€ï¼›
    Allow Clients From Lan ï¼šå±€åŸŸç½‘å†…åˆ†äº«ä»£ç†ï¼Œåˆ«äººä¹Ÿèƒ½ç”¨ä½ ç”µè„‘ç¿»å¢™
    Use dev channel ï¼šæ¥å—æµ‹è¯•ç‰ˆæœ¬æ¨é€ï¼›


















æ˜¯ä¸€ä¸ªç½‘é¡µæœåŠ¡å™¨ï¼Œ æ€§èƒ½é«˜.å¤šè¿›ç¨‹æ¨¡å¼

å¯åŠ¨å ä¼šæœ‰ ä¸€ä¸ª master å’Œ å¤šä¸ª worker è¿›ç¨‹
master ç®¡ç† workerâ€¨




å®ƒèƒ½åå‘ä»£ç†HTTP, HTTPS, SMTP, POP3, IMAPçš„åè®®é“¾æ¥ï¼Œä»¥åŠä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨å’Œä¸€ä¸ªHTTPç¼“å­˜

ç‰ˆæœ¬: nginx -v

ç›¸è¾ƒäºApacheã€lighttpdå…·æœ‰å æœ‰å†…å­˜å°‘ï¼Œç¨³å®šæ€§é«˜ç­‰ä¼˜åŠ¿ã€‚

æ•´ä½“é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡æ˜¯nginxçš„ä¸€ä¸ªé‡å¤§ç‰¹ç‚¹ï¼Œç”šè‡³httpæœåŠ¡å™¨æ ¸å¿ƒåŠŸèƒ½ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡å—ã€‚è¦æ³¨æ„çš„æ˜¯ï¼šnginxçš„æ¨¡å—æ˜¯é™æ€çš„ï¼Œæ·»åŠ å’Œåˆ é™¤æ¨¡å—éƒ½è¦å¯¹nginxè¿›è¡Œé‡æ–°ç¼–è¯‘ï¼Œè¿™ä¸€ç‚¹ä¸Apacheçš„åŠ¨æ€æ¨¡å—å®Œå…¨ä¸åŒã€‚


å…¶ç‰¹ç‚¹æ˜¯å æœ‰å†…å­˜å°‘ï¼Œå¹¶å‘èƒ½åŠ›å¼ºï¼Œäº‹å®ä¸Šnginxçš„å¹¶å‘èƒ½åŠ›ç¡®å®åœ¨åŒç±»å‹çš„ç½‘é¡µæœåŠ¡å™¨ä¸­è¡¨ç°è¾ƒå¥½ï¼Œä¸­å›½å¤§é™†ä½¿ç”¨nginxç½‘ç«™ç”¨æˆ·æœ‰ï¼šç™¾åº¦ã€æ–°æµªã€ç½‘æ˜“ã€è…¾è®¯ç­‰ã€‚








?????
ğŸ”¸??????  vim /etc/dovecot/conf.d/10-ssl.conf
  ssl = no
  //ç¦ç”¨sslè®¤è¯:


posfixä½¿ç”¨æ–¹æ³•
/etc/rc.d/init.d/postfix start/stop/status/restart
Dovecotä½¿ç”¨æ–¹æ³•
/etc/rc.d/init.d/dovecot start/stop/status/restart
æœåŠ¡ç«¯æ—¥å¿—ç›®å½•ï¼š
cat /var/log/maillog








===============

åŸŸä¼ªè£…ã€‚
è¿™æ˜¯ä¸ºäº†è§£å†³é‚®ä»¶åœ°å€é‡‡ç”¨ç”¨æˆ·å@åŸŸåè¿™ä¸ªé—®é¢˜çš„ã€‚
é€šè¿‡myoriginé€‰é¡¹é…ç½®ä¼ªè£…åœ°å€ï¼š postconf -e "myorigin = $mydomain"



é…ç½®SSL
å¦‚æœä¸é…ç½®sslçš„è¯ï¼Œé‚®ä»¶åœ¨ç½‘ç»œä¸Šé€šè¿‡æ˜æ–‡ä¼ è¾“ï¼Œå®‰å…¨æ€§æä½ï¼Œæ‰€ä»¥sslæ˜¯éå¸¸æœ‰å¿…è¦çš„






â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸
ns åç§°æœåŠ¡è®°å½•  ä¹Ÿç”¨0214.help   å¾—åˆ°ä¸¤ä¸ª dns....
mx é‚®ä»¶äº¤æ¢è®°å½• ç”¨0214.help æŸ¥: â†’ mail.0214.help





MX é‚®ä»¶æœåŠ¡å™¨è®°å½•
NS åå­—æœåŠ¡å™¨è®°å½•
PTR åå‘è®°å½•





æŸ¥è¯¢dns è®°å½•


â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸â¬›ï¸

A åœ°å€è®°å½•(Ipv4)
AAAA åœ°å€è®°å½•ï¼ˆIpv6ï¼‰
CNAME åˆ«åè®°å½•
HINFO ç¡¬ä»¶é…ç½®è®°å½•ï¼ŒåŒ…æ‹¬CPUã€æ“ä½œç³»ç»Ÿä¿¡æ¯
ISDN åŸŸåå¯¹åº”çš„ISDNå·ç 
MB å­˜æ”¾æŒ‡å®šé‚®ç®±çš„æœåŠ¡å™¨
MG é‚®ä»¶ç»„è®°å½•
MINFO é‚®ä»¶ç»„å’Œé‚®ç®±çš„ä¿¡æ¯è®°å½•
MR æ”¹åçš„é‚®ç®±è®°å½•
MX é‚®ä»¶æœåŠ¡å™¨è®°å½•
NS åå­—æœåŠ¡å™¨è®°å½•
PTR åå‘è®°å½•
RP è´Ÿè´£äººè®°å½•
SRV TCPæœåŠ¡å™¨ä¿¡æ¯è®°å½•
TXT åŸŸåå¯¹åº”çš„æ–‡æœ¬ä¿¡æ¯

æ¯”å¦‚ä½ è¦æŸ¥è¯¢tool.chinaz.comçš„Aè®°å½•,é‚£åœ¨å‘½ä»¤ç¬¦æç¤ºçª—å£è¾“å…¥ï¼šnslookup -qt=a tool.chinaz.com åˆ™å¯ä»¥æŸ¥åˆ°ç›¸åº”çš„è®°å½•
å¦‚ä½•ä½¿ç”¨æŒ‡å®šDNSæœåŠ¡å™¨æŸ¥è¯¢?
è¯­æ³•ä¸º nslookup -qt=ç±»å‹ ç›®æ ‡åŸŸå æŒ‡å®šçš„DNSæœåŠ¡å™¨IPæˆ–åŸŸå
ä¾‹å­ï¼šnslookup -qt=A tool.chinaz.com 8.8.8.8



æ¯”å¦‚ mail.itr.cn
è¿™æ˜¯é‚®ç®±. ä¸€èˆ¬ç›´æ¥æŸ¥ itr.cn çš„mxè®°å½• 

âœ˜âœ˜âˆ™ğ’— Desktop nslookup -qt=MX itr.cn
*** Invalid option: qt=MX
Server:		202.96.209.5
Address:	202.96.209.5#53

Non-authoritative answer:
Name:	itr.cn
Address: 54.238.196.244


æ‰«æ ip
âœ˜âœ˜âˆ™ğ’— Desktop nmap 54.238.196.244

Starting Nmap 7.25BETA1 ( https://nmap.org ) at 2017-04-05 22:22 CST
Nmap scan report for ec2-54-238-196-244.ap-northeast-1.compute.amazonaws.com (54.238.196.244)
Host is up (0.35s latency).
Not shown: 995 filtered ports
PORT     STATE  SERVICE
21/tcp   closed ftp
22/tcp   open   ssh
80/tcp   open   http
443/tcp  closed https
8080/tcp closed http-proxy

Nmap done: 1 IP address (1 host up) scanned in 96.26 seconds





ç”¨ç½‘é¡µè§£æå‡ºæ¥çš„..202.177.31.253(ä¸­å›½é¦™æ¸¯)	

âœ˜âœ˜âˆ™ğ’— Desktop nmap 202.177.31.253

Starting Nmap 7.25BETA1 ( https://nmap.org ) at 2017-04-05 22:27 CST
Nmap scan report for mail.itr.cn (202.177.31.253)
Host is up (0.099s latency).
Not shown: 988 filtered ports
PORT     STATE  SERVICE
25/tcp   open   smtp
53/tcp   closed domain
80/tcp   open   http
110/tcp  open   pop3
143/tcp  open   imap
366/tcp  open   odmr
389/tcp  closed ldap
465/tcp  open   smtps
587/tcp  open   submission
993/tcp  open   imaps
995/tcp  open   pop3s
1000/tcp open   cadlock

Nmap done: 1 IP address (1 host up) scanned in 11.42 seconds


ä¸€çœ‹å°±æ˜¯è¿™ä¸ªå•Š..  æœ‰25ç«¯å£çš„...



âœ˜âœ˜âˆ™ğ’— Desktop nslookup -qt=MX mail.itr.cn
*** Invalid option: qt=MX
Server:		202.96.209.5
Address:	202.96.209.5#53

Non-authoritative answer:
Name:	mail.itr.cn
Address: 202.177.31.253









ğŸ”µ æ—¥å¿—åˆ†æ

        å¦‚æœè¿˜æ˜¯å¯åŠ¨ä¸æˆåŠŸå°±åªèƒ½çœ‹æ—¥å¿—äº†..
        ğŸ“Œ tail -f /tmp/zabbix_server.log
                tail æŸ¥çœ‹æ–‡ä»¶å°¾éƒ¨å‡ è¡Œ.
                -fæ˜¯å¥½ä¸œè¥¿.å¯ä»¥å®æ—¶ç›‘å¬æ–‡ä»¶å˜åŒ–å†…å®¹. 
                /tmp æ˜¯æ—¥å¿—çš„è·¯å¾„.



        ğŸ”¸shared memory
                å…±äº«å†…å­˜: æ–¹ä¾¿ä¸¤ä¸ªè¿›ç¨‹ç›´æ¥é€šä¿¡.  æ¯”å¦‚ server å’Œ agent éƒ½å®‰è£…åœ¨æœ¬åœ°çš„.
                æ­£å¸¸æ¥è¯´. ä¸¤ä¸ªè¿›ç¨‹è¦é€šä¿¡ éœ€è¦ å®¢æˆ·ç«¯æŠŠæ•°æ®å†™åˆ°ä¸€ä¸ªæ–‡ä»¶. ç„¶åæœåŠ¡å™¨å»è®¿é—®è¿™ä¸ªæ–‡ä»¶.
                æœ‰äº†å…±äº«å†…å­˜ ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å°±èƒ½ç›´æ¥äº’ç›¸è®¿é—®.


        ğŸ”¸semaphore: 
                ä¿¡å·é‡: è§£å†³èµ„æºå†²çªçš„ä¸œè¥¿.
                ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œ
                ä¸€å¼ å‡³å­ä¸€ä¸ªäººå·²ç»å äº†ï¼Œç¬¬äºŒä¸ªäººå°±ä¸èƒ½åï¼Œ
                ä½†å¦‚æœç¬¬äºŒä¸ªäººä¸çŸ¥é“è¿™å¼ å‡³å­å·²ç»ç»™äººåäº†ï¼Œè¿˜åä¸Šå»ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œ
                æ‰€ä»¥å¦‚æœæˆ‘ä»¬çº¦å®šå‡³å­è¢«å äº†å°±ç™»è®°åˆ°ä¸€ä¸ªæœ¬å­ä¸Šï¼Œ
                æ¯ä¸ªäººæƒ³å è¿™å¼ å‡³å­ä¹‹å‰éƒ½å…ˆçœ‹çœ‹è¿™ä¸ªæœ¬å­æœ‰æ²¡å†™ä¸‹ä¸œè¥¿ï¼Œå°±ä¸ä¼šå‡ºç°ä¸Šè¿°æƒ…å†µäº†ã€‚



        ğŸ”¸ IPC

                IPC   ä¸€ä¸ªè®©è¿›ç¨‹ä¹‹é—´å¯ä»¥é€šä¿¡çš„ä¸œè¥¿.
                        ipcs  (ipc show) æŸ¥çœ‹ipcä¿¡æ¯, å¦‚å†…å­˜å…±äº«.ä»¥åŠèµ„æºè¢«è°å ç”¨.. 
                        ipcrm (ipc rm)   åˆ é™¤æŸä¸ªä¸œè¥¿,å¦‚åˆ é™¤å…±äº«å†…å­˜.

                ipcs -c è¾“å‡ºipcå„ç§æ–¹å¼çš„åœ¨è¯¥ç³»ç»Ÿä¸‹çš„é™åˆ¶æ¡ä»¶ä¿¡æ¯

                ğŸ“Œipcs -m    æŸ¥çœ‹å…±äº«å†…å­˜ä¿¡æ¯.
                        IPC status from <running system> as of Sun Apr 16 09:40:33 CST 2017
                        T     ID     KEY        MODE       OWNER    GROUP
                        Shared Memory:
                        m 327680 0x0052e2c1 --rw------- postgres   daemon
                        m 393217 0x0052e6a9 --rw-------        v    staff

                                T:    å·¥å…·ç±»å‹: q æ¶ˆæ¯é˜Ÿåˆ—. må…±äº«å†…å­˜æ®µ  s ä¿¡å·é‡.
                                ID:   å·¥å…·é¡¹çš„æ ‡è¯†.
                                key:  å ç”¨å…±äº«å†…å­˜çš„å¤§å°??
                                mode: r æœ‰è¯»å–æƒé™ã€w æœ‰å†™å…¥æƒé™ã€a æœ‰ä¿®æ”¹æƒé™
                                owner: å·¥å…·é¡¹çš„æ‰€æœ‰è€….
                                group: å·¥å…·é¡¹çš„ ç»„å.


                ğŸ“Œsysctl -A | grep shm   æŸ¥çœ‹å½“å‰å…±äº«å†…å­˜è®¾ç½®
                        kern.sysv.shmall: 1024       âœ å…¨éƒ¨å…è®¸ä½¿ç”¨çš„å…±äº«å†…å­˜å¤§å°
                        kern.sysv.shmseg: 8
                        kern.sysv.shmmni: 32
                        kern.sysv.shmmin: 1
                        kern.sysv.shmmax: 4194304   âœ æŸè¿›ç¨‹æœ€å¤§å€¼. 4194304 byte = 4MB
                        machdep.pmap.hashmax: 18
                        security.mac.posixshm_enforce: 1
                        security.mac.sysvshm_enforce: 1


                ğŸ“ŒğŸ“Œ sudo sysctl -w kern.sysv.shmmax=16777216    âœ æ‰‹åŠ¨è®¾ç½®ä¸Šé™.     





ğŸ”µ debug 



ğŸ‘¹ âœ”ï¸ cannot open PID file [/tmp/zabbix_server.pid]: [13] Permission denied
        ç”¨sudo æ‰§è¡Œå¯åŠ¨ç›®å½•
        sudo zabbix_server


ğŸ‘¹ cannot allocate shared memory of size 16777216: [22] Invalid argument
        allocate åˆ†é…!!  ä¹Ÿå°±æ˜¯ä¸èƒ½åˆ†é… 16777216 è¿™ä¹ˆå¤§çš„å†…å­˜ æ¥åšå…±äº«å†…å­˜.
        é‚£å°±è°ƒæ•´shmmaxçš„æœ€å¤§å€¼.  


ğŸ‘¹ cannot allocate shared memory of size 16777216: [12] Cannot allocate memory
        cannot allocate shared memory for history cache
                ğŸ”¸Cannot allocate memory
                âœ˜âœ˜âˆ™ğ’— /etc sudo zabbix_server
                zabbix_server [38439]: user zabbix does not exist
                zabbix_server [38439]: cannot run as root!

                        ğŸ”¸cannot run as root!        æŠŠserver.conf é‡Œçš„ allowroot è®¾ç½®æˆ1 å°±ç”¨rootäº†.




ğŸ‘¹ [12] Cannot allocate memory


        Need to increase kernel.shmmax=134217728 which allows to use 128M for any cache related parameter in the zabbix server configuration.



ğŸ‘¹ cannot allocate shared memory for history cache




ğŸ‘¹cannot allocate shared memory of size 4194304: [28] No space left on device




ğŸ‘¹ connection to database 'zabbix' failed: [0] expected authentication request from server, but received M
å¡æ­»åœ¨è¿™äº†.  ä¸«çš„ å¼„äº†å¿«ä¸€å¤©äº†.... zabbix-serveræ”¾å¼ƒ.


